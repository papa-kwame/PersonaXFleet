2025-08-02 20:04:02.235 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 20:04:03.849 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-02 20:04:03.889 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:03.892 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-02 20:04:05.654 +00:00 [INF] Executed DbCommand (267ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-08-02 20:04:05.842 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-08-02 20:04:05.849 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-08-02 20:04:05.889 +00:00 [INF] Background queue processing started.
2025-08-02 20:04:06.042 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:04:06.313 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:06.695 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:06.773 +00:00 [INF] Now listening on: https://localhost:7092
2025-08-02 20:04:06.773 +00:00 [INF] Now listening on: http://localhost:5062
2025-08-02 20:04:07.015 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserActivities] ([ActivityType], [Description], [Details], [DurationMs], [EntityId], [EntityType], [ErrorMessage], [IpAddress], [IsSuccessful], [Module], [NewValues], [OldValues], [PageUrl], [SessionId], [Timestamp], [UserAgent], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-08-02 20:04:07.096 +00:00 [INF] Set user Papa-Kwame as inactive due to no recent activity
2025-08-02 20:04:07.097 +00:00 [INF] Set 1 users as inactive due to inactivity
2025-08-02 20:04:07.102 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 20:04:07.103 +00:00 [INF] Hosting environment: Development
2025-08-02 20:04:07.103 +00:00 [INF] Content root path: C:\Users\pc\PersonaX\PersonaXFleet
2025-08-02 20:04:08.197 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-08-02 20:04:08.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 495.4857ms
2025-08-02 20:04:08.694 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-08-02 20:04:08.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 13.5512ms
2025-08-02 20:04:08.714 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-08-02 20:04:08.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 164.3649ms
2025-08-02 20:04:08.968 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-08-02 20:04:09.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.5198ms
2025-08-02 20:04:18.774 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/login - null null
2025-08-02 20:04:18.786 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:18.788 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/login - 204 null null 14.6665ms
2025-08-02 20:04:18.790 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/auth/login - application/json 55
2025-08-02 20:04:18.795 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:18.821 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-08-02 20:04:18.854 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PersonaXFleet.Models.LoginModel) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:04:18.968 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-02 20:04:19.071 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:19.079 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:19.094 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserActivities] ([ActivityType], [Description], [Details], [DurationMs], [EntityId], [EntityType], [ErrorMessage], [IpAddress], [IsSuccessful], [Module], [NewValues], [OldValues], [PageUrl], [SessionId], [Timestamp], [UserAgent], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-08-02 20:04:19.155 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:04:19.196 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RouteId], [r].[Name] AS [RouteName], [u].[Role]
FROM [UserRouteRoles] AS [u]
INNER JOIN [Routes] AS [r] ON [u].[RouteId] = [r].[Id]
WHERE [u].[UserId] = @__user_Id_0
2025-08-02 20:04:19.224 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:04:19.284 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:19.293 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet) in 435.5984ms
2025-08-02 20:04:19.294 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-08-02 20:04:19.301 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/auth/login - 200 null application/json; charset=utf-8 510.5445ms
2025-08-02 20:04:19.308 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:04:19.309 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:19.309 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:19.310 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:19.310 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.310 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.310 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.310 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.311 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.1988ms
2025-08-02 20:04:19.311 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.5851ms
2025-08-02 20:04:19.311 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 2.7422ms
2025-08-02 20:04:19.311 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.6565ms
2025-08-02 20:04:19.317 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:04:19.317 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 377
2025-08-02 20:04:19.318 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:04:19.318 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:04:19.318 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.320 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.320 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.321 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.322 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:19.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.337 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:04:19.338 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:19.337 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:19.339 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:19.339 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:04:19.339 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:04:19.340 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.340 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.340 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.340 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.340 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:19.340 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:19.379 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:19.379 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:19.379 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:19.379 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:19.379 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:19.421 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:19.424 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:19.428 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:19.432 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:19.432 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 93.0656ms
2025-08-02 20:04:19.432 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 93.1544ms
2025-08-02 20:04:19.433 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.432 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 91.9551ms
2025-08-02 20:04:19.433 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.433 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.433 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 115.6349ms
2025-08-02 20:04:19.433 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 94.2584ms
2025-08-02 20:04:19.433 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 116.3158ms
2025-08-02 20:04:19.434 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 93.1655ms
2025-08-02 20:04:19.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.434 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 96.5212ms
2025-08-02 20:04:19.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:19.435 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 95.6841ms
2025-08-02 20:04:19.435 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 116.8991ms
2025-08-02 20:04:19.443 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 105.6349ms
2025-08-02 20:04:19.443 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:19.444 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 126.2315ms
2025-08-02 20:04:19.485 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:04:19.486 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.486 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.7941ms
2025-08-02 20:04:19.487 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:19.487 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:04:19.487 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:19.487 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.487 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 0.8339ms
2025-08-02 20:04:19.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.8342ms
2025-08-02 20:04:19.491 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:04:19.491 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:19.491 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:04:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.492 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.6269ms
2025-08-02 20:04:19.492 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:19.492 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 0.7709ms
2025-08-02 20:04:19.492 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 5.5146ms
2025-08-02 20:04:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.493 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.8035ms
2025-08-02 20:04:19.497 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:19.497 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.497 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.498 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:19.498 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 5.962ms
2025-08-02 20:04:19.507 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:19.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:04:19.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:04:19.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:19.509 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.509 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.509 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.509 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.509 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:04:19.509 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:19.509 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:19.509 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:04:19.511 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:04:19.515 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:19.515 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:19.516 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:19.516 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:19.547 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:19.604 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:04:19.608 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:19.611 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 99.8553ms
2025-08-02 20:04:19.611 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:19.611 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 114.897ms
2025-08-02 20:04:19.615 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:19.616 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.616 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:19.616 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:04:19.621 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:04:19.622 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:19.623 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.3279ms
2025-08-02 20:04:19.623 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:19.623 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 7.7457ms
2025-08-02 20:04:19.660 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 163.9153ms
2025-08-02 20:04:19.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:19.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 173.343ms
2025-08-02 20:04:19.686 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:19.686 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.687 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:19.687 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:19.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:19.702 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.703 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 15.7458ms
2025-08-02 20:04:19.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:19.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 17.0528ms
2025-08-02 20:04:19.761 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:04:19.762 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.762 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:19.762 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:04:19.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:19.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:19.775 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:19.775 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:19.775 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 12.8047ms
2025-08-02 20:04:19.775 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:19.776 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 14.8888ms
2025-08-02 20:04:19.851 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:04:19.851 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:19.852 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.852 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 338.4531ms
2025-08-02 20:04:19.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:04:19.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 347.4622ms
2025-08-02 20:04:19.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:04:19.857 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.857 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:04:19.857 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:19.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:04:19.869 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.869 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 11.601ms
2025-08-02 20:04:19.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:04:19.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 12.7953ms
2025-08-02 20:04:19.871 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:19.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 356.3643ms
2025-08-02 20:04:19.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:04:19.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 365.2181ms
2025-08-02 20:04:19.874 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:04:19.875 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.875 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:04:19.875 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:19.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.879 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:19.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 7.1826ms
2025-08-02 20:04:19.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:04:19.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 8.5649ms
2025-08-02 20:04:19.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:19.902 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:19.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:19.902 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:19.904 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 388.7136ms
2025-08-02 20:04:19.905 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:19.905 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 397.0427ms
2025-08-02 20:04:19.907 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:19.909 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:19.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 7.8844ms
2025-08-02 20:04:19.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:19.911 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 9.5804ms
2025-08-02 20:04:19.992 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:20.004 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.004 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 13.1944ms
2025-08-02 20:04:20.035 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:04:20.036 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.036 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:20.036 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:04:20.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:04:20.037 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:04:20.037 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 45.4722ms
2025-08-02 20:04:20.037 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 1.0649ms
2025-08-02 20:04:20.038 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:04:20.037 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:20.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:20.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:04:20.038 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:04:20.039 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.039 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.039 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 2.5848ms
2025-08-02 20:04:20.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:04:20.047 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:20.049 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:20.049 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:20.049 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:20.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:04:20.054 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.054 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:04:20.070 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:20.079 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:20.103 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:04:20.105 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.106 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 56.87ms
2025-08-02 20:04:20.106 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:04:20.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 68.5454ms
2025-08-02 20:04:20.122 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:20.123 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.123 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:04:20.124 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:20.124 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:04:20.130 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.138 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:04:20.144 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:20.146 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 98.7831ms
2025-08-02 20:04:20.144 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:20.150 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:04:20.151 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 114.5012ms
2025-08-02 20:04:20.160 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:04:20.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.163 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 38.611ms
2025-08-02 20:04:20.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:04:20.164 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 42.2462ms
2025-08-02 20:04:20.172 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:04:20.171 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:04:20.172 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.173 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:04:20.173 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:20.173 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.173 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 93.6168ms
2025-08-02 20:04:20.173 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:04:20.174 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 123.8342ms
2025-08-02 20:04:20.178 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 127.9ms
2025-08-02 20:04:20.178 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:04:20.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 144.8803ms
2025-08-02 20:04:20.183 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:04:20.183 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.184 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:04:20.184 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:20.189 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:04:20.190 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:04:20.190 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:04:20.190 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.191 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 18.47ms
2025-08-02 20:04:20.191 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:04:20.192 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.193 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:04:20.193 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:20.193 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 22.302ms
2025-08-02 20:04:20.205 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:04:20.206 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.206 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 22.3911ms
2025-08-02 20:04:20.206 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:04:20.209 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 24.2369ms
2025-08-02 20:04:20.241 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:04:20.242 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:20.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 50.0233ms
2025-08-02 20:04:20.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:04:20.244 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 53.4631ms
2025-08-02 20:04:20.251 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.271 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 222.4933ms
2025-08-02 20:04:20.271 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:20.272 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 235.0135ms
2025-08-02 20:04:20.275 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:04:20.275 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:20.276 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:20.276 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:20.287 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:04:20.289 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:20.292 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 15.2978ms
2025-08-02 20:04:20.292 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:20.292 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 18.1139ms
2025-08-02 20:04:28.257 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:28.258 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:28.259 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.259 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.259 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.8931ms
2025-08-02 20:04:28.259 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 2.4624ms
2025-08-02 20:04:28.262 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 387
2025-08-02 20:04:28.263 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 387
2025-08-02 20:04:28.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:28.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:28.265 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:28.265 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:28.266 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:28.266 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:28.267 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 2.2403ms
2025-08-02 20:04:28.267 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 2.2945ms
2025-08-02 20:04:28.267 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:28.267 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:28.268 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 5.0529ms
2025-08-02 20:04:28.268 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 4.9902ms
2025-08-02 20:04:28.322 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.322 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.322 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:04:28.322 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:28.323 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.322 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:04:28.323 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.324 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 2.0963ms
2025-08-02 20:04:28.324 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.324 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.869ms
2025-08-02 20:04:28.324 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.324 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.325 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:28.325 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:04:28.325 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:04:28.325 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:28.328 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.329 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.329 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:04:28.333 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.333 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.334 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:28.339 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.340 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.7363ms
2025-08-02 20:04:28.340 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:28.341 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 18.5766ms
2025-08-02 20:04:28.344 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:28.344 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.344 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.345 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:28.345 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:28.351 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:28.358 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.360 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.8629ms
2025-08-02 20:04:28.360 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:28.361 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 17.564ms
2025-08-02 20:04:28.371 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:28.383 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.383 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.383 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.383 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.383 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 49.7769ms
2025-08-02 20:04:28.384 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:04:28.384 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 49.8261ms
2025-08-02 20:04:28.384 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:04:28.384 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 61.7835ms
2025-08-02 20:04:28.384 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 61.8407ms
2025-08-02 20:04:28.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:04:28.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:04:28.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:04:28.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:04:28.390 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.390 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.398 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.398 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.401 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.402 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 12.1683ms
2025-08-02 20:04:28.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 12.1413ms
2025-08-02 20:04:28.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:04:28.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:04:28.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 14.8525ms
2025-08-02 20:04:28.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 14.7896ms
2025-08-02 20:04:28.410 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.411 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.413 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 68.1596ms
2025-08-02 20:04:28.413 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:04:28.413 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 85.8227ms
2025-08-02 20:04:28.415 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.416 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.416 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:04:28.416 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.419 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.420 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.420 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.4056ms
2025-08-02 20:04:28.423 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:28.424 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.424 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.425 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:04:28.428 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-08-02 20:04:28.427 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-08-02 20:04:28.428 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:04:28.428 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.428 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.429 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.429 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:04:28.429 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:04:28.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 12.7445ms
2025-08-02 20:04:28.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:04:28.429 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 14.332ms
2025-08-02 20:04:28.433 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.434 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.434 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.511 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-02 20:04:28.534 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:04:28.537 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.539 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 106.27ms
2025-08-02 20:04:28.540 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:04:28.540 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 116.8537ms
2025-08-02 20:04:28.543 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:28.547 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:28.548 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:04:28.548 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:04:28.552 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:04:28.557 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:04:28.558 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:28.560 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 11.8768ms
2025-08-02 20:04:28.561 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:04:28.562 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 19.0156ms
2025-08-02 20:04:28.578 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:04:28.625 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:28.631 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 197.5241ms
2025-08-02 20:04:28.632 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:04:28.632 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 204.6909ms
2025-08-02 20:04:28.644 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:28.645 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 211.2794ms
2025-08-02 20:04:28.645 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:04:28.645 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 218.0719ms
2025-08-02 20:04:29.865 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 389
2025-08-02 20:04:29.865 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 389
2025-08-02 20:04:29.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.866 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:29.866 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:29.866 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:29.866 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:29.867 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:29.867 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:29.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.4645ms
2025-08-02 20:04:29.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:29.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.5702ms
2025-08-02 20:04:29.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:29.868 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.8102ms
2025-08-02 20:04:29.868 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 3.4627ms
2025-08-02 20:04:29.923 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:29.923 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:29.923 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:29.923 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:29.923 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.923 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.924 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.924 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.8757ms
2025-08-02 20:04:29.924 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.924 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.949ms
2025-08-02 20:04:29.924 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:29.924 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:29.924 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-08-02 20:04:29.924 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:29.924 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:29.924 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.925 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-08-02 20:04:29.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:29.982 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:29.982 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:29.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-08-02 20:04:29.985 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:29.994 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:29.994 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:29.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 71.4417ms
2025-08-02 20:04:29.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:29.996 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 73.0526ms
2025-08-02 20:04:29.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 76.6386ms
2025-08-02 20:04:30.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:30.002 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 78.7154ms
2025-08-02 20:04:30.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:04:30.002 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:30.003 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:04:30.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:04:30.009 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:04:30.009 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:30.011 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 9.1891ms
2025-08-02 20:04:30.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:04:30.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 10.7562ms
2025-08-02 20:04:30.013 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:30.015 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:30.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 10.7475ms
2025-08-02 20:04:30.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:04:30.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 15.7557ms
2025-08-02 20:04:30.039 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:30.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 44.8455ms
2025-08-02 20:04:30.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-08-02 20:04:30.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 59.4027ms
2025-08-02 20:04:30.041 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:30.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:30.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 29.0228ms
2025-08-02 20:04:30.042 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-08-02 20:04:30.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-08-02 20:04:30.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 118.2124ms
2025-08-02 20:04:30.042 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.044 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-08-02 20:04:30.044 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-08-02 20:04:30.045 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.048 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:30.048 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:30.048 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.049 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.4185ms
2025-08-02 20:04:30.056 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:30.056 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:04:30.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:30.057 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:30.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 15.7495ms
2025-08-02 20:04:30.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 13.4011ms
2025-08-02 20:04:30.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-08-02 20:04:30.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-08-02 20:04:30.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 16.7975ms
2025-08-02 20:04:30.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 14.5664ms
2025-08-02 20:04:30.063 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.141 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:04:30.142 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.142 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 78.9433ms
2025-08-02 20:04:30.142 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:30.142 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 86.0736ms
2025-08-02 20:04:30.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:30.144 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:30.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:30.145 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:30.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:04:30.149 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:30.149 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 4.4024ms
2025-08-02 20:04:30.149 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:30.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 5.427ms
2025-08-02 20:04:34.145 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:34.148 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.148 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 2.6657ms
2025-08-02 20:04:34.149 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:04:34.150 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.150 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.5158ms
2025-08-02 20:04:34.156 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 389
2025-08-02 20:04:34.156 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 389
2025-08-02 20:04:34.157 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.157 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:34.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:34.158 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.158 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.159 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:34.159 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:04:34.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 2.7342ms
2025-08-02 20:04:34.160 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 2.6399ms
2025-08-02 20:04:34.161 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:34.161 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:04:34.161 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 5.0096ms
2025-08-02 20:04:34.161 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 5.0277ms
2025-08-02 20:04:34.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:04:34.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:04:34.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:04:34.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:04:34.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:04:34.251 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.251 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.251 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.251 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.251 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:04:34.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:04:34.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:04:34.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:04:34.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:34.251 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.258 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.258 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.258 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:04:34.258 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.259 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.273 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.281 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:04:34.286 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:04:34.286 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.287 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:34.287 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.287 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 35.9639ms
2025-08-02 20:04:34.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:34.288 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 37.5181ms
2025-08-02 20:04:34.301 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:04:34.326 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.326 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:04:34.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 48.0519ms
2025-08-02 20:04:34.335 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:04:34.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 49.8244ms
2025-08-02 20:04:34.380 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:04:34.398 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:04:34.400 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:04:34.439 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:04:34.439 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.444 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.452 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 193.1528ms
2025-08-02 20:04:34.452 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:04:34.452 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 201.7429ms
2025-08-02 20:04:34.454 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 195.599ms
2025-08-02 20:04:34.454 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:04:34.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 204.0778ms
2025-08-02 20:04:34.456 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:04:34.457 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.457 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:04:34.458 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:04:34.458 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.458 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.458 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:04:34.458 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.460 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:04:34.465 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:04:34.467 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:04:34.467 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.470 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 11.2637ms
2025-08-02 20:04:34.470 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:04:34.471 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 13.7429ms
2025-08-02 20:04:34.471 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.472 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 13.6768ms
2025-08-02 20:04:34.472 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:04:34.472 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 16.2955ms
2025-08-02 20:04:34.487 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:04:34.488 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:34.499 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 239.5152ms
2025-08-02 20:04:34.499 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:04:34.499 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 248.8681ms
2025-08-02 20:04:34.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:04:34.502 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.502 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:04:34.502 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.506 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:04:34.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:04:34.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:04:34.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:04:34.516 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:04:34.516 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:34.516 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 14.1132ms
2025-08-02 20:04:34.516 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:04:34.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 15.6274ms
2025-08-02 20:04:34.524 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:04:34.525 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.532 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 274.0303ms
2025-08-02 20:04:34.533 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:04:34.533 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 282.532ms
2025-08-02 20:04:34.535 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:04:34.535 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:34.536 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:04:34.536 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:04:34.539 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:04:34.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:04:34.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:34.542 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 6.2904ms
2025-08-02 20:04:34.542 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:04:34.542 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 7.2623ms
2025-08-02 20:04:35.131 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:04:35.132 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:35.132 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.8427ms
2025-08-02 20:04:35.133 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:04:35.133 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:35.134 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:35.134 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:04:35.136 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:35.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:35.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:35.141 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:35.141 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 7.5792ms
2025-08-02 20:04:35.141 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:35.141 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 8.6364ms
2025-08-02 20:04:37.322 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:04:37.323 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:37.323 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:37.323 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:04:37.328 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:04:37.333 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:04:37.339 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:04:37.340 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:37.340 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 16.8121ms
2025-08-02 20:04:37.340 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:04:37.340 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 18.5222ms
2025-08-02 20:04:49.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:49.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:49.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:49.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:04:49.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:04:49.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:04:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:49.493 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:04:49.493 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:04:49.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:04:49.500 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:04:49.500 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.5092ms
2025-08-02 20:04:49.501 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:04:49.501 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 9.0954ms
2025-08-02 20:04:49.505 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:04:49.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:49.507 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.8315ms
2025-08-02 20:04:49.507 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:04:49.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 15.2848ms
2025-08-02 20:04:49.508 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:04:49.516 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:04:49.538 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:04:49.549 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.1108ms
2025-08-02 20:04:49.549 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:04:49.549 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 57.5569ms
2025-08-02 20:05:19.490 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:19.490 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:19.490 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:19.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:05:19.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:05:19.491 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:05:19.491 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:05:19.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:19.494 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:05:19.495 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:05:19.511 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:05:19.511 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:05:19.513 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:05:19.514 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.0864ms
2025-08-02 20:05:19.514 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:05:19.515 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 24.4553ms
2025-08-02 20:05:19.515 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:05:19.515 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.8052ms
2025-08-02 20:05:19.516 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:05:19.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 26.5245ms
2025-08-02 20:05:19.543 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:05:19.543 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:05:19.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.5607ms
2025-08-02 20:05:19.543 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:05:19.543 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 53.1683ms
2025-08-02 20:05:44.263 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:05:44.264 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:05:44.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:44.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:44.264 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.49ms
2025-08-02 20:05:44.264 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.4463ms
2025-08-02 20:05:44.270 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:05:44.270 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:05:44.270 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:44.270 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:05:44.270 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:05:44.270 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:44.273 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:05:44.273 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:05:44.280 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:05:44.280 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:05:44.284 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:05:44.284 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:05:44.293 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:05:44.293 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:05:44.294 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:05:44.294 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 23.6206ms
2025-08-02 20:05:44.294 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:05:44.294 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 24.1486ms
2025-08-02 20:05:44.303 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:05:44.303 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 29.9472ms
2025-08-02 20:05:44.303 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:05:44.304 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 33.7871ms
2025-08-02 20:05:49.498 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:49.499 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:49.498 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:05:49.499 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:49.499 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:49.499 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:05:49.499 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:05:49.499 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:05:49.499 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:05:49.499 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:05:49.499 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:05:49.500 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:05:49.537 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:05:49.539 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:05:49.539 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:05:49.539 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.1193ms
2025-08-02 20:05:49.539 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:05:49.540 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:05:49.540 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:05:49.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 42.5022ms
2025-08-02 20:05:49.541 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.2291ms
2025-08-02 20:05:49.541 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:05:49.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 49.6246ms
2025-08-02 20:05:49.549 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:05:49.549 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.7929ms
2025-08-02 20:05:49.549 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:05:49.550 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 51.33ms
2025-08-02 20:06:19.314 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:06:19.314 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:19.314 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.6636ms
2025-08-02 20:06:19.316 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:06:19.316 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:19.317 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:19.317 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:06:19.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:06:19.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:06:19.325 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:06:19.325 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:19.325 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 8.1407ms
2025-08-02 20:06:19.325 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:19.325 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 9.4437ms
2025-08-02 20:06:19.543 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:19.544 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:19.544 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:19.544 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:19.544 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:19.544 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:06:19.544 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:06:19.544 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:19.544 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:06:19.544 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:06:19.544 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:06:19.544 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:06:19.558 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:06:19.559 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:19.562 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.6551ms
2025-08-02 20:06:19.563 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:06:19.563 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:06:19.564 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 20.1659ms
2025-08-02 20:06:19.565 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:19.572 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.9031ms
2025-08-02 20:06:19.572 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:06:19.572 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 29.19ms
2025-08-02 20:06:19.617 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:06:19.617 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:19.617 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 73.185ms
2025-08-02 20:06:19.617 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:06:19.617 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 73.6861ms
2025-08-02 20:06:34.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:06:34.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:06:34.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:06:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:34.265 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:34.265 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:34.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:06:34.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:06:34.266 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:06:34.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:06:34.266 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:06:34.266 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:06:34.267 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:06:34.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:06:34.268 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:34.268 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:34.270 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:06:34.270 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:06:34.270 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:06:34.270 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:06:34.292 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:06:34.292 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:34.295 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 25.1695ms
2025-08-02 20:06:34.296 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:06:34.297 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:06:34.301 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:34.302 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 31.6309ms
2025-08-02 20:06:34.302 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:06:34.302 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:06:34.303 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 36.4446ms
2025-08-02 20:06:34.310 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:06:34.322 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:06:34.325 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 58.4883ms
2025-08-02 20:06:34.328 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:06:34.332 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:06:34.332 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:06:34.333 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:34.336 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 69.9486ms
2025-08-02 20:06:34.336 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:06:34.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 72.1879ms
2025-08-02 20:06:34.338 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:06:34.339 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:34.341 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:06:34.341 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:34.342 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 75.4572ms
2025-08-02 20:06:34.342 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:06:34.342 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 77.9526ms
2025-08-02 20:06:34.343 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 76.8515ms
2025-08-02 20:06:34.343 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:06:34.343 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 79.016ms
2025-08-02 20:06:45.523 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:06:45.525 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:45.526 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 3.2452ms
2025-08-02 20:06:45.534 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:06:45.534 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:45.534 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:45.534 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:06:45.542 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:06:45.549 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:06:45.557 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:06:45.557 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:45.557 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 22.5278ms
2025-08-02 20:06:45.557 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:45.557 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 27.454ms
2025-08-02 20:06:49.040 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:06:49.041 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:49.041 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:49.041 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:06:49.044 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:06:49.047 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:06:49.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:06:49.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:49.049 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 8.2994ms
2025-08-02 20:06:49.049 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:06:49.050 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 9.2647ms
2025-08-02 20:06:49.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:49.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:49.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:06:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:06:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:06:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:06:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:06:49.495 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:06:49.495 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:06:49.495 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:06:49.505 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:06:49.505 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:06:49.507 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:06:49.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:49.507 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.4772ms
2025-08-02 20:06:49.507 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:06:49.507 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.5276ms
2025-08-02 20:06:49.507 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:06:49.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 12.5377ms
2025-08-02 20:06:49.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 13.1958ms
2025-08-02 20:06:49.537 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:06:49.538 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:06:49.538 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.4955ms
2025-08-02 20:06:49.538 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:06:49.538 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 43.221ms
2025-08-02 20:07:19.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:19.491 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:19.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:19.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:07:19.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:19.492 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:07:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:19.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:19.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:07:19.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:07:19.492 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:07:19.494 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:07:19.506 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:07:19.508 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:07:19.508 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:07:19.508 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.0745ms
2025-08-02 20:07:19.508 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:07:19.508 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:07:19.510 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.004ms
2025-08-02 20:07:19.510 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:07:19.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 19.2564ms
2025-08-02 20:07:19.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 18.5302ms
2025-08-02 20:07:19.516 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:07:19.521 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:07:19.522 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.0032ms
2025-08-02 20:07:19.522 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:07:19.522 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 30.0289ms
2025-08-02 20:07:49.490 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:49.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:49.491 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:49.491 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:49.491 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:07:49.491 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:07:49.491 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:07:49.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:07:49.491 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:07:49.492 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:07:49.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:07:49.492 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:07:49.511 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:07:49.511 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:07:49.512 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:07:49.512 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:07:49.512 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.0882ms
2025-08-02 20:07:49.512 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8166ms
2025-08-02 20:07:49.512 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:07:49.512 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:07:49.512 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 21.6351ms
2025-08-02 20:07:49.512 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 20.3201ms
2025-08-02 20:07:49.551 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:07:49.551 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:07:49.551 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.4033ms
2025-08-02 20:07:49.551 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:07:49.551 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 60.5439ms
2025-08-02 20:08:19.308 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:08:19.308 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:19.309 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.7656ms
2025-08-02 20:08:19.313 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:08:19.314 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:19.314 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:08:19.314 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:08:19.319 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:08:19.323 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:08:19.330 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:08:19.330 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:08:19.330 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 16.1564ms
2025-08-02 20:08:19.331 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:08:19.331 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 20.4719ms
2025-08-02 20:08:19.489 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:19.489 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:19.489 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:19.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:08:19.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:08:19.490 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:08:19.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:08:19.490 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:08:19.490 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:08:19.493 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:08:19.498 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:08:19.499 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.6768ms
2025-08-02 20:08:19.499 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:08:19.499 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 9.5352ms
2025-08-02 20:08:19.502 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:08:19.505 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:08:19.506 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:19.506 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:19.506 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.8675ms
2025-08-02 20:08:19.506 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:08:19.508 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.8441ms
2025-08-02 20:08:19.509 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:08:19.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 19.3051ms
2025-08-02 20:08:19.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 20.9882ms
2025-08-02 20:08:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:08:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:08:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:08:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:08:34.263 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:34.263 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:34.263 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:34.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:08:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:08:34.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:08:34.265 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:08:34.265 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:08:34.265 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:08:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:08:34.265 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:34.265 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:08:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:08:34.265 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:08:34.266 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:08:34.290 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:08:34.299 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:08:34.304 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:08:34.304 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:08:34.303 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:08:34.306 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:34.307 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 41.63ms
2025-08-02 20:08:34.307 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:08:34.307 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 44.011ms
2025-08-02 20:08:34.311 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:08:34.311 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:08:34.312 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:34.312 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 46.4923ms
2025-08-02 20:08:34.312 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:08:34.313 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 49.3587ms
2025-08-02 20:08:34.313 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:34.315 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:08:34.317 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 51.5929ms
2025-08-02 20:08:34.317 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:08:34.317 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 54.1316ms
2025-08-02 20:08:34.320 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:08:34.323 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:08:34.323 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 58.4536ms
2025-08-02 20:08:34.324 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:08:34.324 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 60.533ms
2025-08-02 20:08:34.330 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:08:34.331 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:34.331 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 65.1436ms
2025-08-02 20:08:34.331 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:08:34.331 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 66.0526ms
2025-08-02 20:08:49.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:49.496 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:49.496 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:49.497 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:49.496 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:08:49.497 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:08:49.497 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:08:49.497 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:08:49.497 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:08:49.497 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:08:49.498 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:08:49.498 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:08:49.514 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:08:49.515 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:08:49.515 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:08:49.515 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:49.515 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.7047ms
2025-08-02 20:08:49.515 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:08:49.515 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.7172ms
2025-08-02 20:08:49.515 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:08:49.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 19.8334ms
2025-08-02 20:08:49.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 20.3244ms
2025-08-02 20:08:49.567 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:08:49.567 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:08:49.567 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.4275ms
2025-08-02 20:08:49.567 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:08:49.567 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 71.4779ms
2025-08-02 20:09:07.119 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:09:19.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:19.504 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:19.505 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:09:19.506 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:09:19.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:19.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:19.512 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:19.512 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:19.512 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:09:19.512 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:09:19.513 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:09:19.513 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:09:19.536 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:09:19.538 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:09:19.539 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:09:19.539 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.0297ms
2025-08-02 20:09:19.540 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:09:19.540 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:09:19.540 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.2852ms
2025-08-02 20:09:19.540 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:09:19.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 34.2096ms
2025-08-02 20:09:19.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 40.3152ms
2025-08-02 20:09:19.548 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:09:19.549 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:09:19.550 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.4787ms
2025-08-02 20:09:19.550 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:09:19.550 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 41.9529ms
2025-08-02 20:09:38.398 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:09:38.399 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:38.399 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.0377ms
2025-08-02 20:09:38.401 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:09:38.402 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:38.402 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:09:38.402 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:09:38.409 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:09:38.416 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:09:38.423 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:09:38.423 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:09:38.424 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 21.6564ms
2025-08-02 20:09:38.424 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:09:38.424 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 22.7058ms
2025-08-02 20:09:49.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:49.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:49.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:09:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:49.495 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:09:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:09:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:09:49.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:09:49.495 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:09:49.495 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:09:49.495 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:09:49.505 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:09:49.505 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:09:49.507 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:09:49.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:09:49.507 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.2124ms
2025-08-02 20:09:49.507 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.1886ms
2025-08-02 20:09:49.507 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:09:49.507 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:09:49.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 12.5754ms
2025-08-02 20:09:49.511 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 17.0396ms
2025-08-02 20:09:49.547 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:09:49.547 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:09:49.547 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.4675ms
2025-08-02 20:09:49.547 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:09:49.547 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 52.6814ms
2025-08-02 20:10:19.305 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:10:19.306 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:19.307 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.1558ms
2025-08-02 20:10:19.309 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:10:19.309 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:19.310 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:10:19.310 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:10:19.314 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:10:19.318 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:10:19.324 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:10:19.325 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:19.325 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 15.1707ms
2025-08-02 20:10:19.325 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:10:19.325 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 16.3941ms
2025-08-02 20:10:19.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:19.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:19.494 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:10:19.494 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:10:19.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:19.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:19.496 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:19.496 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:19.496 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:10:19.496 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:10:19.497 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:19.497 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:10:19.513 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:10:19.519 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:19.518 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:10:19.520 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6615ms
2025-08-02 20:10:19.520 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:10:19.521 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.1506ms
2025-08-02 20:10:19.521 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:19.521 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.3234ms
2025-08-02 20:10:19.521 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:10:19.522 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 27.7309ms
2025-08-02 20:10:19.527 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:10:19.532 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:19.533 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.888ms
2025-08-02 20:10:19.533 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:10:19.533 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 38.4317ms
2025-08-02 20:10:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:10:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:10:34.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:10:34.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:10:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:34.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:10:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:34.264 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:34.265 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:10:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:10:34.265 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:10:34.265 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:34.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:10:34.265 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:34.266 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:34.265 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:34.265 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:34.283 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:10:34.284 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:10:34.285 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:10:34.286 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:10:34.289 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:10:34.291 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:34.292 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 26.075ms
2025-08-02 20:10:34.292 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:10:34.292 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 27.7821ms
2025-08-02 20:10:34.294 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:34.294 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:10:34.295 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 27.4312ms
2025-08-02 20:10:34.295 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:10:34.295 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 31.8063ms
2025-08-02 20:10:34.295 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:34.295 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 29.5681ms
2025-08-02 20:10:34.296 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:10:34.296 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 32.7564ms
2025-08-02 20:10:34.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:34.300 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:10:34.301 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 35.8557ms
2025-08-02 20:10:34.301 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:34.302 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 38.9197ms
2025-08-02 20:10:34.310 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:10:34.318 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:10:34.323 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:10:34.323 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:34.323 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 57.4595ms
2025-08-02 20:10:34.323 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:10:34.324 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 60.4855ms
2025-08-02 20:10:49.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:49.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:49.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:49.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:10:49.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:49.493 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:49.493 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:10:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:10:49.493 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:10:49.494 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:49.494 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:10:49.511 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:10:49.511 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:10:49.511 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:49.511 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.4746ms
2025-08-02 20:10:49.511 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:10:49.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:49.511 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.6763ms
2025-08-02 20:10:49.511 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 18.6841ms
2025-08-02 20:10:49.511 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:10:49.511 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 18.9147ms
2025-08-02 20:10:49.558 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:10:49.558 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:49.558 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 64.4328ms
2025-08-02 20:10:49.558 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:10:49.558 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 65.4647ms
2025-08-02 20:10:50.421 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:10:50.421 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:50.421 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.7557ms
2025-08-02 20:10:50.424 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:10:50.424 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:50.424 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:10:50.424 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:10:50.431 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:10:50.435 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:10:50.443 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:10:50.444 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:50.444 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 19.6799ms
2025-08-02 20:10:50.444 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:10:50.444 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 21.3867ms
2025-08-02 20:10:59.641 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:10:59.641 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.642 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.0297ms
2025-08-02 20:10:59.643 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:10:59.643 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.643 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.6761ms
2025-08-02 20:10:59.645 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:10:59.645 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.646 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:10:59.646 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:59.647 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:10:59.647 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.1543ms
2025-08-02 20:10:59.647 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 385
2025-08-02 20:10:59.647 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:10:59.648 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 3.0297ms
2025-08-02 20:10:59.648 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.648 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:10:59.648 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:59.649 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:10:59.649 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.0497ms
2025-08-02 20:10:59.649 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:10:59.650 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.7487ms
2025-08-02 20:10:59.741 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:10:59.741 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:10:59.741 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.742 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.5034ms
2025-08-02 20:10:59.742 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.742 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 0.0642ms
2025-08-02 20:10:59.742 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.742 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.0632ms
2025-08-02 20:10:59.742 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.742 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.0615ms
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.741 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:10:59.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.743 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.2585ms
2025-08-02 20:10:59.743 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.743 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.4379ms
2025-08-02 20:10:59.743 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.4698ms
2025-08-02 20:10:59.743 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:10:59.744 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.744 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 0.183ms
2025-08-02 20:10:59.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:10:59.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:10:59.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:10:59.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:10:59.775 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.775 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.775 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.775 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:10:59.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:10:59.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:10:59.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:10:59.775 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.775 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.775 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.775 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:10:59.782 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:10:59.788 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:10:59.789 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.790 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.790 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 15.0099ms
2025-08-02 20:10:59.790 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.9316ms
2025-08-02 20:10:59.790 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:10:59.790 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:10:59.790 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 16.3739ms
2025-08-02 20:10:59.790 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 16.3792ms
2025-08-02 20:10:59.792 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:10:59.793 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.793 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 17.6922ms
2025-08-02 20:10:59.793 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:10:59.793 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 19.3497ms
2025-08-02 20:10:59.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:10:59.794 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:10:59.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:10:59.794 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.794 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:10:59.794 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:10:59.795 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:10:59.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:10:59.798 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:10:59.802 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.805 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:10:59.806 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:10:59.807 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.807 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 31.3223ms
2025-08-02 20:10:59.807 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 12.6053ms
2025-08-02 20:10:59.807 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:10:59.807 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:10:59.807 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.807 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 33.0665ms
2025-08-02 20:10:59.807 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 13.3902ms
2025-08-02 20:10:59.807 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.7947ms
2025-08-02 20:10:59.807 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:10:59.807 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 13.6289ms
2025-08-02 20:10:59.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:10:59.811 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:10:59.811 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:10:59.813 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.813 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 10.059ms
2025-08-02 20:10:59.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:10:59.814 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 15.8668ms
2025-08-02 20:10:59.817 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:10:59.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 7.2547ms
2025-08-02 20:10:59.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:10:59.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 10.3009ms
2025-08-02 20:10:59.885 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:10:59.885 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:59.886 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.886 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.886 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 1.6204ms
2025-08-02 20:10:59.886 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.5492ms
2025-08-02 20:10:59.891 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:59.892 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:10:59.892 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.892 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.892 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.673ms
2025-08-02 20:10:59.892 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 0.6677ms
2025-08-02 20:10:59.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:10:59.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:59.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:10:59.894 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:10:59.894 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.894 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.894 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.894 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:10:59.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:59.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:10:59.894 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:59.894 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.894 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:10:59.894 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.894 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:10:59.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:10:59.894 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:10:59.894 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.907 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:10:59.907 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:10:59.910 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:59.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 15.8313ms
2025-08-02 20:10:59.910 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:10:59.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:10:59.911 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 17.0511ms
2025-08-02 20:10:59.911 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.911 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 16.3624ms
2025-08-02 20:10:59.911 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:10:59.911 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 17.9473ms
2025-08-02 20:10:59.913 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:10:59.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.914 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 19.8363ms
2025-08-02 20:10:59.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:10:59.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 21.3019ms
2025-08-02 20:10:59.919 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:10:59.920 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.920 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:10:59.920 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:10:59.921 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:10:59.921 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:10:59.921 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.921 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:10:59.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 27.0448ms
2025-08-02 20:10:59.921 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:10:59.921 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:10:59.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.2778ms
2025-08-02 20:10:59.921 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.921 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:10:59.921 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:10:59.922 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:10:59.923 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.925 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:10:59.933 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:10:59.934 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 39.7049ms
2025-08-02 20:10:59.934 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:10:59.934 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:59.934 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:10:59.934 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.934 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.934 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:10:59.934 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:10:59.934 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 12.9046ms
2025-08-02 20:10:59.934 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:10:59.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 40.2429ms
2025-08-02 20:10:59.934 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:59.934 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:10:59.934 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:10:59.934 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:10:59.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 13.7125ms
2025-08-02 20:10:59.934 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 14.5162ms
2025-08-02 20:10:59.935 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:10:59.935 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 15.9091ms
2025-08-02 20:10:59.944 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:10:59.952 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:10:59.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.955 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:10:59.957 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 23.1431ms
2025-08-02 20:10:59.958 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:10:59.958 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 23.9626ms
2025-08-02 20:10:59.958 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.958 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 36.582ms
2025-08-02 20:10:59.958 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:10:59.958 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 37.0184ms
2025-08-02 20:10:59.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:10:59.960 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:10:59.960 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 25.3202ms
2025-08-02 20:10:59.960 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:10:59.960 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 26.1756ms
2025-08-02 20:11:03.013 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:11:03.014 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:03.014 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.2711ms
2025-08-02 20:11:03.016 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:11:03.017 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:03.017 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:11:03.018 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:11:03.022 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:11:03.029 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:11:03.032 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:11:03.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:03.032 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 14.3656ms
2025-08-02 20:11:03.032 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:11:03.032 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 15.8137ms
2025-08-02 20:11:08.729 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:11:08.729 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.730 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.7762ms
2025-08-02 20:11:08.730 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:11:08.730 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.730 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.4499ms
2025-08-02 20:11:08.732 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 387
2025-08-02 20:11:08.732 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 387
2025-08-02 20:11:08.733 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.733 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:11:08.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:11:08.733 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:11:08.733 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:11:08.734 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:11:08.734 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:11:08.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.0149ms
2025-08-02 20:11:08.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1ms
2025-08-02 20:11:08.734 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:11:08.734 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:11:08.734 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.1933ms
2025-08-02 20:11:08.734 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.1657ms
2025-08-02 20:11:08.812 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.812 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.813 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.813 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.813 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.7212ms
2025-08-02 20:11:08.813 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.7534ms
2025-08-02 20:11:08.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:11:08.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:11:08.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:11:08.813 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.813 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.813 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:11:08.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:11:08.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:11:08.813 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:11:08.813 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.813 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.817 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:11:08.817 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:11:08.819 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.822 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.6246ms
2025-08-02 20:11:08.823 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:11:08.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 13.0719ms
2025-08-02 20:11:08.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:11:08.827 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:11:08.827 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:11:08.831 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:11:08.832 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.832 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.832 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.832 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.832 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 18.554ms
2025-08-02 20:11:08.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 4.8082ms
2025-08-02 20:11:08.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 18.554ms
2025-08-02 20:11:08.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:11:08.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:11:08.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:11:08.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 18.9654ms
2025-08-02 20:11:08.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 5.6077ms
2025-08-02 20:11:08.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 19.3982ms
2025-08-02 20:11:08.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:11:08.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:11:08.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:11:08.839 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.839 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:11:08.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:11:08.839 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.839 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.845 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.846 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 9.0365ms
2025-08-02 20:11:08.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:11:08.848 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 9.2019ms
2025-08-02 20:11:08.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:11:08.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 13.304ms
2025-08-02 20:11:08.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 13.3433ms
2025-08-02 20:11:08.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 29.6392ms
2025-08-02 20:11:08.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:11:08.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 32.0639ms
2025-08-02 20:11:08.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.851 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:11:08.852 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.857 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.858 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.859 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:11:08.859 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 3.5346ms
2025-08-02 20:11:08.861 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:11:08.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.862 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 10.3336ms
2025-08-02 20:11:08.862 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:11:08.862 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:11:08.862 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 11.8297ms
2025-08-02 20:11:08.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-08-02 20:11:08.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-08-02 20:11:08.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.866 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:11:08.866 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:11:08.866 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.866 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.926 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:11:08.927 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:08.927 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 61.1528ms
2025-08-02 20:11:08.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:11:08.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 64.5122ms
2025-08-02 20:11:08.930 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:11:08.932 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:08.932 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 66.0631ms
2025-08-02 20:11:08.932 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:11:08.932 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 69.4307ms
2025-08-02 20:11:08.933 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:11:08.933 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.933 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 70.4248ms
2025-08-02 20:11:08.933 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:11:08.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 71.4198ms
2025-08-02 20:11:08.936 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:08.936 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:08.936 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:11:08.936 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:11:08.942 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:11:08.943 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:08.943 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 6.9787ms
2025-08-02 20:11:08.943 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:11:08.943 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 8.3421ms
2025-08-02 20:11:11.343 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:11:11.343 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:11.343 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.4675ms
2025-08-02 20:11:11.345 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:11:11.346 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:11.346 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:11:11.346 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:11:11.354 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:11:11.371 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:11:11.378 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:11:11.378 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:11.378 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 32.2529ms
2025-08-02 20:11:11.378 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:11:11.378 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 33.5057ms
2025-08-02 20:11:20.431 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:20.431 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:20.431 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:20.431 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:20.431 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:11:20.431 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:11:20.432 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:11:20.432 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:11:20.438 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:11:20.445 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:20.448 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:11:20.448 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:20.448 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:11:20.448 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:11:20.448 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:20.448 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:20.448 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.5686ms
2025-08-02 20:11:20.448 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.5308ms
2025-08-02 20:11:20.448 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:11:20.448 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:11:20.448 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 17.7659ms
2025-08-02 20:11:20.448 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 18.4923ms
2025-08-02 20:11:20.455 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:11:20.461 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:20.461 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.1865ms
2025-08-02 20:11:20.461 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:11:20.462 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 23.7249ms
2025-08-02 20:11:50.399 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:50.400 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:50.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:11:50.400 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:11:50.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:50.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:11:50.403 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:50.403 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:11:50.405 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:11:50.405 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:11:50.405 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:11:50.405 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:11:50.420 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:11:50.424 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:11:50.425 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:11:50.425 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.5475ms
2025-08-02 20:11:50.425 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:11:50.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 23.7693ms
2025-08-02 20:11:50.427 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:50.428 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.18ms
2025-08-02 20:11:50.428 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:11:50.428 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 29.3088ms
2025-08-02 20:11:50.487 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:11:50.487 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:11:50.487 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 81.9679ms
2025-08-02 20:11:50.487 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:11:50.487 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 85.3134ms
2025-08-02 20:12:19.387 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:12:19.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:12:19.388 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.1266ms
2025-08-02 20:12:19.391 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:12:19.391 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:12:19.392 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:12:19.392 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:12:19.404 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:12:19.408 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:12:19.416 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:12:19.416 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:12:19.416 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 24.288ms
2025-08-02 20:12:19.416 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:12:19.416 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 25.6025ms
2025-08-02 20:12:27.543 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:12:27.543 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:12:27.543 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:12:27.543 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:12:27.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:12:27.545 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:12:27.707 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:12:27.708 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:12:27.709 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:12:27.709 +00:00 [INF] Executed DbCommand (163ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:12:27.709 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:12:27.709 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:12:27.710 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 166.5331ms
2025-08-02 20:12:27.710 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:12:27.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 167.317ms
2025-08-02 20:12:27.711 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:12:27.711 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:12:27.875 +00:00 [INF] Executed DbCommand (163ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:12:27.955 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:12:27.956 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 244.8039ms
2025-08-02 20:12:27.956 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:12:27.956 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 410.9712ms
2025-08-02 20:12:28.027 +00:00 [INF] Executed DbCommand (314ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:12:28.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:12:28.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 318.4064ms
2025-08-02 20:12:28.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:12:28.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 321.0748ms
2025-08-02 20:13:26.393 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:13:26.393 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:13:26.393 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:13:26.393 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:13:26.393 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:13:26.393 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:13:26.393 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:13:26.393 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:13:26.394 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:13:26.394 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:13:26.394 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:13:26.395 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:13:26.412 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:13:26.414 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:13:26.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6851ms
2025-08-02 20:13:26.414 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:13:26.418 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:13:26.422 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:13:26.423 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1058ms
2025-08-02 20:13:26.423 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:13:26.427 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 33.8257ms
2025-08-02 20:13:26.428 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 35.1495ms
2025-08-02 20:13:26.495 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:13:26.495 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:13:26.495 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 100.2082ms
2025-08-02 20:13:26.495 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:13:26.495 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 101.6184ms
2025-08-02 20:14:07.150 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:14:19.387 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:14:19.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:14:19.389 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 2.1206ms
2025-08-02 20:14:19.398 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:14:19.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:14:19.398 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:14:19.398 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:14:19.406 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:14:19.415 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:14:19.427 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:14:19.428 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:14:19.429 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 30.7007ms
2025-08-02 20:14:19.429 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:14:19.429 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 31.313ms
2025-08-02 20:14:26.393 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:14:26.394 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:14:26.395 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:14:26.395 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:14:26.395 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:14:26.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:14:26.396 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:14:26.396 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:14:26.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:14:26.397 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:14:26.397 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:14:26.399 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:14:26.417 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:14:26.424 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:14:26.424 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:14:26.424 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5328ms
2025-08-02 20:14:26.425 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:14:26.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 31.187ms
2025-08-02 20:14:26.426 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:14:26.426 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.3444ms
2025-08-02 20:14:26.426 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:14:26.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 33.1407ms
2025-08-02 20:14:26.495 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:14:26.495 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:14:26.495 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 96.3906ms
2025-08-02 20:14:26.495 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:14:26.495 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 99.8805ms
2025-08-02 20:15:26.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:15:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:15:26.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:15:26.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:15:26.391 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:15:26.391 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:15:26.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:15:26.391 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:15:26.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:15:26.401 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:15:26.409 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:15:26.409 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:15:26.426 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:15:26.426 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:15:26.427 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:15:26.427 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:15:26.427 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.4751ms
2025-08-02 20:15:26.427 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.2516ms
2025-08-02 20:15:26.427 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:15:26.427 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:15:26.427 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 37.0334ms
2025-08-02 20:15:26.427 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 37.6866ms
2025-08-02 20:15:26.527 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:15:26.527 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:15:26.527 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 117.6696ms
2025-08-02 20:15:26.527 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:15:26.527 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 127.5414ms
2025-08-02 20:16:19.395 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:16:19.395 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:16:19.396 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.8652ms
2025-08-02 20:16:19.398 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:16:19.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:16:19.398 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:16:19.398 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:16:19.416 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:16:19.427 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:16:19.440 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:16:19.440 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:16:19.440 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 42.2611ms
2025-08-02 20:16:19.440 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:16:19.441 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 43.1548ms
2025-08-02 20:16:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:16:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:16:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:16:26.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:16:26.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:16:26.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:16:26.388 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:16:26.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:16:26.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:16:26.389 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:16:26.389 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:16:26.389 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:16:26.397 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:16:26.398 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:16:26.399 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:16:26.399 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:16:26.399 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.7779ms
2025-08-02 20:16:26.399 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.7572ms
2025-08-02 20:16:26.399 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:16:26.399 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:16:26.400 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 12.0209ms
2025-08-02 20:16:26.400 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 12.0359ms
2025-08-02 20:16:26.510 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:16:26.510 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:16:26.510 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 121.6605ms
2025-08-02 20:16:26.510 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:16:26.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 122.8754ms
2025-08-02 20:17:26.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:17:26.386 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:17:26.386 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:17:26.386 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:17:26.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:17:26.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:17:26.386 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:17:26.386 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:17:26.386 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:17:26.386 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:17:26.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:17:26.387 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:17:26.420 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:17:26.420 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:17:26.420 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:17:26.420 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:17:26.420 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.2816ms
2025-08-02 20:17:26.420 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.1483ms
2025-08-02 20:17:26.420 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:17:26.421 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:17:26.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 34.9481ms
2025-08-02 20:17:26.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 36.2301ms
2025-08-02 20:17:26.543 +00:00 [INF] Executed DbCommand (131ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:17:26.543 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:17:26.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 156.0183ms
2025-08-02 20:17:26.543 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:17:26.543 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 157.3889ms
2025-08-02 20:18:26.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:18:26.390 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:18:26.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:18:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:18:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:18:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:18:26.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:18:26.390 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.4898ms
2025-08-02 20:18:26.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:18:26.390 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:18:26.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:18:26.390 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:18:26.391 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:18:26.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:18:26.391 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:18:26.416 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:18:26.416 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:18:26.417 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:18:26.417 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:18:26.417 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9746ms
2025-08-02 20:18:26.417 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.0877ms
2025-08-02 20:18:26.417 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:18:26.417 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:18:26.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 27.9548ms
2025-08-02 20:18:26.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.7398ms
2025-08-02 20:18:26.424 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:18:26.424 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:18:26.424 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:18:26.424 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:18:26.441 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:18:26.515 +00:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:18:26.515 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:18:26.515 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 123.9899ms
2025-08-02 20:18:26.515 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:18:26.516 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 125.3717ms
2025-08-02 20:18:26.516 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:18:26.533 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:18:26.534 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:18:26.534 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 109.4898ms
2025-08-02 20:18:26.534 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:18:26.534 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 112.2537ms
2025-08-02 20:19:07.171 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:19:26.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:19:26.385 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:19:26.385 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:19:26.386 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:19:26.386 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:19:26.386 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:19:26.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:19:26.387 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:19:26.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:19:26.387 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:19:26.387 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:19:26.387 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:19:26.396 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:19:26.406 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:19:26.408 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.8725ms
2025-08-02 20:19:26.408 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:19:26.408 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:19:26.409 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 23.5137ms
2025-08-02 20:19:26.410 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:19:26.410 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8384ms
2025-08-02 20:19:26.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:19:26.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 25.2693ms
2025-08-02 20:19:26.503 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:19:26.503 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:19:26.504 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 116.1973ms
2025-08-02 20:19:26.504 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:19:26.504 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 116.9052ms
2025-08-02 20:20:26.386 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:20:26.387 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:20:26.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:20:26.387 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.8366ms
2025-08-02 20:20:26.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:20:26.387 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:20:26.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:20:26.387 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:20:26.387 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:20:26.387 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:20:26.387 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:20:26.387 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:20:26.388 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:20:26.388 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:20:26.388 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:20:26.408 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:20:26.409 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:20:26.409 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:20:26.409 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:20:26.409 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:20:26.409 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:20:26.411 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:20:26.411 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:20:26.411 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.3214ms
2025-08-02 20:20:26.411 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.7343ms
2025-08-02 20:20:26.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:20:26.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:20:26.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 24.5048ms
2025-08-02 20:20:26.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 31.4845ms
2025-08-02 20:20:26.439 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:20:26.455 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:20:26.476 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:20:26.476 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:20:26.476 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 65.6033ms
2025-08-02 20:20:26.477 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:20:26.477 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 68.0103ms
2025-08-02 20:20:26.506 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:20:26.506 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:20:26.506 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 117.7038ms
2025-08-02 20:20:26.506 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:20:26.506 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 119.3742ms
2025-08-02 20:21:26.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:21:26.392 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:21:26.392 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:21:26.392 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:21:26.393 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:21:26.393 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:21:26.393 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:21:26.393 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:21:26.394 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:21:26.396 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:21:26.398 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:21:26.398 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:21:26.417 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:21:26.418 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:21:26.418 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:21:26.418 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:21:26.419 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.2089ms
2025-08-02 20:21:26.419 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.421ms
2025-08-02 20:21:26.419 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:21:26.419 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:21:26.419 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 25.1116ms
2025-08-02 20:21:26.419 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.881ms
2025-08-02 20:21:26.489 +00:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:21:26.489 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:21:26.489 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 95.2029ms
2025-08-02 20:21:26.489 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:21:26.489 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 98.0253ms
2025-08-02 20:22:24.718 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:22:24.719 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.719 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.0483ms
2025-08-02 20:22:24.724 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:22:24.725 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.725 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:22:24.728 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:22:24.729 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:24.735 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 6.8873ms
2025-08-02 20:22:24.736 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:22:24.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 13.4919ms
2025-08-02 20:22:24.764 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:22:24.764 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.765 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:22:24.765 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:22:24.766 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:24.766 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.9552ms
2025-08-02 20:22:24.766 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:22:24.768 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.3361ms
2025-08-02 20:22:24.794 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:22:24.794 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.794 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.9485ms
2025-08-02 20:22:24.795 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:22:24.797 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.797 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:22:24.797 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.7017ms
2025-08-02 20:22:24.798 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.798 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:22:24.798 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:22:24.801 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 419
2025-08-02 20:22:24.804 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:24.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:22:24.809 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:22:24.810 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:22:24.810 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:22:24.810 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.2191ms
2025-08-02 20:22:24.810 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:22:24.811 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 9.7466ms
2025-08-02 20:22:24.819 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:22:24.840 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:22:24.841 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:24.841 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 42.8181ms
2025-08-02 20:22:24.841 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:22:24.842 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 44.4696ms
2025-08-02 20:22:25.640 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:25.640 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.640 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:22:25.640 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:22:25.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:22:25.657 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:22:25.658 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:25.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:22:25.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:22:25.795 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.795 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:22:25.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:22:25.795 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:22:25.795 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:25.797 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:25.797 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.797 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.3027ms
2025-08-02 20:22:25.797 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:25.797 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.797 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.1186ms
2025-08-02 20:22:25.797 +00:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:25.798 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:25.798 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 139.5893ms
2025-08-02 20:22:25.798 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:22:25.798 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 140.8789ms
2025-08-02 20:22:25.847 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:22:25.847 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:25.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:25.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 207.2651ms
2025-08-02 20:22:25.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:25.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 52.262ms
2025-08-02 20:22:25.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:22:25.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:22:25.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 53.2391ms
2025-08-02 20:22:25.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 210.253ms
2025-08-02 20:22:25.867 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:22:25.920 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:25.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 125.4391ms
2025-08-02 20:22:25.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:22:25.921 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:22:25.921 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:25.922 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.922 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.922 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:22:25.922 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:22:25.922 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:25.922 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:25.926 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 130.5762ms
2025-08-02 20:22:25.934 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:22:25.934 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:25.935 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.935 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:22:25.935 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:25.935 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:25.935 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 13.0199ms
2025-08-02 20:22:25.935 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:22:25.935 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:22:25.935 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 13.8308ms
2025-08-02 20:22:25.952 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:22:25.953 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:25.953 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:22:25.953 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:25.953 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:22:25.959 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 98.8781ms
2025-08-02 20:22:26.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:22:26.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 105.9222ms
2025-08-02 20:22:26.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:26.042 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:22:26.042 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:22:26.096 +00:00 [INF] Executed DbCommand (160ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:26.097 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 174.9809ms
2025-08-02 20:22:26.117 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:22:26.127 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:22:26.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 210.5279ms
2025-08-02 20:22:26.140 +00:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:22:26.228 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.228 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:26.229 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 187.0693ms
2025-08-02 20:22:26.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:22:26.230 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 276.6717ms
2025-08-02 20:22:26.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:22:26.230 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 188.7152ms
2025-08-02 20:22:26.230 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 278.1511ms
2025-08-02 20:22:26.233 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:26.233 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.233 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:22:26.233 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:26.412 +00:00 [INF] Executed DbCommand (173ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:22:26.440 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:26.440 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.440 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.3611ms
2025-08-02 20:22:26.440 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-08-02 20:22:26.440 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.440 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:22:26.440 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:26.467 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:26.455 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:22:26.467 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.467 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:22:26.464 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-08-02 20:22:26.468 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:26.468 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.468 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:22:26.468 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:26.468 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.468 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 235.2299ms
2025-08-02 20:22:26.468 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:22:26.468 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 235.9724ms
2025-08-02 20:22:26.524 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:22:26.526 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:22:26.527 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:26.527 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 59.5127ms
2025-08-02 20:22:26.527 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:22:26.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 80.0361ms
2025-08-02 20:22:26.530 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:22:26.531 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 90.371ms
2025-08-02 20:22:26.531 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:22:26.533 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 92.5508ms
2025-08-02 20:22:26.597 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:22:26.598 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.598 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 130.2278ms
2025-08-02 20:22:26.598 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:22:26.598 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 131.1598ms
2025-08-02 20:22:26.607 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:22:26.607 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:22:26.607 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:22:26.608 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:22:26.613 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:22:26.617 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:22:26.617 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 9.3597ms
2025-08-02 20:22:26.617 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:22:26.630 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 24.1269ms
2025-08-02 20:24:07.646 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:07.646 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:07.646 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:24:07.646 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:07.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:07.974 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:07.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:07.975 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:08.526 +00:00 [INF] Executed DbCommand (863ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:24:08.529 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:08.530 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 883.6039ms
2025-08-02 20:24:08.530 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:24:08.530 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 884.3279ms
2025-08-02 20:24:09.641 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:09.642 +00:00 [INF] Executed DbCommand (1,049ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:24:09.642 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:09.642 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:09.642 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:24:09.642 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:24:09.664 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 1135.176ms
2025-08-02 20:24:09.664 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:09.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 499 null application/json; charset=utf-8 1691.3026ms
2025-08-02 20:24:10.954 +00:00 [INF] Executed DbCommand (1,288ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:24:10.956 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:11.416 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 1773.4172ms
2025-08-02 20:24:11.416 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:24:11.416 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 499 null application/json; charset=utf-8 1775.2573ms
2025-08-02 20:24:17.815 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:24:17.816 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:24:17.816 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:24:17.816 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.816 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.816 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.816 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.6906ms
2025-08-02 20:24:17.816 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.695ms
2025-08-02 20:24:17.816 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.2724ms
2025-08-02 20:24:17.816 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:24:17.817 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.817 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.3997ms
2025-08-02 20:24:17.834 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 419
2025-08-02 20:24:17.834 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:24:17.834 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:24:17.834 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:24:17.835 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:24:17.835 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:24:17.835 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:24:17.835 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.835 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:24:17.835 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:24:17.835 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:24:17.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.0196ms
2025-08-02 20:24:17.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:24:17.836 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.3375ms
2025-08-02 20:24:17.876 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:24:17.877 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:17.877 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 41.6692ms
2025-08-02 20:24:17.877 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:24:17.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 43.4172ms
2025-08-02 20:24:17.900 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:24:17.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:24:17.901 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:17.901 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:24:17.901 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:24:17.902 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:17.902 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6942ms
2025-08-02 20:24:17.902 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:24:17.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.8731ms
2025-08-02 20:24:17.965 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:24:17.966 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:17.966 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 131.329ms
2025-08-02 20:24:17.966 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:24:17.966 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 132.777ms
2025-08-02 20:24:18.699 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:18.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:18.699 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.699 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.700 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.3277ms
2025-08-02 20:24:18.700 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:18.700 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:18.708 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:24:18.708 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:24:18.716 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.716 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.716 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:24:18.724 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:24:18.724 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:18.725 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.725 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:24:18.725 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.725 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:24:18.725 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.738 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:24:18.739 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.739 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:24:18.740 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.746 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:24:18.746 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:24:18.764 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.764 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:24:18.765 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 40.158ms
2025-08-02 20:24:18.765 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:18.765 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:24:18.765 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 65.0403ms
2025-08-02 20:24:18.765 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:18.765 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 56.9007ms
2025-08-02 20:24:18.765 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 65.6858ms
2025-08-02 20:24:18.792 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.799 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 74.0045ms
2025-08-02 20:24:18.799 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:24:18.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:24:18.799 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 74.9851ms
2025-08-02 20:24:18.799 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:24:18.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:18.800 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:24:18.800 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:18.800 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:18.814 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:18.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 76.0933ms
2025-08-02 20:24:18.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:24:18.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 81.8045ms
2025-08-02 20:24:18.818 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.830 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:24:18.830 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:24:18.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:18.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.936ms
2025-08-02 20:24:18.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:18.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:24:18.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 31.4591ms
2025-08-02 20:24:18.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 31.3313ms
2025-08-02 20:24:18.831 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:24:18.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 32.0863ms
2025-08-02 20:24:18.865 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:24:18.866 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:24:18.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.867 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:24:18.890 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.891 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.894 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 63.2703ms
2025-08-02 20:24:18.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:24:18.895 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 80.4256ms
2025-08-02 20:24:18.902 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.915 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 25.8145ms
2025-08-02 20:24:18.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:24:18.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 50.5413ms
2025-08-02 20:24:18.917 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.918 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.918 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 192.1737ms
2025-08-02 20:24:18.918 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:24:18.918 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 210.1368ms
2025-08-02 20:24:18.951 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:24:18.952 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:18.952 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:24:18.952 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:18.965 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:24:18.982 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:18.982 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 29.6547ms
2025-08-02 20:24:18.982 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:24:18.982 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 31.343ms
2025-08-02 20:24:19.014 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:19.014 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.014 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.9153ms
2025-08-02 20:24:19.017 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:19.018 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.018 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.3383ms
2025-08-02 20:24:19.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:19.020 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:24:19.021 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:19.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-08-02 20:24:19.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-08-02 20:24:19.033 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.033 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:24:19.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:24:19.033 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:19.033 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:19.110 +00:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:24:19.112 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:19.112 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:24:19.112 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 78.6523ms
2025-08-02 20:24:19.112 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:24:19.112 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 79.9417ms
2025-08-02 20:24:19.126 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:19.127 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 93.265ms
2025-08-02 20:24:19.127 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:24:19.127 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 94.7709ms
2025-08-02 20:24:19.165 +00:00 [INF] Executed DbCommand (138ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:24:19.166 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:19.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 145.1683ms
2025-08-02 20:24:19.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:24:19.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 147.8337ms
2025-08-02 20:24:19.170 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:19.172 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:19.173 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:24:19.173 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:24:19.181 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:24:19.182 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:19.182 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 8.9601ms
2025-08-02 20:24:19.182 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:24:19.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 13.5485ms
2025-08-02 20:24:49.381 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:49.381 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:49.382 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:49.382 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:49.382 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:24:49.382 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:24:49.383 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:49.383 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:24:49.383 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:24:49.383 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:24:49.383 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:49.383 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:24:49.401 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:24:49.413 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:49.413 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:24:49.413 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:24:49.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.9982ms
2025-08-02 20:24:49.414 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:24:49.414 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 33.0528ms
2025-08-02 20:24:49.414 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:24:49.414 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:24:49.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6316ms
2025-08-02 20:24:49.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.3964ms
2025-08-02 20:24:49.414 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:24:49.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:24:49.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 32.2831ms
2025-08-02 20:24:49.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 33.7844ms
2025-08-02 20:25:19.416 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:19.417 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:19.418 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:19.418 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:25:19.418 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:19.418 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:25:19.426 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:25:19.428 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:25:19.434 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:19.436 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:19.436 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:25:19.444 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:25:19.463 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:25:19.463 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:25:19.463 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:25:19.463 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.1752ms
2025-08-02 20:25:19.466 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:25:19.467 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:25:19.467 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 49.1685ms
2025-08-02 20:25:19.467 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.0718ms
2025-08-02 20:25:19.468 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:25:19.468 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 51.3806ms
2025-08-02 20:25:19.580 +00:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:25:19.580 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:25:19.581 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 135.9157ms
2025-08-02 20:25:19.581 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:25:19.581 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 147.2884ms
2025-08-02 20:25:38.368 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:25:49.382 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:49.382 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:49.384 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:49.384 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:49.384 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:25:49.384 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:25:49.384 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:25:49.384 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:25:49.384 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:25:49.384 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:25:49.384 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:25:49.384 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:25:49.406 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:25:49.407 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:25:49.409 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:25:49.409 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5599ms
2025-08-02 20:25:49.410 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:25:49.410 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.1168ms
2025-08-02 20:25:49.414 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:25:49.414 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:25:49.418 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.7759ms
2025-08-02 20:25:49.418 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:25:49.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 39.915ms
2025-08-02 20:25:49.426 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:25:49.428 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.0814ms
2025-08-02 20:25:49.428 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:25:49.432 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 48.2713ms
2025-08-02 20:26:18.385 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:26:18.385 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:18.385 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.2394ms
2025-08-02 20:26:18.398 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:26:18.402 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:18.402 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:26:18.403 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:26:18.414 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:26:18.427 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:26:18.440 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:26:18.441 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:26:18.441 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 38.3737ms
2025-08-02 20:26:18.441 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:26:18.441 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 43.5921ms
2025-08-02 20:26:19.460 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:19.460 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:19.461 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:26:19.461 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:26:19.466 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:26:19.468 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:26:19.468 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:19.470 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:19.471 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:26:19.471 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:26:19.480 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:26:19.488 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:26:19.488 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:19.490 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.631ms
2025-08-02 20:26:19.490 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:19.491 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:26:19.491 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:26:19.491 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 22.9672ms
2025-08-02 20:26:19.491 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:26:19.491 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.5325ms
2025-08-02 20:26:19.491 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:26:19.492 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 31.6676ms
2025-08-02 20:26:19.561 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:26:19.562 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:26:19.562 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 70.7244ms
2025-08-02 20:26:19.562 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:26:19.562 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 75.3124ms
2025-08-02 20:26:49.395 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:49.395 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:49.395 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:26:49.395 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:49.395 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:49.395 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:26:49.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:26:49.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:26:49.396 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:26:49.396 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:26:49.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:26:49.396 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:26:49.417 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:26:49.417 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:26:49.419 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:26:49.420 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.1822ms
2025-08-02 20:26:49.420 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:26:49.421 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 26.0417ms
2025-08-02 20:26:49.422 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:26:49.422 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2593ms
2025-08-02 20:26:49.422 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:26:49.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 27.8966ms
2025-08-02 20:26:49.517 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:26:49.518 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:26:49.518 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 122.5936ms
2025-08-02 20:26:49.519 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:26:49.520 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 124.9112ms
2025-08-02 20:27:19.391 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:27:19.391 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:27:19.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:27:19.393 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:27:19.392 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:27:19.394 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:27:19.394 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:27:19.394 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:27:19.410 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:27:19.411 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:27:19.412 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:27:19.413 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:27:19.428 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:27:19.429 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:27:19.429 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:27:19.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.135ms
2025-08-02 20:27:19.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:27:19.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 37.6475ms
2025-08-02 20:27:19.430 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:27:19.430 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.5756ms
2025-08-02 20:27:19.430 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:27:19.431 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 39.954ms
2025-08-02 20:27:19.445 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:27:19.446 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:27:19.446 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.6806ms
2025-08-02 20:27:19.446 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:27:19.447 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 36.9307ms
2025-08-02 20:28:18.393 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:28:18.395 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:28:18.396 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 2.6563ms
2025-08-02 20:28:18.403 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:28:18.410 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:28:18.410 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:28:18.410 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:28:18.425 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:28:18.431 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:28:18.446 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:28:18.447 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:28:18.447 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 36.482ms
2025-08-02 20:28:18.447 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:28:18.447 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 44.4613ms
2025-08-02 20:28:26.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:28:26.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:28:26.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:28:26.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:28:26.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:28:26.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:28:26.389 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:28:26.389 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:28:26.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:28:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:28:26.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:28:26.390 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:28:26.415 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:28:26.419 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:28:26.419 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:28:26.420 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.1724ms
2025-08-02 20:28:26.420 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:28:26.421 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:28:26.421 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 32.5975ms
2025-08-02 20:28:26.421 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.5888ms
2025-08-02 20:28:26.421 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:28:26.421 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 32.6429ms
2025-08-02 20:28:26.512 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:28:26.513 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:28:26.513 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 123.1531ms
2025-08-02 20:28:26.513 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:28:26.514 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 123.8761ms
2025-08-02 20:29:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:29:26.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:29:26.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:29:26.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:29:26.389 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:29:26.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:29:26.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:29:26.390 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:29:26.406 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:29:26.407 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:29:26.418 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:29:26.418 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:29:26.424 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:29:26.430 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:29:26.436 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.5345ms
2025-08-02 20:29:26.436 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:29:26.436 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 47.6079ms
2025-08-02 20:29:26.437 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:29:26.439 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:29:26.439 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.4699ms
2025-08-02 20:29:26.439 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:29:26.439 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 51.7368ms
2025-08-02 20:29:26.552 +00:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:29:26.552 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:29:26.552 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 134.025ms
2025-08-02 20:29:26.552 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:29:26.552 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 146.7112ms
2025-08-02 20:30:18.381 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:30:18.381 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:30:18.382 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.4062ms
2025-08-02 20:30:18.395 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:30:18.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:30:18.399 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:30:18.399 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:30:18.413 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:30:18.425 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:30:18.441 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:30:18.442 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:30:18.442 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 43.4185ms
2025-08-02 20:30:18.443 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:30:18.443 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 48.4144ms
2025-08-02 20:30:26.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:30:26.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:30:26.401 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:30:26.401 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:30:26.401 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:30:26.401 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:30:26.401 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:30:26.401 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:30:26.401 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:30:26.401 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:30:26.402 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:30:26.402 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:30:26.419 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:30:26.424 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:30:26.426 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:30:26.426 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:30:26.427 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5958ms
2025-08-02 20:30:26.427 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.9211ms
2025-08-02 20:30:26.428 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:30:26.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:30:26.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 29.4152ms
2025-08-02 20:30:26.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 29.4833ms
2025-08-02 20:30:26.520 +00:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:30:26.520 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:30:26.520 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 118.1764ms
2025-08-02 20:30:26.520 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:30:26.520 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 118.7561ms
2025-08-02 20:30:38.387 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:31:26.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:31:26.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:31:26.402 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:31:26.404 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:31:26.404 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:31:26.404 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:31:26.404 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:31:26.404 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:31:26.421 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:31:26.423 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:31:26.424 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:31:26.434 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:31:26.452 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:31:26.452 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:31:26.453 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:31:26.453 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:31:26.453 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.0868ms
2025-08-02 20:31:26.453 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.4416ms
2025-08-02 20:31:26.453 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:31:26.453 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:31:26.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 51.876ms
2025-08-02 20:31:26.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 51.439ms
2025-08-02 20:31:26.575 +00:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:31:26.575 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:31:26.575 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 139.8171ms
2025-08-02 20:31:26.575 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:31:26.575 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 154.2924ms
2025-08-02 20:32:18.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:32:18.393 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:18.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.0847ms
2025-08-02 20:32:18.405 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:32:18.407 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:18.408 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:32:18.410 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:32:18.424 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:32:18.432 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:32:18.446 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:32:18.447 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:18.447 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 36.8033ms
2025-08-02 20:32:18.447 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:32:18.448 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 51.5276ms
2025-08-02 20:32:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:26.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:26.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:26.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:26.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:26.391 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:32:26.393 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:32:26.393 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:32:26.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:26.433 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:26.434 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:32:26.434 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:32:26.471 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:32:26.472 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:26.482 +00:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:32:26.485 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:26.472 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 81.198ms
2025-08-02 20:32:26.497 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:26.497 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 109.7269ms
2025-08-02 20:32:26.518 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 124.4025ms
2025-08-02 20:32:26.519 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:32:26.529 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 141.3822ms
2025-08-02 20:32:26.694 +00:00 [INF] Executed DbCommand (210ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:32:26.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:26.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 261.2605ms
2025-08-02 20:32:26.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:32:26.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 299.7381ms
2025-08-02 20:32:46.400 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:32:46.400 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.400 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.4622ms
2025-08-02 20:32:46.403 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:32:46.403 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.403 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:32:46.404 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:32:46.404 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.404 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4966ms
2025-08-02 20:32:46.404 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:32:46.404 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.5381ms
2025-08-02 20:32:46.408 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:32:46.408 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.408 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:32:46.408 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.0195ms
2025-08-02 20:32:46.408 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.409 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:32:46.409 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:32:46.409 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.409 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5965ms
2025-08-02 20:32:46.409 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:32:46.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.4624ms
2025-08-02 20:32:46.418 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:32:46.418 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:32:46.418 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.418 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.418 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.2133ms
2025-08-02 20:32:46.418 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:32:46.418 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:32:46.423 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 419
2025-08-02 20:32:46.424 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.424 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:32:46.424 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:32:46.424 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:32:46.425 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 0.8339ms
2025-08-02 20:32:46.425 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:32:46.425 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 1.9662ms
2025-08-02 20:32:46.428 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:32:46.436 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:32:46.442 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:32:46.442 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.443 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 24.1663ms
2025-08-02 20:32:46.443 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:32:46.443 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 24.7004ms
2025-08-02 20:32:46.525 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.525 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.526 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.526 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.526 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:46.526 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 1.0902ms
2025-08-02 20:32:46.526 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:32:46.527 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:32:46.528 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.528 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:32:46.528 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.529 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:32:46.530 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.530 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:32:46.531 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:32:46.531 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:32:46.531 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:32:46.532 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.533 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.535 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.6631ms
2025-08-02 20:32:46.535 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.535 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:32:46.535 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:46.535 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.535 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.535 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 2.0973ms
2025-08-02 20:32:46.535 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 10.1953ms
2025-08-02 20:32:46.535 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.536 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.536 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:32:46.536 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.556 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.556 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.556 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 28.3675ms
2025-08-02 20:32:46.556 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:32:46.562 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:32:46.562 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.563 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.563 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 36.6208ms
2025-08-02 20:32:46.564 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:46.564 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-08-02 20:32:46.565 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:32:46.567 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.567 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:32:46.567 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.568 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.568 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 37.0309ms
2025-08-02 20:32:46.568 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:32:46.577 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:32:46.608 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:32:46.612 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 83.565ms
2025-08-02 20:32:46.612 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.612 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:32:46.612 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:32:46.612 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:32:46.621 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.635 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.635 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 67.5492ms
2025-08-02 20:32:46.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 68.1801ms
2025-08-02 20:32:46.635 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-08-02 20:32:46.635 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:32:46.635 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 74.2202ms
2025-08-02 20:32:46.635 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 71.6968ms
2025-08-02 20:32:46.651 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.651 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.651 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 116.0037ms
2025-08-02 20:32:46.651 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:32:46.652 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 120.5167ms
2025-08-02 20:32:46.660 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.660 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:32:46.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.661 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 125.5481ms
2025-08-02 20:32:46.661 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:32:46.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-08-02 20:32:46.661 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 126.0124ms
2025-08-02 20:32:46.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.662 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 49.0983ms
2025-08-02 20:32:46.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:32:46.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:32:46.662 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 54.4072ms
2025-08-02 20:32:46.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.667 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.668 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:32:46.668 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.668 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 6.1913ms
2025-08-02 20:32:46.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-08-02 20:32:46.668 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 7.3927ms
2025-08-02 20:32:46.672 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:32:46.675 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.676 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.676 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.9036ms
2025-08-02 20:32:46.679 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:32:46.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType83`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.679 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 11.4804ms
2025-08-02 20:32:46.679 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-08-02 20:32:46.680 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:32:46.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 12.9659ms
2025-08-02 20:32:46.680 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-08-02 20:32:46.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-08-02 20:32:46.714 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.714 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:32:46.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:32:46.714 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.714 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.777 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:32:46.780 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.780 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 66.2304ms
2025-08-02 20:32:46.780 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:32:46.780 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 67.4874ms
2025-08-02 20:32:46.813 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[IsActive], [t0].[LastActivityDate], [t0].[LastLoginDate], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[ProfilePicture], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[IsActive], [t1].[LastActivityDate], [t1].[LastLoginDate], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[ProfilePicture], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[IsActive], [a0].[LastActivityDate], [a0].[LastLoginDate], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-08-02 20:32:46.814 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType41`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType42`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:32:46.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 100.6207ms
2025-08-02 20:32:46.815 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-08-02 20:32:46.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 101.7671ms
2025-08-02 20:32:46.846 +00:00 [INF] Executed DbCommand (162ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:32:46.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 166.6937ms
2025-08-02 20:32:46.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:32:46.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 168.217ms
2025-08-02 20:32:46.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:32:46.877 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:32:46.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:32:46.878 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:32:46.895 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:32:46.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType86`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:32:46.908 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 29.0484ms
2025-08-02 20:32:46.908 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-08-02 20:32:46.908 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 48.8338ms
2025-08-02 20:33:17.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:33:17.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:17.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:33:17.392 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:33:17.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:33:17.401 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:17.402 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:17.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:33:17.402 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:33:17.402 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:17.403 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:33:17.403 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:33:17.418 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:33:17.425 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:33:17.428 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:17.428 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:17.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.1536ms
2025-08-02 20:33:17.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.4362ms
2025-08-02 20:33:17.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:33:17.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:17.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 41.8788ms
2025-08-02 20:33:17.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 30.8889ms
2025-08-02 20:33:17.460 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:33:17.460 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:17.461 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.7623ms
2025-08-02 20:33:17.461 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:33:17.461 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 58.7363ms
2025-08-02 20:33:28.662 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:33:28.662 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:28.662 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:33:28.663 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:28.663 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 1.3392ms
2025-08-02 20:33:28.664 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 2.4361ms
2025-08-02 20:33:28.673 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:33:28.673 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:33:28.674 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:28.674 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:28.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:28.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:28.674 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:33:28.674 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:33:28.675 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:33:28.675 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:33:28.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 0.8274ms
2025-08-02 20:33:28.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 0.7814ms
2025-08-02 20:33:28.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:28.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:28.675 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.359ms
2025-08-02 20:33:28.675 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.3566ms
2025-08-02 20:33:29.108 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:33:29.108 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:33:29.109 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.109 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.109 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:29.109 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:29.109 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:33:29.116 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:33:29.117 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:33:29.118 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.119 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.119 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:29.120 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 10.5636ms
2025-08-02 20:33:29.120 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:29.121 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 12.6156ms
2025-08-02 20:33:29.127 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:33:29.128 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:29.133 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:33:29.134 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.135 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:29.135 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:33:29.142 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:33:29.144 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.146 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 10.9304ms
2025-08-02 20:33:29.146 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:29.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 16.1069ms
2025-08-02 20:33:29.159 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:33:29.227 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.243 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:33:29.248 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.250 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.256 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.258 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.273 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.280 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.289 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.294 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.317 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.326 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.331 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.339 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.342 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.356 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.359 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.363 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.376 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.378 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.386 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.390 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.392 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.397 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.403 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.406 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.409 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.410 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 282.2197ms
2025-08-02 20:33:29.410 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:29.410 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 301.6009ms
2025-08-02 20:33:29.411 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.412 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:33:29.415 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.415 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.415 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:29.415 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:33:29.421 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.423 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:33:29.424 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.425 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 9.2444ms
2025-08-02 20:33:29.425 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:29.426 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 13.2555ms
2025-08-02 20:33:29.427 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.430 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.433 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.439 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.440 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.442 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.447 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.450 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.455 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.456 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.458 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.459 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.460 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.462 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.465 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.471 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.474 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.475 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.483 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.490 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.491 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.497 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.501 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.513 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.518 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.524 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.527 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.538 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.541 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.549 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.558 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.561 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.573 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.576 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.579 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.582 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.587 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.597 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.600 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.605 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.607 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.612 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 483.6854ms
2025-08-02 20:33:29.612 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:29.612 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 495.3892ms
2025-08-02 20:33:29.616 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:33:29.617 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.617 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:29.618 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:29.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:33:29.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.632 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.638 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.653 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.664 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.670 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.687 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.690 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.702 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.720 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.723 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.727 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.736 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.748 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.754 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.772 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.791 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.795 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.799 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.805 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.808 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.814 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.818 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.822 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.824 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.835 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.839 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.845 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.847 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.854 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.856 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.858 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.859 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:29.859 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:29.860 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.860 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.860 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.1972ms
2025-08-02 20:33:29.860 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.7972ms
2025-08-02 20:33:29.862 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.865 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:29.865 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:29.865 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.866 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:29.868 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:29.868 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:29.868 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:29.868 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:29.872 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.878 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.882 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:29.882 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:29.886 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.893 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:29.894 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:29.895 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.898 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.905 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.908 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.911 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:29.912 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:29.913 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 44.4728ms
2025-08-02 20:33:29.913 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:29.913 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.913 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 48.4802ms
2025-08-02 20:33:29.914 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:29.921 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:29.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:29.924 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 306.2469ms
2025-08-02 20:33:29.924 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:29.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 308.5068ms
2025-08-02 20:33:29.925 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:29.925 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 56.5979ms
2025-08-02 20:33:29.925 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:29.925 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 60.195ms
2025-08-02 20:33:36.836 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:36.841 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:36.850 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:36.850 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 15.6145ms
2025-08-02 20:33:36.850 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:36.850 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 8.4874ms
2025-08-02 20:33:36.853 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:36.853 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:36.854 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:36.854 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:36.855 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:36.855 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:36.855 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:36.855 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:36.862 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:36.865 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:36.874 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:36.874 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:36.887 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:36.887 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:36.888 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:36.888 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 32.7442ms
2025-08-02 20:33:36.888 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:36.889 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 35.6281ms
2025-08-02 20:33:36.897 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:36.897 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 41.2939ms
2025-08-02 20:33:36.897 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:36.897 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 43.8602ms
2025-08-02 20:33:42.186 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:33:42.186 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.187 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.1838ms
2025-08-02 20:33:42.196 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:33:42.196 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:42.196 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.197 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:33:42.197 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:33:42.198 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.198 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.198 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.8667ms
2025-08-02 20:33:42.198 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.200 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 3.9563ms
2025-08-02 20:33:42.198 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:33:42.201 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:42.198 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.3598ms
2025-08-02 20:33:42.202 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:42.202 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8092ms
2025-08-02 20:33:42.202 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:33:42.202 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 4.7494ms
2025-08-02 20:33:42.206 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:33:42.210 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:42.210 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.210 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.210 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:42.212 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:33:42.212 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:33:42.212 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:42.213 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.213 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:42.213 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:33:42.213 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:42.213 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:42.213 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:33:42.213 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5511ms
2025-08-02 20:33:42.213 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:33:42.213 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 0.8706ms
2025-08-02 20:33:42.213 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.8171ms
2025-08-02 20:33:42.213 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:33:42.213 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 9.0951ms
2025-08-02 20:33:42.227 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:42.230 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:42.237 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:42.239 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:42.240 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 26.8845ms
2025-08-02 20:33:42.240 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:42.241 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 31.4228ms
2025-08-02 20:33:42.948 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:33:42.949 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.949 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:33:42.946 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:33:42.949 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.949 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.949 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:42.946 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:33:42.949 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:42.949 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:42.949 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.949 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:42.949 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:42.949 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:33:42.949 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:33:42.956 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:33:42.954 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:33:42.960 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:33:42.960 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:33:42.961 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:42.961 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:42.962 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.3245ms
2025-08-02 20:33:42.962 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:42.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 13.7067ms
2025-08-02 20:33:42.962 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 12.6086ms
2025-08-02 20:33:42.962 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:42.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 16.3641ms
2025-08-02 20:33:42.974 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:33:42.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:33:42.977 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:42.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:33:42.977 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.4645ms
2025-08-02 20:33:42.977 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:42.977 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.977 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:42.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:42.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:42.977 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:33:42.977 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:33:42.985 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.029 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:33:43.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:33:43.030 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:43.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:43.032 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:33:43.030 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:33:43.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:43.032 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:43.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 55.1543ms
2025-08-02 20:33:43.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:33:43.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 55.1737ms
2025-08-02 20:33:43.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:33:43.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 57.8292ms
2025-08-02 20:33:43.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 57.8519ms
2025-08-02 20:33:43.035 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 97.4363ms
2025-08-02 20:33:43.044 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:33:43.045 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:43.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.4413ms
2025-08-02 20:33:43.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:33:43.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 44.0705ms
2025-08-02 20:33:43.065 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.078 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.084 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.090 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.093 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.104 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.111 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.121 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.124 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.128 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.133 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.140 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.143 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.157 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.166 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.174 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.183 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.185 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.192 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.194 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.196 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.207 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.211 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.219 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.225 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.227 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.233 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.236 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.242 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.250 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.260 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.264 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.268 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.271 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.277 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.283 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.286 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.291 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.299 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.304 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.308 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.318 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.324 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.335 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.343 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.351 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.358 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.360 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.363 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.366 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.368 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.373 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.375 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.378 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.380 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.384 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.389 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.391 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.395 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:43.401 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 451.5466ms
2025-08-02 20:33:43.402 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:33:43.403 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:43.404 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:43.404 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 455.7031ms
2025-08-02 20:33:43.404 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:43.404 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:43.407 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:33:43.410 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.415 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.419 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.424 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.425 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.427 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.428 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.431 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.434 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.440 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.442 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.447 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.451 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.456 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.458 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.460 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.461 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.465 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.468 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.474 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.475 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.481 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.486 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.490 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.505 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.516 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.522 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.524 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.531 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.534 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.540 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.548 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.552 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.556 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.558 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.563 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.572 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.578 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.582 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.589 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.591 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.598 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.605 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.609 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.613 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.624 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.626 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.635 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.642 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.645 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.649 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.651 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.655 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.660 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.667 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.673 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.684 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.688 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.693 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:33:43.696 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:33:43.701 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 296.8958ms
2025-08-02 20:33:43.702 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:33:43.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 301.4068ms
2025-08-02 20:33:49.136 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:33:49.137 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:49.137 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.9614ms
2025-08-02 20:33:49.139 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:49.140 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:49.140 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:49.140 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:49.145 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:49.151 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:49.153 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:49.154 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:49.154 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 13.7316ms
2025-08-02 20:33:49.154 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:49.154 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 15.1485ms
2025-08-02 20:33:51.087 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:33:51.089 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:33:51.089 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:51.089 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:33:51.093 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:33:51.097 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:33:51.099 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:33:51.100 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:33:51.100 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 11.0269ms
2025-08-02 20:33:51.100 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:33:51.100 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 13.4039ms
2025-08-02 20:34:11.718 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:34:11.718 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:11.719 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.7467ms
2025-08-02 20:34:11.720 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:34:11.720 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:11.720 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:11.721 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:11.726 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:34:11.729 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:34:11.741 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:34:11.741 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:11.741 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 20.502ms
2025-08-02 20:34:11.741 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:11.741 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 21.3685ms
2025-08-02 20:34:13.028 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:34:13.028 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.028 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.4357ms
2025-08-02 20:34:13.032 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-08-02 20:34:13.033 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.033 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.3359ms
2025-08-02 20:34:13.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:34:13.043 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:34:13.043 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:34:13.044 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.044 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.044 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.044 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.9605ms
2025-08-02 20:34:13.044 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:34:13.044 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:13.044 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:13.044 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:13.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:13.044 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4188ms
2025-08-02 20:34:13.044 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:34:13.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.601ms
2025-08-02 20:34:13.073 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:34:13.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-08-02 20:34:13.073 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.073 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:34:13.074 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.074 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:13.075 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:34:13.075 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:13.075 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:13.076 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:34:13.077 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:13.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.6047ms
2025-08-02 20:34:13.077 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.601ms
2025-08-02 20:34:13.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:13.077 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-08-02 20:34:13.077 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 4.3736ms
2025-08-02 20:34:13.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 4.1874ms
2025-08-02 20:34:13.080 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:34:13.086 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:34:13.088 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:13.088 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 44.0215ms
2025-08-02 20:34:13.088 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:13.088 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 45.4899ms
2025-08-02 20:34:13.398 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:34:13.398 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:34:13.399 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:13.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:34:13.400 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:34:13.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:34:13.400 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:13.400 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.400 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:34:13.399 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.400 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:13.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:13.400 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:13.400 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:34:13.410 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:34:13.416 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:34:13.416 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:34:13.417 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.417 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.417 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 16.9581ms
2025-08-02 20:34:13.417 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:34:13.417 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 17.2465ms
2025-08-02 20:34:13.417 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:13.417 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:13.417 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:13.417 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.329ms
2025-08-02 20:34:13.418 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:13.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 18.4734ms
2025-08-02 20:34:13.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 19.6854ms
2025-08-02 20:34:13.417 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 19.3296ms
2025-08-02 20:34:13.470 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:34:13.470 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:34:13.470 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:34:13.507 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.507 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.507 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:13.508 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:13.508 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:34:13.508 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:34:13.526 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:34:13.526 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:34:13.526 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.526 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.528 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:13.528 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:34:13.528 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.528 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 20.4354ms
2025-08-02 20:34:13.528 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:13.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 58.3071ms
2025-08-02 20:34:13.534 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.535 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:13.535 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.086ms
2025-08-02 20:34:13.535 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:13.535 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 64.9833ms
2025-08-02 20:34:13.540 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:34:13.553 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.553 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 25.6835ms
2025-08-02 20:34:13.553 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:13.554 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.554 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 83.9151ms
2025-08-02 20:34:13.560 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.582 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.585 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.590 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.592 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.599 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.601 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.606 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.609 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.614 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.618 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.623 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.625 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.633 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.635 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.648 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.651 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.653 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.655 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.658 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.664 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.671 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.690 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.715 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.723 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.730 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.749 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.751 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.753 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.756 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.758 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 357.5684ms
2025-08-02 20:34:13.758 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:13.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 358.3347ms
2025-08-02 20:34:13.760 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:34:13.761 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:13.761 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:13.761 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:13.763 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:34:13.769 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.776 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.782 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.785 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.790 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.792 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.796 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.807 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.808 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.815 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.816 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.821 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.823 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.833 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.835 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.838 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.839 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.847 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.848 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.850 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.855 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.857 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.858 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.860 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.866 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.869 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.873 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.876 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.881 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.886 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.889 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.894 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.898 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.901 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.903 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.905 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.914 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.917 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.918 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.923 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.927 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.932 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.936 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.939 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.942 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.944 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:13.944 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:13.946 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 185.1873ms
2025-08-02 20:34:13.946 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:13.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 186.6142ms
2025-08-02 20:34:17.873 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 421
2025-08-02 20:34:17.874 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.874 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:17.874 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.875 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:34:17.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.2066ms
2025-08-02 20:34:17.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:17.875 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 2.5197ms
2025-08-02 20:34:17.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:34:17.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:34:17.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:34:17.984 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:34:17.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:34:17.984 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:34:17.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:34:17.984 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.984 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.984 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:34:17.984 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:17.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:34:17.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:34:17.984 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.984 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.984 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.984 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:17.996 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:34:17.996 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:34:17.998 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:34:17.998 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:34:17.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 15.5246ms
2025-08-02 20:34:18.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:34:18.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 17.4169ms
2025-08-02 20:34:18.001 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:34:18.002 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.002 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 18.1824ms
2025-08-02 20:34:18.002 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:34:18.003 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 19.6436ms
2025-08-02 20:34:18.006 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:34:18.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - null null
2025-08-02 20:34:18.017 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - null null
2025-08-02 20:34:18.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:34:18.018 +00:00 [INF] Route matched with {action = "GetMostActiveUsers", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostActiveUsers(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:18.019 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:34:18.023 +00:00 [INF] Route matched with {action = "GetActivityTrends", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityTrends(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:18.023 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:34:18.039 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], COUNT(*) AS [ActivityCount], MAX([u].[Timestamp]) AS [LastActivity], (
    SELECT TOP(1) [u0].[Module]
    FROM [UserActivities] AS [u0]
    WHERE [u].[UserId] = [u0].[UserId]
    GROUP BY [u0].[Module]
    ORDER BY COUNT(*) DESC) AS [MostActiveModule]
FROM [UserActivities] AS [u]
GROUP BY [u].[UserId]
ORDER BY COUNT(*) DESC
2025-08-02 20:34:18.039 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:34:18.039 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:34:18.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 60.5535ms
2025-08-02 20:34:18.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:34:18.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 61.7154ms
2025-08-02 20:34:18.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.052 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - null null
2025-08-02 20:34:18.052 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.052 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:34:18.052 +00:00 [INF] Route matched with {action = "GetPopularPages", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPopularPages(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:18.052 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:34:18.052 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] IN (
    SELECT [u].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u]
)
2025-08-02 20:34:18.053 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:18.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[<>f__AnonymousType128`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType130`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet) in 35.051ms
2025-08-02 20:34:18.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 69.5491ms
2025-08-02 20:34:18.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetMostActiveUsers (PersonaXFleet)'
2025-08-02 20:34:18.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:34:18.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 71.4572ms
2025-08-02 20:34:18.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/most-active-users?limit=10 - 200 null application/json; charset=utf-8 47.6983ms
2025-08-02 20:34:18.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/stats - null null
2025-08-02 20:34:18.059 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:34:18.061 +00:00 [INF] Route matched with {action = "GetActivityStats", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActivityStats(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:18.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - null null
2025-08-02 20:34:18.066 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:34:18.066 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:18.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 100.1145ms
2025-08-02 20:34:18.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:34:18.084 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[PageUrl], COUNT(*) AS [VisitCount], COUNT(DISTINCT ([u].[UserId])) AS [UniqueUsers]
FROM [UserActivities] AS [u]
WHERE [u].[PageUrl] IS NOT NULL
GROUP BY [u].[PageUrl]
ORDER BY COUNT(*) DESC
2025-08-02 20:34:18.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 106.7133ms
2025-08-02 20:34:18.094 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Key] AS [Date], COUNT(*) AS [ActivityCount], COUNT(DISTINCT ([t].[UserId])) AS [UniqueUsers]
FROM (
    SELECT [u].[UserId], CONVERT(date, [u].[Timestamp]) AS [Key]
    FROM [UserActivities] AS [u]
    WHERE [u].[Timestamp] >= @__startDate_0
) AS [t]
GROUP BY [t].[Key]
ORDER BY [t].[Key]
2025-08-02 20:34:18.095 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:34:18.098 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType131`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.099 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType132`3[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.099 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet) in 46.9067ms
2025-08-02 20:34:18.100 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet) in 76.6469ms
2025-08-02 20:34:18.100 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetPopularPages (PersonaXFleet)'
2025-08-02 20:34:18.100 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityTrends (PersonaXFleet)'
2025-08-02 20:34:18.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/popular-pages?limit=10 - 200 null application/json; charset=utf-8 48.5255ms
2025-08-02 20:34:18.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/trends?days=30 - 200 null application/json; charset=utf-8 83.1483ms
2025-08-02 20:34:18.102 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserActivities] AS [u]
2025-08-02 20:34:18.121 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[UserId]
    FROM [UserActivities] AS [u]
) AS [t]
2025-08-02 20:34:18.133 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Module], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[Module]
2025-08-02 20:34:18.136 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ActivityType], COUNT(*) AS [Count]
FROM [UserActivities] AS [u]
GROUP BY [u].[ActivityType]
2025-08-02 20:34:18.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[ActivityType], [u].[Module], [u].[Timestamp]
FROM [UserActivities] AS [u]
ORDER BY [u].[Timestamp] DESC
2025-08-02 20:34:18.138 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType123`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType124`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType125`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType126`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:18.138 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:18.138 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet) in 76.8115ms
2025-08-02 20:34:18.138 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetActivityStats (PersonaXFleet)'
2025-08-02 20:34:18.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/stats - 200 null application/json; charset=utf-8 81.8274ms
2025-08-02 20:34:18.148 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 81.2776ms
2025-08-02 20:34:18.148 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:34:18.148 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=100 - 200 null application/json; charset=utf-8 91.8752ms
2025-08-02 20:34:18.883 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:34:18.883 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.884 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.9934ms
2025-08-02 20:34:18.886 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:34:18.886 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:18.886 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:18.886 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:18.891 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:34:18.895 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:34:18.902 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:34:18.902 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:18.902 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 15.6163ms
2025-08-02 20:34:18.902 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:18.902 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 16.792ms
2025-08-02 20:34:19.901 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:34:19.902 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:19.902 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.6338ms
2025-08-02 20:34:19.904 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:34:19.904 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:19.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:19.904 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:34:19.904 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:34:19.904 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 0.4665ms
2025-08-02 20:34:19.904 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:34:19.904 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 1.0817ms
2025-08-02 20:34:20.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:34:20.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:34:20.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:34:20.073 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.073 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.073 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:20.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:20.073 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:20.073 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:34:20.073 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:34:20.073 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:20.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:34:20.076 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:34:20.076 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:34:20.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.084 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.6182ms
2025-08-02 20:34:20.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 12.6074ms
2025-08-02 20:34:20.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:20.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:20.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 14.1621ms
2025-08-02 20:34:20.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 13.7223ms
2025-08-02 20:34:20.091 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.092 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:34:20.092 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:34:20.093 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.093 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:20.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:20.093 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:34:20.093 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:34:20.096 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.103 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:34:20.104 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:34:20.105 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.106 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 13.0879ms
2025-08-02 20:34:20.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 13.2089ms
2025-08-02 20:34:20.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:34:20.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:34:20.107 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 15.487ms
2025-08-02 20:34:20.107 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 15.519ms
2025-08-02 20:34:20.108 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.113 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.115 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.119 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.121 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.126 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.128 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.134 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.140 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.142 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.149 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.150 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.151 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.161 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.162 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.164 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.166 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.168 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.169 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.177 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.179 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.182 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.183 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.184 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.185 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.186 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.188 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.191 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.194 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.195 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.197 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.197 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.199 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.200 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.201 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.202 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.204 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.205 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.211 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.216 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.217 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.218 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.223 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.226 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.230 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.230 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.231 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 158.3272ms
2025-08-02 20:34:20.231 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:20.231 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 159.1698ms
2025-08-02 20:34:20.234 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:34:20.234 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.234 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:20.234 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:20.235 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:34:20.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.247 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.250 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.252 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.254 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.258 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.259 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.264 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.265 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.266 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.267 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.291 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.293 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.296 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.300 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.302 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.304 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.306 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.308 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.311 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.330 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.349 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.364 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.374 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.392 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.404 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.421 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.432 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.434 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.435 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.437 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.438 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.441 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.442 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.446 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.463 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.466 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.467 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.475 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.483 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.490 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.491 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:34:20.496 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:20.498 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 264.0066ms
2025-08-02 20:34:20.498 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:34:20.498 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 264.9409ms
2025-08-02 20:34:20.906 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:34:20.907 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:20.907 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:20.907 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:20.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:34:20.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:34:20.921 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:34:20.922 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:20.922 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 14.3302ms
2025-08-02 20:34:20.922 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:20.922 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 15.6844ms
2025-08-02 20:34:22.285 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:34:22.286 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:22.286 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:22.286 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:34:22.289 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:34:22.295 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:34:22.301 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:34:22.301 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:22.301 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 15.0662ms
2025-08-02 20:34:22.301 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:34:22.301 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 16.2362ms
2025-08-02 20:34:43.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:34:43.390 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:43.390 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:34:43.390 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:34:43.392 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:34:43.392 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:34:43.392 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:43.392 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:34:43.392 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:43.392 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:34:43.392 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:34:43.392 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:34:43.397 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:34:43.401 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:34:43.403 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:34:43.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6502ms
2025-08-02 20:34:43.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:34:43.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 13.3399ms
2025-08-02 20:34:43.403 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:43.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.4426ms
2025-08-02 20:34:43.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:34:43.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 13.999ms
2025-08-02 20:34:43.474 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:34:43.474 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:34:43.474 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 81.8363ms
2025-08-02 20:34:43.474 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:34:43.474 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 82.4311ms
2025-08-02 20:35:13.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:13.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:13.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:13.385 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:13.385 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:13.386 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:13.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:35:13.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:35:13.386 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:35:13.386 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:35:13.386 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:35:13.387 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:35:13.406 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:35:13.406 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:35:13.406 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:35:13.406 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.6304ms
2025-08-02 20:35:13.406 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:35:13.406 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:35:13.406 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 21.3129ms
2025-08-02 20:35:13.406 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.6711ms
2025-08-02 20:35:13.406 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:35:13.406 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 21.743ms
2025-08-02 20:35:13.447 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:35:13.447 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:35:13.447 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.8362ms
2025-08-02 20:35:13.447 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:35:13.448 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 62.2331ms
2025-08-02 20:35:38.408 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cutoffDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[LastActivityDate] < @__cutoffDate_0
2025-08-02 20:35:43.397 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:43.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:43.398 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:43.398 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:35:43.398 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:35:43.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:43.398 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:35:43.398 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:35:43.398 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:35:43.398 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:35:43.398 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:35:43.400 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:35:43.413 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:35:43.415 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:35:43.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.7129ms
2025-08-02 20:35:43.416 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:35:43.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:35:43.420 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:35:43.421 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:35:43.421 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.3521ms
2025-08-02 20:35:43.421 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:35:43.425 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 27.173ms
2025-08-02 20:35:43.425 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:35:43.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.84ms
2025-08-02 20:35:43.426 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.1271ms
2025-08-02 20:35:43.426 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:35:43.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 28.5234ms
2025-08-02 20:36:13.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:13.387 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:36:13.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:13.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:13.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:13.388 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:13.389 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 1.2427ms
2025-08-02 20:36:13.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:36:13.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:36:13.389 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:13.389 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:36:13.389 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:36:13.389 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:13.389 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:36:13.389 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:36:13.411 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:36:13.415 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:36:13.417 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:36:13.418 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1766ms
2025-08-02 20:36:13.418 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:36:13.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 30.7705ms
2025-08-02 20:36:13.418 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:36:13.422 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.3722ms
2025-08-02 20:36:13.422 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:36:13.422 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:36:13.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 35.0519ms
2025-08-02 20:36:13.422 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:13.422 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:36:13.425 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:36:13.430 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:36:13.456 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:36:13.456 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:36:13.456 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.6239ms
2025-08-02 20:36:13.457 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:36:13.457 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 67.9199ms
2025-08-02 20:36:13.458 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:36:13.467 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:36:13.467 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:36:13.467 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 41.6674ms
2025-08-02 20:36:13.467 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:36:13.467 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 44.9962ms
2025-08-02 20:36:43.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:43.396 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:43.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:43.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:36:43.396 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:43.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:36:43.396 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:36:43.397 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:36:43.409 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:36:43.409 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:36:43.411 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:36:43.411 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:36:43.411 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:36:43.411 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.2402ms
2025-08-02 20:36:43.411 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.2856ms
2025-08-02 20:36:43.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:36:43.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:36:43.411 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:36:43.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 14.9056ms
2025-08-02 20:36:43.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 14.6709ms
2025-08-02 20:36:43.411 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:36:43.411 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:36:43.470 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:36:43.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:36:43.470 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.444ms
2025-08-02 20:36:43.470 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:36:43.470 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 60.4909ms
2025-08-02 20:37:15.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:15.668 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:15.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:37:15.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:15.669 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:37:15.670 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:15.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:37:15.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:37:15.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:15.684 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:15.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:37:15.690 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:15.690 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:37:15.691 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:15.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.663ms
2025-08-02 20:37:15.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:37:15.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 25.8093ms
2025-08-02 20:37:15.911 +00:00 [INF] Executed DbCommand (238ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:37:15.912 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:37:15.912 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 241.762ms
2025-08-02 20:37:15.912 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:37:15.912 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 243.8819ms
2025-08-02 20:37:15.993 +00:00 [INF] Executed DbCommand (292ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:37:15.993 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:15.993 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 303.0824ms
2025-08-02 20:37:15.993 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:37:15.994 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 312.7782ms
2025-08-02 20:37:20.022 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:37:20.022 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.023 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 3.3172ms
2025-08-02 20:37:20.097 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 417
2025-08-02 20:37:20.097 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.098 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:37:20.101 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:37:20.198 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:37:20.198 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.198 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 0.3655ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 0.1117ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.0844ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.0945ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 0.1141ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 0.0766ms
2025-08-02 20:37:20.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:37:20.199 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.163ms
2025-08-02 20:37:20.200 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:37:20.200 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.200 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.1113ms
2025-08-02 20:37:20.211 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:37:20.211 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 109.275ms
2025-08-02 20:37:20.211 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:37:20.211 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 114.3852ms
2025-08-02 20:37:20.468 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:37:20.468 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.468 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:37:20.468 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:20.475 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:37:20.475 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.475 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:37:20.475 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:37:20.475 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:20.475 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:37:20.475 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.490 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:37:20.511 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:20.614 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.614 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:37:20.614 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:37:20.631 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:37:20.631 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:20.631 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 120.4634ms
2025-08-02 20:37:20.631 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:37:20.631 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 156.2355ms
2025-08-02 20:37:20.791 +00:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:37:20.791 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:20.791 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 323.0752ms
2025-08-02 20:37:20.791 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:37:20.792 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 323.9676ms
2025-08-02 20:37:20.792 +00:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:37:20.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-08-02 20:37:20.795 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:37:20.795 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:20.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-08-02 20:37:20.804 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.804 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:37:20.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:37:20.805 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:20.805 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:20.805 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:20.806 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 191.7279ms
2025-08-02 20:37:20.806 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:37:20.806 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 330.8258ms
2025-08-02 20:37:20.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-08-02 20:37:20.825 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:20.825 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:37:20.825 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:21.028 +00:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-08-02 20:37:21.029 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType82`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:21.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 224.3772ms
2025-08-02 20:37:21.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-08-02 20:37:21.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 225.7409ms
2025-08-02 20:37:21.035 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:37:21.035 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.036 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.6957ms
2025-08-02 20:37:21.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 563.6148ms
2025-08-02 20:37:21.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:37:21.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 564.8311ms
2025-08-02 20:37:21.040 +00:00 [INF] Executed DbCommand (211ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-08-02 20:37:21.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:21.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 245.0062ms
2025-08-02 20:37:21.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-08-02 20:37:21.103 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:37:21.103 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.103 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:37:21.103 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:37:21.210 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 406.9285ms
2025-08-02 20:37:21.242 +00:00 [INF] Executed DbCommand (239ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-08-02 20:37:21.242 +00:00 [INF] Executed DbCommand (95ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:37:21.247 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:37:21.247 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.247 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:37:21.247 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:37:21.330 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:21.331 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.331 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.2813ms
2025-08-02 20:37:21.331 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:37:21.331 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.331 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 0.094ms
2025-08-02 20:37:21.331 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:21.331 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.331 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 204 null null 0.084ms
2025-08-02 20:37:21.331 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:37:21.331 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.331 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 204 null null 0.1023ms
2025-08-02 20:37:21.332 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:21.431 +00:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:37:21.551 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 725.7875ms
2025-08-02 20:37:21.558 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-08-02 20:37:21.558 +00:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:37:21.595 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 764.21ms
2025-08-02 20:37:21.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:37:21.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:37:21.677 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:37:21.682 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:37:21.699 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:37:21.699 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:37:21.699 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:21.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:37:21.699 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:37:21.700 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:21.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 452.3311ms
2025-08-02 20:37:21.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:37:21.700 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 453.234ms
2025-08-02 20:37:21.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:21.701 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:37:21.701 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:21.927 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:37:21.965 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:21.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:37:21.993 +00:00 [INF] Executed DbCommand (285ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:37:21.998 +00:00 [INF] Executed DbCommand (282ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:37:22.008 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:22.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:37:22.041 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:37:22.042 +00:00 [INF] Executed DbCommand (340ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:37:22.042 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 938.5225ms
2025-08-02 20:37:22.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 342.4392ms
2025-08-02 20:37:22.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:37:22.042 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:37:22.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 394.1202ms
2025-08-02 20:37:22.042 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 1001.6961ms
2025-08-02 20:37:22.042 +00:00 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:37:22.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 343.4813ms
2025-08-02 20:37:22.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:37:22.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 398.4823ms
2025-08-02 20:37:22.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 347.1508ms
2025-08-02 20:37:22.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:37:22.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 371.3295ms
2025-08-02 20:37:22.159 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:37:22.159 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.159 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 134.3364ms
2025-08-02 20:37:22.160 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:37:22.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 264.5387ms
2025-08-02 20:37:22.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - null null
2025-08-02 20:37:22.216 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:22.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:37:22.216 +00:00 [INF] Route matched with {action = "GetDocumentExpiryDetails", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDocumentExpiryDetails(Int32) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:37:22.591 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-08-02 20:37:22.592 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:22.592 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:37:22.592 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:22.592 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - null null
2025-08-02 20:37:22.593 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:22.593 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:37:22.593 +00:00 [INF] Route matched with {action = "GetRecentActivities", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentActivities(Int32) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:37:22.594 +00:00 [INF] Executed DbCommand (373ms) [Parameters=[@__maxDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE ([v].[NextServiceDue] IS NOT NULL AND CONVERT(date, [v].[NextServiceDue]) <= @__maxDate_0) OR ([v].[RoadworthyExpiry] IS NOT NULL AND CONVERT(date, [v].[RoadworthyExpiry]) <= @__maxDate_0) OR ([v].[RegistrationExpiry] IS NOT NULL AND CONVERT(date, [v].[RegistrationExpiry]) <= @__maxDate_0) OR ([v].[InsuranceExpiry] IS NOT NULL AND CONVERT(date, [v].[InsuranceExpiry]) <= @__maxDate_0)
2025-08-02 20:37:22.641 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ActivityType], [t].[Description], [t].[Details], [t].[DurationMs], [t].[EntityId], [t].[EntityType], [t].[ErrorMessage], [t].[IpAddress], [t].[IsSuccessful], [t].[Module], [t].[NewValues], [t].[OldValues], [t].[PageUrl], [t].[SessionId], [t].[Timestamp], [t].[UserAgent], [t].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT TOP(@__p_0) [u].[Id], [u].[ActivityType], [u].[Description], [u].[Details], [u].[DurationMs], [u].[EntityId], [u].[EntityType], [u].[ErrorMessage], [u].[IpAddress], [u].[IsSuccessful], [u].[Module], [u].[NewValues], [u].[OldValues], [u].[PageUrl], [u].[SessionId], [u].[Timestamp], [u].[UserAgent], [u].[UserId]
    FROM [UserActivities] AS [u]
    ORDER BY [u].[Timestamp] DESC
) AS [t]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[Timestamp] DESC
2025-08-02 20:37:22.642 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[PersonaXFleet.DTOs.DocumentExpiryDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:37:22.642 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.UserActivity, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.642 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet) in 425.5967ms
2025-08-02 20:37:22.642 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetDocumentExpiryDetails (PersonaXFleet)'
2025-08-02 20:37:22.645 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - null null
2025-08-02 20:37:22.645 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:22.646 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:37:22.646 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:22.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/document-expiry?days=30 - 200 null application/json; charset=utf-8 430.1256ms
2025-08-02 20:37:22.647 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet) in 54.7492ms
2025-08-02 20:37:22.648 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.GetRecentActivities (PersonaXFleet)'
2025-08-02 20:37:22.648 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/UserActivity/recent?limit=4 - 200 null application/json; charset=utf-8 55.5357ms
2025-08-02 20:37:22.686 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-08-02 20:37:22.686 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 40.272ms
2025-08-02 20:37:22.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-08-02 20:37:22.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/afd55307-8926-4ef6-bb7a-14476405082d/schedules - 200 null application/json; charset=utf-8 41.7444ms
2025-08-02 20:37:22.873 +00:00 [INF] Executed DbCommand (279ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-08-02 20:37:22.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:22.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 281.9054ms
2025-08-02 20:37:22.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-08-02 20:37:22.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 284.5174ms
2025-08-02 20:37:23.195 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:37:23.199 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:37:23.200 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:23.200 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 1499.2843ms
2025-08-02 20:37:23.200 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:37:23.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 1500.1986ms
2025-08-02 20:37:23.205 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:23.205 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:23.206 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:37:23.206 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-08-02 20:37:23.212 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:37:23.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-08-02 20:37:23.214 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:23.214 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 8.6178ms
2025-08-02 20:37:23.214 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-08-02 20:37:23.215 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 10.3013ms
2025-08-02 20:37:43.442 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:43.442 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:43.443 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:37:43.443 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:37:43.443 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:43.443 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:43.443 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:37:43.444 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:37:43.647 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:37:43.648 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:37:43.648 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:37:43.649 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:37:44.300 +00:00 [INF] Executed DbCommand (855ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:37:44.322 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:44.322 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 879.4709ms
2025-08-02 20:37:44.322 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:37:44.323 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 880.3172ms
2025-08-02 20:37:44.408 +00:00 [INF] Executed DbCommand (755ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:37:44.408 +00:00 [INF] Executed DbCommand (539ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:37:44.409 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:37:44.409 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 965.4387ms
2025-08-02 20:37:44.409 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:37:44.410 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 966.9995ms
2025-08-02 20:37:44.411 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:37:44.411 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 761.7416ms
2025-08-02 20:37:44.411 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:37:44.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 763.921ms
2025-08-02 20:38:06.714 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:38:06.714 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:06.714 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.2643ms
2025-08-02 20:38:06.738 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:38:06.738 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:06.738 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:06.738 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:38:06.878 +00:00 [INF] Executed DbCommand (137ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:38:06.924 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:38:06.960 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:38:06.961 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:38:06.961 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 222.6761ms
2025-08-02 20:38:06.961 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:06.961 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 223.3676ms
2025-08-02 20:38:13.498 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:38:13.498 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:13.498 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.4997ms
2025-08-02 20:38:13.519 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:38:13.519 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:13.520 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:13.520 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:38:13.701 +00:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:38:13.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:38:13.824 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:13.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:38:13.824 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:38:14.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:38:14.035 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:14.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:38:14.036 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-08-02 20:38:14.038 +00:00 [INF] Executed DbCommand (335ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:38:14.265 +00:00 [INF] Executed DbCommand (227ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-08-02 20:38:14.265 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:38:14.265 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:38:14.266 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 230.0821ms
2025-08-02 20:38:14.266 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-08-02 20:38:14.266 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:38:14.266 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 746.5261ms
2025-08-02 20:38:14.266 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 231.206ms
2025-08-02 20:38:14.266 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:14.266 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 747.2853ms
2025-08-02 20:38:14.314 +00:00 [INF] Executed DbCommand (488ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-08-02 20:38:14.314 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - null null
2025-08-02 20:38:14.314 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:14.315 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:38:14.315 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-08-02 20:38:14.315 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:14.315 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 490.8049ms
2025-08-02 20:38:14.315 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-08-02 20:38:14.315 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 491.4754ms
2025-08-02 20:38:14.348 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-08-02 20:38:14.519 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:14.519 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 204.7037ms
2025-08-02 20:38:14.519 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-08-02 20:38:14.520 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=afd55307-8926-4ef6-bb7a-14476405082d - 200 null application/json; charset=utf-8 205.3862ms
2025-08-02 20:38:30.733 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - null null
2025-08-02 20:38:30.733 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:30.733 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/UserActivity/log - 204 null null 0.3443ms
2025-08-02 20:38:30.737 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/UserActivity/log - application/json 423
2025-08-02 20:38:30.737 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:30.738 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:38:30.739 +00:00 [INF] Route matched with {action = "LogActivity", controller = "UserActivity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogActivity(PersonaXFleet.Controllers.LogActivityRequest) on controller PersonaXFleet.Controllers.UserActivityController (PersonaXFleet).
2025-08-02 20:38:30.740 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-02 20:38:30.740 +00:00 [INF] Executed action PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet) in 1.6743ms
2025-08-02 20:38:30.740 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.UserActivityController.LogActivity (PersonaXFleet)'
2025-08-02 20:38:30.740 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/UserActivity/log - 400 null application/problem+json; charset=utf-8 3.5112ms
2025-08-02 20:38:31.191 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:38:31.192 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.192 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:38:31.192 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:38:31.460 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-08-02 20:38:31.460 +00:00 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:38:31.460 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.460 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:38:31.460 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:38:31.461 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:31.461 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 268.6944ms
2025-08-02 20:38:31.461 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:38:31.461 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 269.8659ms
2025-08-02 20:38:31.467 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:38:31.467 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.467 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:38:31.467 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:38:31.477 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-08-02 20:38:31.509 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:38:31.522 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs - null null
2025-08-02 20:38:31.523 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.523 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:38:31.523 +00:00 [INF] Route matched with {action = "GetFuelLogs", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogs() on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-08-02 20:38:31.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:31.665 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 198.1218ms
2025-08-02 20:38:31.665 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:38:31.666 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 471.662ms
2025-08-02 20:38:31.685 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - null null
2025-08-02 20:38:31.686 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.686 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/activity/ping - 204 null null 0.3007ms
2025-08-02 20:38:31.686 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.725 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - application/json 49
2025-08-02 20:38:31.725 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.725 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:31.725 +00:00 [INF] Route matched with {action = "PingActivity", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PingActivity(FleetIdentityServer.Controllers.PingActivityRequest) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-08-02 20:38:31.736 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-08-02 20:38:31.738 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.742 +00:00 [INF] CORS policy execution successful.
2025-08-02 20:38:31.742 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:38:31.742 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-08-02 20:38:31.747 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-02 20:38:31.749 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-08-02 20:38:31.760 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:31.763 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 20.9437ms
2025-08-02 20:38:31.764 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-08-02 20:38:31.764 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 27.7017ms
2025-08-02 20:38:31.767 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[IsActive], [a].[LastActivityDate], [a].[LastLoginDate], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-02 20:38:31.784 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.784 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
2025-08-02 20:38:31.791 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@p21='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Department] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FullName] = @p5, [IsActive] = @p6, [LastActivityDate] = @p7, [LastLoginDate] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [MustChangePassword] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2025-08-02 20:38:31.794 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType15`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-02 20:38:31.794 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet) in 69.1171ms
2025-08-02 20:38:31.794 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.PingActivity (PersonaXFleet)'
2025-08-02 20:38:31.795 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/Auth/activity/ping - 200 null application/json; charset=utf-8 69.9524ms
2025-08-02 20:38:31.826 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.833 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.FuelLog, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:31.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet) in 313.0226ms
2025-08-02 20:38:31.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogs (PersonaXFleet)'
2025-08-02 20:38:31.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs - 200 null application/json; charset=utf-8 319.3485ms
2025-08-02 20:38:31.845 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.877 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.935 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.953 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:31.962 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.052 +00:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.061 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.103 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.154 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.173 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.274 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.329 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.335 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.367 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.383 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.467 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.501 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.542 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.584 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.636 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.687 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.733 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.745 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.753 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.760 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.788 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.800 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.834 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.860 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.904 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.922 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.983 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:32.995 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.036 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.085 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.096 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.134 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.147 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.185 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.240 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.250 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.287 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.328 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.339 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.430 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.435 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.446 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.489 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.525 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.580 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.636 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.657 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.690 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.712 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.807 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:33.906 +00:00 [INF] Executed DbCommand (96ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.080 +00:00 [INF] Executed DbCommand (128ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.097 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.190 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.213 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.268 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.348 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.389 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.434 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.487 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.517 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.551 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.596 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.623 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.646 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.669 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.717 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.740 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.779 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.796 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.811 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.817 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.825 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.833 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.846 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.851 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.856 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.860 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.889 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.915 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:34.973 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:35.015 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-02 20:38:35.016 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-02 20:38:35.019 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 3559.0541ms
2025-08-02 20:38:35.019 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-08-02 20:38:35.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 499 null application/json; charset=utf-8 3560.1573ms
