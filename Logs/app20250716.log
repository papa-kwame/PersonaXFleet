2025-07-16 07:33:32.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:33:32.429 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:33:32.429 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:33:32.429 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:33:32.450 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:33:32.451 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:33:32.451 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:33:32.451 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:33:32.451 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:33:32.451 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:33:32.451 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:33:32.452 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:33:32.475 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:33:32.475 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:33:32.475 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.8082ms
2025-07-16 07:33:32.475 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:33:32.475 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.3568ms
2025-07-16 07:33:32.476 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:33:32.476 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:33:32.479 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8635ms
2025-07-16 07:33:32.479 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:33:32.479 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0215ms
2025-07-16 07:33:32.490 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:33:32.498 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:33:32.498 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.5481ms
2025-07-16 07:33:32.499 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:33:32.500 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.3077ms
2025-07-16 07:34:01.082 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:34:01.083 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:34:01.083 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:34:01.083 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:34:01.117 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:34:01.117 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:34:01.118 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:34:01.118 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:34:01.118 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:34:01.119 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:34:01.119 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:34:01.120 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:34:01.120 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:34:01.122 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:34:01.123 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.035ms
2025-07-16 07:34:01.123 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:34:01.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.1645ms
2025-07-16 07:34:01.133 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:34:01.145 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:34:01.145 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:34:01.146 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:34:01.147 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.5353ms
2025-07-16 07:34:01.147 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.1446ms
2025-07-16 07:34:01.147 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:34:01.148 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:34:01.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2957ms
2025-07-16 07:34:01.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.3785ms
2025-07-16 07:35:01.060 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:35:01.061 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:35:01.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:35:01.062 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:35:01.062 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:35:01.066 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:35:01.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:35:01.067 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:35:01.109 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:35:01.111 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:35:01.115 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:35:01.117 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:35:01.164 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:35:01.164 +00:00 [INF] Executed DbCommand (93ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:35:01.169 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:35:01.170 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:35:01.174 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:35:01.174 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 108.2161ms
2025-07-16 07:35:01.174 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 107.605ms
2025-07-16 07:35:01.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:35:01.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:35:01.175 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:35:01.176 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.3604ms
2025-07-16 07:35:01.176 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 114.684ms
2025-07-16 07:35:01.176 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 117.0903ms
2025-07-16 07:35:01.176 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:35:01.209 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 100.5381ms
2025-07-16 07:36:01.147 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:36:01.150 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:36:01.150 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:36:01.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:36:01.151 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:36:01.151 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:36:01.151 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:36:01.151 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:36:01.154 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:36:01.179 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:36:01.183 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:36:01.183 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:36:01.197 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:36:01.200 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:36:01.200 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.7274ms
2025-07-16 07:36:01.201 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:36:01.229 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.6606ms
2025-07-16 07:36:01.231 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:36:01.231 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:36:01.233 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:36:01.234 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:36:01.236 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.1694ms
2025-07-16 07:36:01.236 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 84.0983ms
2025-07-16 07:36:01.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:36:01.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:36:01.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 91.0414ms
2025-07-16 07:36:01.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.7264ms
2025-07-16 07:37:01.074 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:37:01.076 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:37:01.078 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:37:01.078 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:37:01.085 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:37:01.093 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:37:01.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:37:01.093 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:37:01.131 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:37:01.141 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:37:01.141 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:37:01.141 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:37:01.142 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:37:01.165 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:37:01.183 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 89.3956ms
2025-07-16 07:37:01.184 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:37:01.184 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:37:01.184 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 100.4005ms
2025-07-16 07:37:01.185 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:37:01.185 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 106.5789ms
2025-07-16 07:37:01.185 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:37:01.185 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 111.4615ms
2025-07-16 07:37:01.207 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:37:01.245 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:37:01.258 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 107.7698ms
2025-07-16 07:37:01.259 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:37:01.259 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 118.4979ms
2025-07-16 07:38:01.060 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:38:01.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:38:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:38:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:38:01.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:38:01.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:38:01.065 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:38:01.066 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:38:01.086 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:38:01.087 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:38:01.087 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:38:01.090 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:38:01.142 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:38:01.143 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:38:01.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 74.8628ms
2025-07-16 07:38:01.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:38:01.176 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:38:01.177 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.188ms
2025-07-16 07:38:01.177 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:38:01.178 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:38:01.179 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.9445ms
2025-07-16 07:38:01.179 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:38:01.180 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:38:01.181 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 96.9469ms
2025-07-16 07:38:01.181 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 114.6407ms
2025-07-16 07:38:01.182 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:38:01.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 121.6102ms
2025-07-16 07:39:01.190 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:39:01.191 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:39:01.191 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:39:01.192 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:39:01.201 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:39:01.203 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:39:01.203 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:39:01.203 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:39:01.203 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:39:01.203 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:39:01.204 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:39:01.204 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:39:01.241 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:39:01.246 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:39:01.247 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:39:01.247 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 55.1098ms
2025-07-16 07:39:01.247 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:39:01.262 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.7431ms
2025-07-16 07:39:01.264 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:39:01.275 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:39:01.275 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 71.2985ms
2025-07-16 07:39:01.275 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:39:01.324 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:39:01.332 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 128.3486ms
2025-07-16 07:39:01.334 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:39:01.335 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 135.074ms
2025-07-16 07:39:01.337 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 133.8996ms
2025-07-16 07:40:01.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:40:01.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:40:01.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:40:01.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:40:01.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:40:01.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:40:01.056 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:40:01.056 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:40:01.093 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:40:01.094 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:40:01.097 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:40:01.097 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:40:01.099 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:40:01.105 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:40:01.105 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.986ms
2025-07-16 07:40:01.105 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:40:01.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.6316ms
2025-07-16 07:40:01.114 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:40:01.114 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:40:01.114 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.2579ms
2025-07-16 07:40:01.114 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:40:01.115 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.8358ms
2025-07-16 07:40:01.154 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:40:01.155 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:40:01.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.1512ms
2025-07-16 07:40:01.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:40:01.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.1977ms
2025-07-16 07:41:01.090 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:41:01.091 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:41:01.092 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:41:01.092 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:41:01.129 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:41:01.144 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:41:01.145 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:41:01.145 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:41:01.155 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:41:01.156 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:41:01.156 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:41:01.156 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:41:01.159 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:41:01.160 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:41:01.160 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 67.4278ms
2025-07-16 07:41:01.160 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:41:01.161 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.4036ms
2025-07-16 07:41:01.171 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:41:01.187 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:41:01.191 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.3499ms
2025-07-16 07:41:01.192 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:41:01.194 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.5951ms
2025-07-16 07:41:01.214 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:41:01.214 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:41:01.215 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.2901ms
2025-07-16 07:41:01.215 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:41:01.215 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.5724ms
2025-07-16 07:42:01.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:42:01.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:42:01.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:42:01.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:42:01.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:42:01.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:42:01.077 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:42:01.077 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:42:01.155 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:42:01.156 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:42:01.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:42:01.161 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:42:01.161 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:42:01.161 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:42:01.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 84.0675ms
2025-07-16 07:42:01.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 84.0329ms
2025-07-16 07:42:01.162 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:42:01.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:42:01.161 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:42:01.162 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:42:01.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 89.7872ms
2025-07-16 07:42:01.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.625ms
2025-07-16 07:42:01.195 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:42:01.195 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:42:01.195 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.3611ms
2025-07-16 07:42:01.195 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:42:01.196 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.6881ms
2025-07-16 07:43:01.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:43:01.146 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:43:01.156 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:43:01.156 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:43:01.156 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:43:01.157 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:43:01.157 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:43:01.158 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:43:01.230 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:43:01.232 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:43:01.233 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:43:01.235 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:43:01.236 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:43:01.236 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:43:01.236 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:43:01.241 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:43:01.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 79.6268ms
2025-07-16 07:43:01.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:43:01.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 83.5719ms
2025-07-16 07:43:01.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:43:01.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.5756ms
2025-07-16 07:43:01.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.7001ms
2025-07-16 07:43:01.264 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:43:01.271 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:43:01.276 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.2099ms
2025-07-16 07:43:01.276 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:43:01.277 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.5474ms
2025-07-16 07:44:01.122 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:44:01.124 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:44:01.124 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:44:01.125 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:44:01.125 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:44:01.125 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:44:01.126 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:44:01.125 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:44:01.126 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:44:01.126 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:44:01.127 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:44:01.127 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:44:01.217 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:44:01.218 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:44:01.219 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 92.7957ms
2025-07-16 07:44:01.220 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:44:01.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:44:01.228 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 100.882ms
2025-07-16 07:44:01.259 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:44:01.262 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 136.3017ms
2025-07-16 07:44:01.262 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:44:01.267 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 142.5415ms
2025-07-16 07:44:01.283 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:44:01.284 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:44:01.284 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 158.5178ms
2025-07-16 07:44:01.284 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:44:01.284 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 165.0365ms
2025-07-16 07:45:01.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:45:01.075 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:45:01.079 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:45:01.079 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:45:01.127 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:45:01.152 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:45:01.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:45:01.155 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:45:01.155 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:45:01.158 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:45:01.159 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:45:01.161 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:45:01.194 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:45:01.195 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:45:01.195 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 115.2171ms
2025-07-16 07:45:01.196 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:45:01.196 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 124.6763ms
2025-07-16 07:45:01.199 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:45:01.220 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:45:01.228 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 71.4129ms
2025-07-16 07:45:01.229 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:45:01.251 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:45:01.254 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 125.8026ms
2025-07-16 07:45:01.254 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:45:01.255 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 92.9743ms
2025-07-16 07:45:01.255 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:45:01.267 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.0966ms
2025-07-16 07:46:01.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:46:01.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:46:01.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:46:01.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:46:01.071 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:46:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:46:01.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:46:01.072 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:46:01.147 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:46:01.150 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:46:01.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:46:01.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:46:01.203 +00:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:46:01.203 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:46:01.204 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 132.0318ms
2025-07-16 07:46:01.204 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:46:01.204 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 142.9428ms
2025-07-16 07:46:01.206 +00:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:46:01.211 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:46:01.211 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 138.3749ms
2025-07-16 07:46:01.211 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:46:01.211 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 140.1558ms
2025-07-16 07:46:01.222 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:46:01.238 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:46:01.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 85.6733ms
2025-07-16 07:46:01.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:46:01.249 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.1911ms
2025-07-16 07:47:01.164 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:47:01.165 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:47:01.165 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:47:01.165 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:47:01.165 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:47:01.165 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:47:01.165 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:47:01.166 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:47:01.166 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:47:01.166 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:47:01.166 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:47:01.166 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:47:01.222 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:47:01.229 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:47:01.229 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:47:01.230 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 63.6629ms
2025-07-16 07:47:01.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:47:01.230 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:47:01.230 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.812ms
2025-07-16 07:47:01.230 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 61.6826ms
2025-07-16 07:47:01.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:47:01.230 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.5716ms
2025-07-16 07:47:01.269 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:47:01.271 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:47:01.271 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 102.5083ms
2025-07-16 07:47:01.271 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:47:01.290 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 125.0691ms
2025-07-16 07:48:01.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:48:01.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:48:01.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:48:01.070 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:48:01.070 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:48:01.070 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:48:01.070 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:48:01.071 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:48:01.095 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:48:01.097 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:48:01.098 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:48:01.098 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:48:01.139 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:48:01.140 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:48:01.340 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:48:01.340 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:48:01.342 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 267.5863ms
2025-07-16 07:48:01.342 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 271.2713ms
2025-07-16 07:48:01.342 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:48:01.342 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:48:01.342 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 273.1775ms
2025-07-16 07:48:01.342 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 273.5573ms
2025-07-16 07:48:01.416 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:48:01.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:48:01.416 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 318.0144ms
2025-07-16 07:48:01.416 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:48:01.416 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 322.4693ms
2025-07-16 07:49:01.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:49:01.075 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:49:01.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:49:01.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:49:01.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:49:01.092 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:49:01.092 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:49:01.093 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:49:01.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:49:01.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:49:01.094 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:49:01.093 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:49:01.164 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:49:01.176 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:49:01.183 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:49:01.186 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:49:01.203 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 109.1692ms
2025-07-16 07:49:01.204 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:49:01.204 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:49:01.205 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 112.4635ms
2025-07-16 07:49:01.206 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:49:01.207 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:49:01.208 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 114.3643ms
2025-07-16 07:49:01.212 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:49:01.237 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 164.0296ms
2025-07-16 07:49:01.237 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 147.914ms
2025-07-16 07:49:01.237 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 147.9845ms
2025-07-16 07:50:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:50:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:50:01.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:50:01.065 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:50:01.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:50:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:50:01.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:50:01.073 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:50:01.128 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:50:01.132 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:50:01.134 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:50:01.135 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:50:01.204 +00:00 [INF] Executed DbCommand (126ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:50:01.205 +00:00 [INF] Executed DbCommand (128ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:50:01.205 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:50:01.207 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:50:01.207 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:50:01.208 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:50:01.208 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 134.4021ms
2025-07-16 07:50:01.210 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.8653ms
2025-07-16 07:50:01.210 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:50:01.210 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 143.9722ms
2025-07-16 07:50:01.210 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:50:01.210 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:50:01.211 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 143.0269ms
2025-07-16 07:50:01.211 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 147.7894ms
2025-07-16 07:50:01.222 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 95.2298ms
2025-07-16 07:51:01.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:51:01.078 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:51:01.086 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:51:01.087 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:51:01.100 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:51:01.101 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:51:01.102 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:51:01.102 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:51:01.133 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:51:01.137 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:51:01.139 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:51:01.143 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:51:01.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 55.9543ms
2025-07-16 07:51:01.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.1051ms
2025-07-16 07:51:01.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:51:01.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:51:01.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:51:01.144 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:51:01.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:51:01.144 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:51:01.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.5794ms
2025-07-16 07:51:01.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.5605ms
2025-07-16 07:51:01.200 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:51:01.202 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:51:01.203 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.7728ms
2025-07-16 07:51:01.203 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:51:01.204 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.787ms
2025-07-16 07:52:01.054 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:52:01.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:52:01.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:52:01.056 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:52:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:52:01.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:52:01.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:52:01.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:52:01.086 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:52:01.089 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:52:01.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:52:01.091 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:52:01.120 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:52:01.121 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:52:01.121 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.3247ms
2025-07-16 07:52:01.122 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:52:01.123 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:52:01.123 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:52:01.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.0399ms
2025-07-16 07:52:01.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:52:01.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.3263ms
2025-07-16 07:52:01.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.1782ms
2025-07-16 07:52:01.149 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:52:01.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:52:01.152 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.416ms
2025-07-16 07:52:01.152 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:52:01.152 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.1425ms
2025-07-16 07:53:01.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:53:01.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:53:01.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:53:01.074 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:53:01.091 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:53:01.091 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:53:01.091 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:53:01.091 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:53:01.130 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:53:01.131 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:53:01.133 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:53:01.136 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:53:01.159 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:53:01.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:53:01.164 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:53:01.164 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:53:01.164 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:53:01.164 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:53:01.164 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 72.5994ms
2025-07-16 07:53:01.164 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:53:01.164 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.6369ms
2025-07-16 07:53:01.164 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 90.3964ms
2025-07-16 07:53:01.165 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:53:01.165 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:53:01.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.8367ms
2025-07-16 07:53:01.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4461ms
2025-07-16 07:53:01.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.6843ms
2025-07-16 07:54:01.067 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:54:01.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:54:01.069 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:54:01.069 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:54:01.118 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:54:01.119 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:54:01.120 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.1978ms
2025-07-16 07:54:01.120 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:54:01.121 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:54:01.121 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:54:01.121 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:54:01.121 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:54:01.142 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:54:01.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.3076ms
2025-07-16 07:54:01.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:54:01.152 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:54:01.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:54:01.158 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:54:01.158 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:54:01.186 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 64.8964ms
2025-07-16 07:54:01.186 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:54:01.186 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:54:01.195 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.0478ms
2025-07-16 07:54:01.198 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:54:01.198 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.109ms
2025-07-16 07:54:01.198 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:54:01.198 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.9929ms
2025-07-16 07:55:01.079 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:55:01.080 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:55:01.081 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:55:01.086 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:55:01.087 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:55:01.087 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:55:01.088 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:55:01.091 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:55:01.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:55:01.152 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:55:01.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:55:01.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:55:01.178 +00:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:55:01.180 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:55:01.181 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:55:01.182 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 90.7731ms
2025-07-16 07:55:01.183 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:55:01.183 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:55:01.184 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 105.28ms
2025-07-16 07:55:01.185 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 96.7913ms
2025-07-16 07:55:01.185 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:55:01.185 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 105.8011ms
2025-07-16 07:55:01.189 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:55:01.191 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:55:01.191 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.4823ms
2025-07-16 07:55:01.191 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:55:01.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.867ms
2025-07-16 07:56:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:56:01.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:56:01.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:56:01.066 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:56:01.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:56:01.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:56:01.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:56:01.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:56:01.070 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:56:01.070 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:56:01.070 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:56:01.070 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:56:01.119 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:56:01.133 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:56:01.134 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:56:01.170 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:56:01.174 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 107.4949ms
2025-07-16 07:56:01.176 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:56:01.180 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:56:01.181 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:56:01.182 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 111.233ms
2025-07-16 07:56:01.182 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 112.0178ms
2025-07-16 07:56:01.185 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:56:01.185 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:56:01.187 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 123.9719ms
2025-07-16 07:56:01.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 120.1559ms
2025-07-16 07:56:01.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 119.6454ms
2025-07-16 07:57:01.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:57:01.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:57:01.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:57:01.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:57:01.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:57:01.060 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:57:01.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:57:01.061 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:57:01.118 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:57:01.123 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:57:01.131 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:57:01.139 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:57:01.155 +00:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:57:01.156 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:57:01.156 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 95.3147ms
2025-07-16 07:57:01.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:57:01.157 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 101.2973ms
2025-07-16 07:57:01.158 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:57:01.171 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:57:01.171 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 110.5042ms
2025-07-16 07:57:01.171 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:57:01.172 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 116.8761ms
2025-07-16 07:57:01.201 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:57:01.202 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:57:01.202 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 62.9848ms
2025-07-16 07:57:01.203 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:57:01.203 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.4234ms
2025-07-16 07:58:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:58:01.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:58:01.070 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:58:01.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:58:01.071 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:58:01.071 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:58:01.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:58:01.072 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:58:01.111 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:58:01.119 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:58:01.120 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:58:01.155 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:58:01.157 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:58:01.159 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:58:01.160 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:58:01.160 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:58:01.160 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 88.4876ms
2025-07-16 07:58:01.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 89.7433ms
2025-07-16 07:58:01.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:58:01.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:58:01.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 95.2392ms
2025-07-16 07:58:01.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 102.7587ms
2025-07-16 07:58:01.205 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:58:01.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:58:01.206 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.7402ms
2025-07-16 07:58:01.206 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:58:01.206 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.6919ms
2025-07-16 07:59:01.059 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:59:01.060 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:59:01.060 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:59:01.060 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:59:01.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:59:01.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:59:01.064 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:59:01.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 07:59:01.100 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 07:59:01.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 07:59:01.104 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:59:01.106 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 07:59:01.151 +00:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 07:59:01.151 +00:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 07:59:01.154 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 07:59:01.155 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 07:59:01.158 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:59:01.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 93.8349ms
2025-07-16 07:59:01.158 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 07:59:01.158 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 07:59:01.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 94.0701ms
2025-07-16 07:59:01.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.7011ms
2025-07-16 07:59:01.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 99.2396ms
2025-07-16 07:59:01.159 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 07:59:01.159 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 07:59:01.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 100.1328ms
2025-07-16 07:59:01.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 120.5508ms
2025-07-16 08:00:01.067 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:00:01.070 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:00:01.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:00:01.075 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:00:01.076 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:00:01.076 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:00:01.076 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:00:01.076 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:00:01.116 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:00:01.119 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:00:01.120 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:00:01.121 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:00:01.165 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:00:01.169 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:00:01.170 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:00:01.172 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:00:01.174 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:00:01.175 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 98.8308ms
2025-07-16 08:00:01.175 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.6584ms
2025-07-16 08:00:01.174 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:00:01.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:00:01.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:00:01.175 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 98.3991ms
2025-07-16 08:00:01.175 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 108.4577ms
2025-07-16 08:00:01.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:00:01.176 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.9947ms
2025-07-16 08:00:01.207 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 92.6824ms
2025-07-16 08:01:01.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:01:01.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:01:01.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:01:01.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:01:01.064 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:01:01.064 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:01:01.064 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:01:01.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:01:01.106 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:01:01.111 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:01:01.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:01:01.145 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:01:01.147 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:01:01.148 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:01:01.150 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 85.996ms
2025-07-16 08:01:01.150 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:01:01.150 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:01:01.151 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.1814ms
2025-07-16 08:01:01.155 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:01:01.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 90.9542ms
2025-07-16 08:01:01.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:01:01.156 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.6119ms
2025-07-16 08:01:01.189 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:01:01.193 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:01:01.193 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.564ms
2025-07-16 08:01:01.193 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:01:01.194 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.5003ms
2025-07-16 08:02:01.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:02:01.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:02:01.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:02:01.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:02:01.057 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:02:01.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:02:01.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:02:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:02:01.063 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:02:01.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:02:01.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:02:01.064 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:02:01.104 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:02:01.114 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:02:01.115 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:02:01.134 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:02:01.135 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:02:01.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 91.8242ms
2025-07-16 08:02:01.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 91.4831ms
2025-07-16 08:02:01.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:02:01.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:02:01.159 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:02:01.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 101.0836ms
2025-07-16 08:02:01.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 103.5542ms
2025-07-16 08:02:01.164 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:02:01.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.0419ms
2025-07-16 08:02:01.193 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 139.7404ms
2025-07-16 08:03:01.082 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:03:01.083 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:03:01.083 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:03:01.084 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:03:01.085 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:03:01.086 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:03:01.086 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:03:01.086 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:03:01.086 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:03:01.087 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:03:01.087 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:03:01.087 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:03:01.112 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:03:01.129 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:03:01.141 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:03:01.142 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:03:01.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 55.9417ms
2025-07-16 08:03:01.144 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 57.154ms
2025-07-16 08:03:01.145 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:03:01.146 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:03:01.149 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:03:01.153 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:03:01.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 68.6498ms
2025-07-16 08:03:01.160 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:03:01.180 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.2647ms
2025-07-16 08:03:01.195 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.3442ms
2025-07-16 08:03:01.195 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 114.4211ms
2025-07-16 08:04:01.130 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:04:01.130 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:04:01.130 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:04:01.147 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:04:01.147 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:04:01.148 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:04:01.150 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:04:01.150 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:04:01.150 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:04:01.150 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:04:01.151 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:04:01.151 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:04:01.226 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:04:01.228 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:04:01.228 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:04:01.231 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 79.4837ms
2025-07-16 08:04:01.232 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:04:01.232 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 107.4206ms
2025-07-16 08:04:01.232 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:04:01.233 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:04:01.233 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:04:01.233 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.5549ms
2025-07-16 08:04:01.234 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 82.602ms
2025-07-16 08:04:01.235 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:04:01.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.4632ms
2025-07-16 08:04:01.245 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:04:01.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 115.3713ms
2025-07-16 08:05:01.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:05:01.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:05:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:05:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:05:01.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:05:01.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:05:01.072 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:05:01.072 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:05:01.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:05:01.074 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:05:01.074 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:05:01.074 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:05:01.177 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:05:01.184 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:05:01.185 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:05:01.198 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:05:01.199 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:05:01.199 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 97.5715ms
2025-07-16 08:05:01.217 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:05:01.218 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:05:01.219 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 146.646ms
2025-07-16 08:05:01.219 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 146.7489ms
2025-07-16 08:05:01.220 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:05:01.220 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:05:01.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 149.158ms
2025-07-16 08:05:01.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 151.5958ms
2025-07-16 08:05:01.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 147.8995ms
2025-07-16 08:06:01.284 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:06:01.285 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:06:01.285 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:06:01.286 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:06:01.286 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:06:01.286 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:06:01.286 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:06:01.290 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:06:01.395 +00:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:06:01.396 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:06:01.396 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 110.1957ms
2025-07-16 08:06:01.396 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:06:01.396 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 112.1032ms
2025-07-16 08:06:01.402 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:06:01.406 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:06:01.407 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 116.0359ms
2025-07-16 08:06:01.407 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:06:01.416 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:06:01.417 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:06:01.418 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:06:01.418 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:06:01.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 144.2283ms
2025-07-16 08:06:01.448 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:06:01.483 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:06:01.484 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.8038ms
2025-07-16 08:06:01.485 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:06:01.485 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.9427ms
2025-07-16 08:07:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:07:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:07:01.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:07:01.068 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:07:01.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:07:01.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:07:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:07:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:07:01.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:07:01.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:07:01.074 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:07:01.074 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:07:01.126 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:07:01.128 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:07:01.133 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:07:01.168 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:07:01.199 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:07:01.212 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 137.7173ms
2025-07-16 08:07:01.212 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 138.1035ms
2025-07-16 08:07:01.216 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:07:01.229 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:07:01.231 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:07:01.233 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 164.3198ms
2025-07-16 08:07:01.235 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:07:01.240 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 171.7286ms
2025-07-16 08:07:01.242 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 174.1154ms
2025-07-16 08:07:01.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 182.9435ms
2025-07-16 08:08:01.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:08:01.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:08:01.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:08:01.065 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:08:01.095 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:08:01.098 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:08:01.098 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:08:01.099 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:08:01.101 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:08:01.103 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:08:01.104 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:08:01.108 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:08:01.141 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:08:01.144 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:08:01.146 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:08:01.149 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:08:01.150 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 85.0169ms
2025-07-16 08:08:01.152 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:08:01.156 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:08:01.157 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.6671ms
2025-07-16 08:08:01.157 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.8102ms
2025-07-16 08:08:01.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:08:01.158 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:08:01.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.1423ms
2025-07-16 08:08:01.180 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:08:01.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.729ms
2025-07-16 08:08:01.195 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 97.2307ms
2025-07-16 08:09:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:09:01.063 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:09:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:09:01.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:09:01.068 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:09:01.068 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:09:01.068 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:09:01.068 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:09:01.102 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:09:01.110 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:09:01.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.1044ms
2025-07-16 08:09:01.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:09:01.111 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:09:01.141 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:09:01.143 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:09:01.145 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:09:01.146 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:09:01.147 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:09:01.149 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 80.3443ms
2025-07-16 08:09:01.149 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:09:01.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.8261ms
2025-07-16 08:09:01.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.5647ms
2025-07-16 08:09:01.192 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:09:01.196 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:09:01.197 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.956ms
2025-07-16 08:09:01.197 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:09:01.198 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.1777ms
2025-07-16 08:10:01.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:10:01.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:10:01.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:10:01.073 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:10:01.111 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:10:01.114 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:10:01.115 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:10:01.116 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:10:01.117 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:10:01.118 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:10:01.120 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:10:01.122 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:10:01.157 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:10:01.162 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:10:01.166 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:10:01.167 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:10:01.171 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.3036ms
2025-07-16 08:10:01.172 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:10:01.172 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 98.4635ms
2025-07-16 08:10:01.173 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:10:01.173 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 102.0271ms
2025-07-16 08:10:01.188 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:10:01.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:10:01.207 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.9445ms
2025-07-16 08:10:01.208 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:10:01.208 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 92.9218ms
2025-07-16 08:10:01.212 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 101.5435ms
2025-07-16 08:26:26.469 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:26:26.471 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:26:26.471 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:26:26.471 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:26:26.471 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:26:26.471 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:26:26.471 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:26:26.471 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 08:26:26.480 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 08:26:26.483 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 08:26:26.483 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.9723ms
2025-07-16 08:26:26.485 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 08:26:26.485 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.4399ms
2025-07-16 08:26:26.485 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 08:26:26.486 +00:00 [INF] CORS policy execution successful.
2025-07-16 08:26:26.486 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:26:26.486 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 08:26:26.495 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 08:26:26.495 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 08:26:26.504 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:26:26.506 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.7746ms
2025-07-16 08:26:26.508 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 08:26:26.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6087ms
2025-07-16 08:26:26.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 08:26:26.512 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.9023ms
2025-07-16 08:26:26.512 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 08:26:26.513 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0685ms
2025-07-16 09:19:58.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:19:58.068 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:19:58.069 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:19:58.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:19:58.069 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:19:58.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:19:58.069 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:19:58.069 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:19:58.169 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:19:58.171 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:19:58.173 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:19:58.173 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:19:58.188 +00:00 [INF] Executed DbCommand (117ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:19:58.188 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:19:58.189 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 119.4378ms
2025-07-16 09:19:58.189 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:19:58.189 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 120.218ms
2025-07-16 09:19:58.244 +00:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:19:58.244 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:19:58.244 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 175.5195ms
2025-07-16 09:19:58.244 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:19:58.244 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 176.5463ms
2025-07-16 09:19:58.245 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:19:58.275 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:19:58.276 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 102.1558ms
2025-07-16 09:19:58.276 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:19:58.276 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 106.6113ms
2025-07-16 09:20:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:20:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:20:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:20:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:20:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:20:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:20:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:20:53.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:20:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:20:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:20:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:20:53.012 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:20:53.013 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:20:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:20:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.1954ms
2025-07-16 09:20:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:20:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.0426ms
2025-07-16 09:20:53.029 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:20:53.029 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:20:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:20:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:20:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.151ms
2025-07-16 09:20:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.3504ms
2025-07-16 09:20:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:20:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:20:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.3228ms
2025-07-16 09:20:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.719ms
2025-07-16 09:21:54.771 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:21:54.772 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:21:54.772 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:21:54.772 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:21:54.772 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:21:54.774 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:21:54.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:21:54.774 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:21:54.774 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:21:54.774 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:21:54.774 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:21:54.774 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:21:54.779 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:21:54.779 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:21:54.784 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:21:54.787 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:21:54.788 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.3861ms
2025-07-16 09:21:54.789 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:21:54.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:21:54.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:21:54.799 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.5133ms
2025-07-16 09:21:54.800 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.5236ms
2025-07-16 09:21:54.800 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:21:54.801 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:21:54.803 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.611ms
2025-07-16 09:21:54.803 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4392ms
2025-07-16 09:21:54.804 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2936ms
2025-07-16 09:22:44.886 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:22:44.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:22:44.887 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:44.887 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:22:44.887 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:44.887 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:44.887 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:22:44.887 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:22:44.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:22:44.919 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:44.920 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:22:44.922 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:22:44.922 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:22:44.922 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:22:44.922 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.9642ms
2025-07-16 09:22:44.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:44.922 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:22:44.922 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9191ms
2025-07-16 09:22:44.923 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:44.923 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.3077ms
2025-07-16 09:22:44.924 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:22:44.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.202ms
2025-07-16 09:22:44.947 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:22:44.950 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:44.950 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.7386ms
2025-07-16 09:22:44.950 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:22:44.951 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.7055ms
2025-07-16 09:22:46.230 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 09:22:46.231 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.231 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.9843ms
2025-07-16 09:22:46.234 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 09:22:46.234 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.234 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.7697ms
2025-07-16 09:22:46.235 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 09:22:46.235 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.235 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 09:22:46.235 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 09:22:46.236 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:22:46.236 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5268ms
2025-07-16 09:22:46.236 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 09:22:46.236 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.5212ms
2025-07-16 09:22:46.239 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 09:22:46.239 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.239 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 09:22:46.239 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 09:22:46.240 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:22:46.240 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8184ms
2025-07-16 09:22:46.240 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 09:22:46.240 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.2911ms
2025-07-16 09:22:46.377 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 09:22:46.378 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.378 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 09:22:46.378 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 09:22:46.378 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 09:22:46.378 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 09:22:46.379 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.379 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.379 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 09:22:46.379 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 09:22:46.379 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 09:22:46.379 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 09:22:46.381 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 09:22:46.381 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.8986ms
2025-07-16 09:22:46.381 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 09:22:46.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 3.1466ms
2025-07-16 09:22:46.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 09:22:46.385 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:22:46.385 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.385 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.385 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:46.385 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:22:46.388 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 09:22:46.390 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 09:22:46.391 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 09:22:46.398 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 09:22:46.398 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 7.6081ms
2025-07-16 09:22:46.399 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 09:22:46.399 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 14.6778ms
2025-07-16 09:22:46.404 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:22:46.407 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:22:46.408 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.4533ms
2025-07-16 09:22:46.408 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 09:22:46.409 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:46.409 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.9141ms
2025-07-16 09:22:46.410 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:46.410 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 30.6213ms
2025-07-16 09:22:46.410 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 09:22:46.410 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:22:46.411 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 32.6582ms
2025-07-16 09:22:46.411 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.411 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:46.411 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:22:46.412 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 09:22:46.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.413 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 09:22:46.413 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 09:22:46.417 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:22:46.417 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.419 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:22:46.419 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.6567ms
2025-07-16 09:22:46.419 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:22:46.420 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.5911ms
2025-07-16 09:22:46.422 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 09:22:46.425 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.425 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:46.425 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 12.026ms
2025-07-16 09:22:46.458 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.472 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 09:22:46.474 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 62.2176ms
2025-07-16 09:22:46.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.481 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.482 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.490 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.503 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.510 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.513 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.522 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.526 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.540 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.558 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.573 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.578 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.583 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.585 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.590 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.607 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.608 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.624 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.625 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.634 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.644 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:46.646 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 267.4992ms
2025-07-16 09:22:46.646 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 09:22:46.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 268.6662ms
2025-07-16 09:22:46.648 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 09:22:46.649 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:22:46.649 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 09:22:46.649 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 09:22:46.651 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 09:22:46.655 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.660 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.662 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.665 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.667 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.671 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.683 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.685 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.724 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.743 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.757 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.762 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.790 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.798 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.800 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.806 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 09:22:46.806 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:22:46.808 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 158.6863ms
2025-07-16 09:22:46.808 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 09:22:46.808 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 160.0109ms
2025-07-16 09:23:16.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:16.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:17.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:23:17.000 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:23:17.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:17.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:17.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:17.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:17.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:23:17.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:23:17.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:23:17.007 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:23:17.026 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:23:17.026 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:23:17.045 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:23:17.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:23:17.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.8474ms
2025-07-16 09:23:17.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:23:17.061 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:23:17.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.626ms
2025-07-16 09:23:17.069 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:23:17.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.6062ms
2025-07-16 09:23:17.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.8711ms
2025-07-16 09:23:17.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:23:17.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.6586ms
2025-07-16 09:23:17.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:23:17.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.2847ms
2025-07-16 09:23:47.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:47.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:47.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:47.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:47.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:23:47.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:23:47.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:23:47.002 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:23:47.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:23:47.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:23:47.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:23:47.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:23:47.019 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:23:47.019 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:23:47.020 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:23:47.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:23:47.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.114ms
2025-07-16 09:23:47.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:23:47.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0073ms
2025-07-16 09:23:47.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:23:47.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:23:47.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.1876ms
2025-07-16 09:23:47.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.602ms
2025-07-16 09:23:47.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:23:47.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:23:47.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.1965ms
2025-07-16 09:23:47.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0305ms
2025-07-16 09:24:16.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:16.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:16.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:16.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:16.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:24:16.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:24:16.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:24:16.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:24:16.995 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:24:16.997 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:24:16.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.0347ms
2025-07-16 09:24:16.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:24:16.998 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:24:16.998 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:24:16.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5103ms
2025-07-16 09:24:16.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:24:17.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.019ms
2025-07-16 09:24:17.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:17.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:17.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:24:17.004 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:24:17.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.8704ms
2025-07-16 09:24:17.022 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:24:17.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:24:17.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.3191ms
2025-07-16 09:24:17.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:24:17.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.4968ms
2025-07-16 09:24:46.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:46.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:46.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:46.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:24:46.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:46.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:24:46.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:24:46.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:24:46.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:24:46.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:24:46.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:24:46.983 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:24:46.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:24:46.995 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:24:47.001 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:24:47.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:24:47.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.7947ms
2025-07-16 09:24:47.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:24:47.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:24:47.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.3381ms
2025-07-16 09:24:47.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.5302ms
2025-07-16 09:24:47.023 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:24:47.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:24:47.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.0874ms
2025-07-16 09:24:47.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:24:47.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.0718ms
2025-07-16 09:24:47.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.7541ms
2025-07-16 09:25:16.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:16.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:16.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:25:16.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:16.977 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:25:16.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:16.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:25:16.977 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:25:16.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:16.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:16.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:25:17.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:25:17.003 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:25:17.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:25:17.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1129ms
2025-07-16 09:25:17.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:25:17.006 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:25:17.006 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:25:17.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1119ms
2025-07-16 09:25:17.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:25:17.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.534ms
2025-07-16 09:25:17.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.8717ms
2025-07-16 09:25:17.025 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:25:17.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:25:17.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.7976ms
2025-07-16 09:25:17.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:25:17.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.4931ms
2025-07-16 09:25:46.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:46.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:46.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:25:46.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:25:47.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:47.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:47.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:25:47.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:25:47.012 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:25:47.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:25:47.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:25:47.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:25:47.016 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:25:47.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:25:47.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.9558ms
2025-07-16 09:25:47.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:25:47.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.978ms
2025-07-16 09:25:47.024 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:25:47.035 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:25:47.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:25:47.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.2705ms
2025-07-16 09:25:47.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:25:47.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:25:47.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.0625ms
2025-07-16 09:25:47.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:25:47.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.8251ms
2025-07-16 09:25:47.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7367ms
2025-07-16 09:26:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:26:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:26:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:26:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:26:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:26:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:26:52.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:26:52.994 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:26:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:26:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:26:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:26:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:26:53.022 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:26:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:26:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.6547ms
2025-07-16 09:26:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:26:53.031 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:26:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.6626ms
2025-07-16 09:26:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:26:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.3648ms
2025-07-16 09:26:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:26:53.043 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:26:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.5386ms
2025-07-16 09:26:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:26:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.0573ms
2025-07-16 09:26:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:26:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.1076ms
2025-07-16 09:27:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:27:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:27:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:27:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:27:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:27:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:27:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:27:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:27:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:27:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:27:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:27:52.998 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:27:53.041 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:27:53.041 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:27:53.042 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:27:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:27:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:27:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.4663ms
2025-07-16 09:27:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:27:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:27:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.8238ms
2025-07-16 09:27:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.7819ms
2025-07-16 09:27:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:27:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:27:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.4379ms
2025-07-16 09:27:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.5137ms
2025-07-16 09:27:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.5082ms
2025-07-16 09:28:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:28:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:28:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:28:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:28:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:28:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:28:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:28:53.019 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:28:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:28:53.019 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:28:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:28:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:28:53.030 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:28:53.030 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:28:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:28:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:28:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.3927ms
2025-07-16 09:28:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.5336ms
2025-07-16 09:28:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:28:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:28:53.046 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:28:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:28:53.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.2349ms
2025-07-16 09:28:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.0434ms
2025-07-16 09:28:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:28:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.4558ms
2025-07-16 09:28:53.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.6122ms
2025-07-16 09:29:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:29:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:29:52.974 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:29:52.974 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:29:52.974 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:29:52.974 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:29:52.974 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:29:52.974 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:29:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:29:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:29:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:29:52.996 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:29:52.998 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:29:52.998 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:29:52.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:29:52.999 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:29:53.002 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.2188ms
2025-07-16 09:29:53.002 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.7229ms
2025-07-16 09:29:53.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:29:53.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:29:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3242ms
2025-07-16 09:29:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4476ms
2025-07-16 09:29:53.014 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:29:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:29:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.307ms
2025-07-16 09:29:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:29:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.3345ms
2025-07-16 09:30:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:30:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:30:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:30:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:30:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:30:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:30:52.985 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:30:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:30:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:30:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:30:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:30:52.985 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:30:52.997 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:30:52.998 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:30:52.998 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:30:53.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.8068ms
2025-07-16 09:30:53.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:30:53.000 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:30:53.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.3394ms
2025-07-16 09:30:53.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:30:53.017 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:30:53.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.967ms
2025-07-16 09:30:53.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.5924ms
2025-07-16 09:30:53.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:30:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.0546ms
2025-07-16 09:30:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:30:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.8774ms
2025-07-16 09:31:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:31:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:31:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:31:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:31:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:31:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:31:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:31:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:31:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:31:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:31:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:31:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:31:53.010 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:31:53.010 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:31:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:31:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:31:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.3513ms
2025-07-16 09:31:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.7194ms
2025-07-16 09:31:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:31:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:31:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.0168ms
2025-07-16 09:31:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0415ms
2025-07-16 09:31:53.015 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:31:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:31:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.3878ms
2025-07-16 09:31:53.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:31:53.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5261ms
2025-07-16 09:32:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:32:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:32:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:32:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:32:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:32:52.986 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:32:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:32:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:32:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:32:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:32:52.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:32:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:32:52.994 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:32:53.002 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:32:53.010 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:32:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:32:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.7042ms
2025-07-16 09:32:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:32:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:32:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:32:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.8052ms
2025-07-16 09:32:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:32:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.8157ms
2025-07-16 09:32:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:32:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.0575ms
2025-07-16 09:32:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.1253ms
2025-07-16 09:32:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.0138ms
2025-07-16 09:33:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:33:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:33:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:33:52.996 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:33:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:33:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:33:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:33:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:33:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:33:53.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:33:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:33:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:33:53.054 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:33:53.055 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:33:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:33:53.056 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:33:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.6166ms
2025-07-16 09:33:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:33:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:33:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0126ms
2025-07-16 09:33:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.1556ms
2025-07-16 09:33:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:33:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:33:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.4157ms
2025-07-16 09:33:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 63.9643ms
2025-07-16 09:33:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:33:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.0923ms
2025-07-16 09:34:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:34:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:34:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:34:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:34:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:34:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:34:52.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:34:52.981 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:34:52.999 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:34:53.002 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:34:53.002 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.3443ms
2025-07-16 09:34:53.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:34:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:34:53.016 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:34:53.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.9373ms
2025-07-16 09:34:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:34:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:34:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:34:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.517ms
2025-07-16 09:34:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:34:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:34:53.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.5704ms
2025-07-16 09:34:53.033 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:34:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:34:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.5138ms
2025-07-16 09:34:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:34:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.0418ms
2025-07-16 09:35:52.972 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:35:52.972 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:35:52.972 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:35:52.974 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:35:52.974 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:35:52.974 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:35:52.974 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:35:52.974 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:35:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:35:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:35:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:35:52.987 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:35:52.997 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:35:52.997 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:35:52.998 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:35:52.998 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:35:52.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.5454ms
2025-07-16 09:35:52.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.9117ms
2025-07-16 09:35:52.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:35:52.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:35:52.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.0358ms
2025-07-16 09:35:52.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.0455ms
2025-07-16 09:35:53.004 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:35:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:35:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.3683ms
2025-07-16 09:35:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:35:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.804ms
2025-07-16 09:36:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:36:52.974 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:36:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:36:52.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:36:52.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:36:52.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:36:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:36:52.975 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:36:52.975 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:36:52.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:36:52.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:36:52.976 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:36:52.993 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:36:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:36:52.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6954ms
2025-07-16 09:36:52.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:36:52.996 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:36:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:36:52.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.1044ms
2025-07-16 09:36:52.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:36:52.996 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:36:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:36:53.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.717ms
2025-07-16 09:36:53.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:36:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.7618ms
2025-07-16 09:36:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9626ms
2025-07-16 09:36:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.8551ms
2025-07-16 09:37:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:37:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:37:52.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:37:52.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:37:52.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:37:52.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:37:52.976 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:37:52.977 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:37:52.990 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:37:52.992 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:37:52.992 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9536ms
2025-07-16 09:37:52.992 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:37:52.992 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:37:52.992 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:37:52.992 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.188ms
2025-07-16 09:37:52.992 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:37:52.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.158ms
2025-07-16 09:37:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:37:53.000 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5483ms
2025-07-16 09:37:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:37:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:37:53.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:37:53.017 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:37:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:37:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.9112ms
2025-07-16 09:37:53.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:37:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.8241ms
2025-07-16 09:38:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:38:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:38:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:38:52.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:38:52.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:38:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:38:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:38:52.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:38:52.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:38:52.998 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:38:52.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.8561ms
2025-07-16 09:38:52.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:38:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6852ms
2025-07-16 09:38:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:38:53.010 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:38:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:38:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:38:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:38:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:38:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.1575ms
2025-07-16 09:38:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:38:53.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.1698ms
2025-07-16 09:38:53.026 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:38:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:38:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.284ms
2025-07-16 09:38:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:38:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.1662ms
2025-07-16 09:39:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:39:52.973 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:39:52.973 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:39:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:39:52.973 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:39:52.973 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:39:52.973 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:39:52.974 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:39:52.987 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:39:52.989 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:39:52.989 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.5316ms
2025-07-16 09:39:52.989 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:39:52.989 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:39:52.989 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:39:52.989 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.9988ms
2025-07-16 09:39:52.989 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:39:52.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.6414ms
2025-07-16 09:39:52.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1553ms
2025-07-16 09:39:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:39:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:39:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:39:52.997 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:39:53.009 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:39:53.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:39:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.2546ms
2025-07-16 09:39:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:39:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.8889ms
2025-07-16 09:40:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:40:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:40:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:40:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:40:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:40:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:40:52.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:40:52.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:40:52.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:40:53.010 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:40:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:40:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:40:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:40:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.1041ms
2025-07-16 09:40:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.129ms
2025-07-16 09:40:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:40:53.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:40:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:40:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:40:53.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.6064ms
2025-07-16 09:40:53.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:40:53.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.0206ms
2025-07-16 09:40:53.033 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:40:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:40:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.722ms
2025-07-16 09:40:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:40:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.4539ms
2025-07-16 09:41:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:41:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:41:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:41:52.996 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:41:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:41:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:41:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:41:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:41:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:41:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:41:53.033 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:41:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:41:53.036 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:41:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:41:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.1009ms
2025-07-16 09:41:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:41:53.037 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:41:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:41:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.0532ms
2025-07-16 09:41:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:41:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.8956ms
2025-07-16 09:41:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.3426ms
2025-07-16 09:41:53.053 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:41:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:41:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.0333ms
2025-07-16 09:41:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:41:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.2708ms
2025-07-16 09:42:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:42:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:42:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:42:52.995 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:42:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:42:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:42:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:42:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:42:53.019 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:42:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:42:53.021 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:42:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:42:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.0034ms
2025-07-16 09:42:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.3803ms
2025-07-16 09:42:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:42:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:42:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.2829ms
2025-07-16 09:42:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:42:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:42:53.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:42:53.028 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:42:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1484ms
2025-07-16 09:42:53.050 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:42:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:42:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.8911ms
2025-07-16 09:42:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:42:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.567ms
2025-07-16 09:43:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:43:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:43:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:43:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:43:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:43:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:43:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:43:52.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:43:53.018 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:43:53.018 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:43:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:43:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:43:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.2505ms
2025-07-16 09:43:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1188ms
2025-07-16 09:43:53.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:43:53.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:43:53.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5401ms
2025-07-16 09:43:53.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6821ms
2025-07-16 09:43:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:43:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:43:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:43:53.021 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:43:53.040 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:43:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:43:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.5731ms
2025-07-16 09:43:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:43:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.2502ms
2025-07-16 09:44:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:44:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:44:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:44:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:44:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:44:52.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:44:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:44:52.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:44:52.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:44:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:44:52.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:44:52.988 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:44:53.004 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:44:53.004 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:44:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:44:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:44:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.3ms
2025-07-16 09:44:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:44:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.4124ms
2025-07-16 09:44:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:44:53.023 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:44:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.1558ms
2025-07-16 09:44:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.566ms
2025-07-16 09:44:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:44:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.982ms
2025-07-16 09:44:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:44:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.8767ms
2025-07-16 09:45:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:45:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:45:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:45:53.000 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:45:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:45:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:45:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:45:53.021 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:45:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:45:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:45:53.024 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:45:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:45:53.024 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:45:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:45:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.2368ms
2025-07-16 09:45:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:45:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2362ms
2025-07-16 09:45:53.036 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:45:53.039 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:45:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:45:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.8712ms
2025-07-16 09:45:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:45:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:45:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.5008ms
2025-07-16 09:45:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:45:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1533ms
2025-07-16 09:45:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.618ms
2025-07-16 09:46:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:46:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:46:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:46:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:46:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:46:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:46:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:46:53.020 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:46:53.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:46:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:46:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:46:53.032 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:46:53.046 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:46:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:46:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.6117ms
2025-07-16 09:46:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:46:53.049 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:46:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4155ms
2025-07-16 09:46:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:46:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.5675ms
2025-07-16 09:46:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:46:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.3216ms
2025-07-16 09:46:53.058 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:46:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:46:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.7782ms
2025-07-16 09:46:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:46:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.9279ms
2025-07-16 09:47:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:47:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:47:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:47:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:47:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:47:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:47:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:47:53.002 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:47:53.020 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:47:53.020 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:47:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:47:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5204ms
2025-07-16 09:47:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:47:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:47:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:47:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:47:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:47:53.021 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:47:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.0535ms
2025-07-16 09:47:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:47:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.0114ms
2025-07-16 09:47:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5191ms
2025-07-16 09:47:53.043 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:47:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:47:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.6994ms
2025-07-16 09:47:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:47:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.4895ms
2025-07-16 09:48:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:48:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:48:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:48:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:48:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:48:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:48:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:48:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:48:52.993 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:48:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:48:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:48:52.995 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:48:53.022 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:48:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:48:53.025 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:48:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.0817ms
2025-07-16 09:48:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:48:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:48:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.2881ms
2025-07-16 09:48:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:48:53.054 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:48:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.0994ms
2025-07-16 09:48:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.2639ms
2025-07-16 09:48:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:48:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 64.688ms
2025-07-16 09:48:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:48:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.9446ms
2025-07-16 09:49:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:49:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:49:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:49:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:49:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:49:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:49:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:49:52.987 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:49:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:49:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:49:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:49:52.987 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:49:53.005 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:49:53.006 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:49:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:49:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5773ms
2025-07-16 09:49:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:49:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:49:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.7849ms
2025-07-16 09:49:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:49:53.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.7506ms
2025-07-16 09:49:53.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.2998ms
2025-07-16 09:49:53.021 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:49:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:49:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.6389ms
2025-07-16 09:49:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:49:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2114ms
2025-07-16 09:50:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:50:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:50:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:50:53.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:50:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:50:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:50:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:50:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:50:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:50:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:50:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:50:53.023 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:50:53.032 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:50:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:50:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.5407ms
2025-07-16 09:50:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:50:53.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5943ms
2025-07-16 09:50:53.037 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:50:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:50:53.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.7804ms
2025-07-16 09:50:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:50:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0208ms
2025-07-16 09:50:53.052 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:50:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:50:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.5076ms
2025-07-16 09:50:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:50:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6432ms
2025-07-16 09:51:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:51:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:51:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:51:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:51:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:51:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:51:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:51:52.984 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:51:52.999 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:51:52.999 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:51:53.001 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:51:53.001 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:51:53.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.3217ms
2025-07-16 09:51:53.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.1418ms
2025-07-16 09:51:53.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:51:53.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:51:53.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.066ms
2025-07-16 09:51:53.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.868ms
2025-07-16 09:51:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:51:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:51:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:51:53.007 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:51:53.027 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:51:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:51:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.3643ms
2025-07-16 09:51:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:51:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6574ms
2025-07-16 09:52:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:52:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:52:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:52:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:52:52.987 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:52:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:52:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:52:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:52:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:52:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:52:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:52:52.997 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:52:53.007 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:52:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:52:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.9616ms
2025-07-16 09:52:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:52:53.012 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:52:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:52:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.5857ms
2025-07-16 09:52:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:52:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.9079ms
2025-07-16 09:52:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.469ms
2025-07-16 09:52:53.050 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:52:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:52:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.4961ms
2025-07-16 09:52:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:52:53.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.6685ms
2025-07-16 09:53:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:53:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:53:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:53:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:53:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:53:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:53:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:53:52.990 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:53:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:53:53.004 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:53:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:53:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:53:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:53:53.007 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:53:53.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.3724ms
2025-07-16 09:53:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:53:53.007 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:53:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:53:53.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.6472ms
2025-07-16 09:53:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:53:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.6518ms
2025-07-16 09:53:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.066ms
2025-07-16 09:53:53.051 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:53:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:53:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.9157ms
2025-07-16 09:53:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:53:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.0814ms
2025-07-16 09:54:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:54:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:54:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:54:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:54:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:54:52.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:54:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:54:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:54:53.003 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:54:53.003 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:54:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:54:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:54:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:54:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:54:53.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.235ms
2025-07-16 09:54:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:54:53.007 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:54:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.6337ms
2025-07-16 09:54:53.009 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:54:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9835ms
2025-07-16 09:54:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:54:53.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.4043ms
2025-07-16 09:54:53.030 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:54:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:54:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.5781ms
2025-07-16 09:54:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:54:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6567ms
2025-07-16 09:55:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:55:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:55:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:55:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:55:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:55:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:55:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:55:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:55:53.010 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:55:53.013 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:55:53.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.4062ms
2025-07-16 09:55:53.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:55:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:55:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:55:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.9102ms
2025-07-16 09:55:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:55:53.031 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:55:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:55:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:55:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.5855ms
2025-07-16 09:55:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:55:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.7098ms
2025-07-16 09:55:53.052 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:55:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:55:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.0953ms
2025-07-16 09:55:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:55:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5291ms
2025-07-16 09:56:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:56:52.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:56:52.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:56:52.976 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:56:52.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:56:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:56:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:56:52.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:56:53.000 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:56:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:56:53.004 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:56:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.4721ms
2025-07-16 09:56:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:56:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:56:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6432ms
2025-07-16 09:56:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:56:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.1434ms
2025-07-16 09:56:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.1039ms
2025-07-16 09:56:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:56:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:56:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:56:53.012 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:56:53.040 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:56:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:56:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.2089ms
2025-07-16 09:56:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:56:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.964ms
2025-07-16 09:57:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:57:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:57:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:57:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:57:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:57:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:57:52.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:57:52.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:57:52.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:57:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:57:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:57:52.982 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:57:53.003 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:57:53.003 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:57:53.003 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.4124ms
2025-07-16 09:57:53.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:57:53.009 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:57:53.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5615ms
2025-07-16 09:57:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:57:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.3759ms
2025-07-16 09:57:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:57:53.012 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:57:53.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3132ms
2025-07-16 09:57:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:57:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.7626ms
2025-07-16 09:57:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:57:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.4774ms
2025-07-16 09:58:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:58:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:58:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:58:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:58:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:58:53.007 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:58:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:58:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:58:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:58:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:58:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:58:53.007 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:58:53.018 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:58:53.019 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:58:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:58:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.8955ms
2025-07-16 09:58:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:58:53.045 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:58:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.1002ms
2025-07-16 09:58:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:58:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.6617ms
2025-07-16 09:58:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:58:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:58:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 55.0463ms
2025-07-16 09:58:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:58:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.6538ms
2025-07-16 09:58:53.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.1391ms
2025-07-16 09:59:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:59:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:59:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:59:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:59:52.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:59:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 09:59:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:59:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 09:59:52.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:59:52.980 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 09:59:52.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:59:52.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 09:59:53.039 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 09:59:53.045 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 09:59:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:59:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 66.1891ms
2025-07-16 09:59:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 09:59:53.060 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 09:59:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 09:59:53.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 101.1906ms
2025-07-16 09:59:53.081 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 09:59:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 09:59:53.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 102.6113ms
2025-07-16 09:59:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.7339ms
2025-07-16 09:59:53.083 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 09:59:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 106.1271ms
2025-07-16 09:59:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 106.2118ms
2025-07-16 10:00:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:00:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:00:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:00:52.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:00:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:00:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:00:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:00:52.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:00:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:00:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:00:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:00:52.990 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:00:53.007 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:00:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:00:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1494ms
2025-07-16 10:00:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:00:53.013 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:00:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:00:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.3767ms
2025-07-16 10:00:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:00:53.024 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:00:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.9849ms
2025-07-16 10:00:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.0084ms
2025-07-16 10:00:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:00:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.7634ms
2025-07-16 10:00:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:00:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.174ms
2025-07-16 10:01:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:01:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:01:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:01:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:01:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:01:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:01:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:01:52.995 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:01:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:01:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:01:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:01:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:01:53.021 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:01:53.022 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:01:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:01:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.9269ms
2025-07-16 10:01:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:01:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:01:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.9645ms
2025-07-16 10:01:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.6701ms
2025-07-16 10:01:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:01:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3474ms
2025-07-16 10:01:53.038 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:01:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:01:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.0914ms
2025-07-16 10:01:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:01:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.603ms
2025-07-16 10:02:52.974 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:02:52.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:02:52.975 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:02:52.975 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:02:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:02:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:02:52.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:02:52.977 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:02:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:02:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:02:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:02:52.999 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:02:53.008 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:02:53.008 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:02:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.3273ms
2025-07-16 10:02:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:02:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.3488ms
2025-07-16 10:02:53.014 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:02:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:02:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.323ms
2025-07-16 10:02:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:02:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4615ms
2025-07-16 10:02:53.024 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:02:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:02:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.7942ms
2025-07-16 10:02:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:02:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2457ms
2025-07-16 10:03:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:03:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:03:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:03:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:03:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:03:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:03:53.008 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:03:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:03:53.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:03:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:03:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.1303ms
2025-07-16 10:03:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:03:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2025ms
2025-07-16 10:03:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:03:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:03:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:03:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:03:53.027 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:03:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:03:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.1537ms
2025-07-16 10:03:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:03:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.7366ms
2025-07-16 10:03:53.038 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:03:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:03:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.3313ms
2025-07-16 10:03:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:03:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.8148ms
2025-07-16 10:04:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:04:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:04:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:04:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:04:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:04:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:04:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:04:52.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:04:53.003 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:04:53.006 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:04:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:04:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:04:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.2869ms
2025-07-16 10:04:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.8604ms
2025-07-16 10:04:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:04:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:04:53.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.9185ms
2025-07-16 10:04:53.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.4813ms
2025-07-16 10:04:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:04:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:04:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:04:53.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:04:53.026 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:04:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:04:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.9018ms
2025-07-16 10:04:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:04:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.4849ms
2025-07-16 10:05:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:05:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:05:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:05:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:05:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:05:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:05:52.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:05:52.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:05:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:05:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:05:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:05:53.002 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:05:53.012 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:05:53.012 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:05:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:05:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:05:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.7219ms
2025-07-16 10:05:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.7475ms
2025-07-16 10:05:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:05:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:05:53.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.332ms
2025-07-16 10:05:53.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.1529ms
2025-07-16 10:05:53.022 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:05:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:05:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.931ms
2025-07-16 10:05:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:05:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.819ms
2025-07-16 10:06:52.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:06:52.974 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:06:52.974 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:06:52.974 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:06:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:06:52.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:06:52.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:06:52.977 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:06:52.991 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:06:52.991 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:06:52.991 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:06:52.992 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.0604ms
2025-07-16 10:06:52.992 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:06:52.992 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:06:52.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.6026ms
2025-07-16 10:06:52.992 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.1131ms
2025-07-16 10:06:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:06:52.992 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:06:52.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.7745ms
2025-07-16 10:06:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:06:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:06:52.993 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:06:53.010 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:06:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:06:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.4195ms
2025-07-16 10:06:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:06:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5931ms
2025-07-16 10:07:52.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:07:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:07:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:07:52.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:07:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:07:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:07:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:07:52.988 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:07:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:07:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:07:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:07:53.001 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:07:53.016 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:07:53.016 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:07:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:07:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.4388ms
2025-07-16 10:07:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:07:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:07:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.6354ms
2025-07-16 10:07:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.0884ms
2025-07-16 10:07:53.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:07:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7686ms
2025-07-16 10:07:53.022 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:07:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:07:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.0513ms
2025-07-16 10:07:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:07:53.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4831ms
2025-07-16 10:08:52.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:08:52.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:08:52.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:08:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:08:52.976 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:08:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:08:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:08:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:08:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:08:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:08:52.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:08:52.978 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:08:52.994 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:08:52.994 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:08:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:08:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:08:52.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.8376ms
2025-07-16 10:08:52.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5611ms
2025-07-16 10:08:52.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:08:52.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:08:52.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.1611ms
2025-07-16 10:08:52.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2071ms
2025-07-16 10:08:53.029 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:08:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:08:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.3754ms
2025-07-16 10:08:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:08:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.8593ms
2025-07-16 10:19:17.301 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:17.301 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:17.301 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:19:17.301 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:17.302 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:17.302 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:17.302 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:19:17.302 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:19:17.313 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:17.313 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:17.313 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:17.313 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:17.315 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:19:17.322 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:17.322 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.8011ms
2025-07-16 10:19:17.322 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:19:17.322 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:17.323 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.4093ms
2025-07-16 10:19:17.323 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:17.323 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.7828ms
2025-07-16 10:19:17.323 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:19:17.324 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.7118ms
2025-07-16 10:19:17.396 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:19:17.397 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:17.397 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 95.1868ms
2025-07-16 10:19:17.398 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:19:17.398 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 96.0081ms
2025-07-16 10:19:21.187 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 10:19:21.187 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.187 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.7166ms
2025-07-16 10:19:21.191 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 10:19:21.192 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.192 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 10:19:21.192 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 10:19:21.192 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:21.193 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.7193ms
2025-07-16 10:19:21.193 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 10:19:21.193 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.8936ms
2025-07-16 10:19:21.195 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 10:19:21.196 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.196 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 10:19:21.196 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 10:19:21.197 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:21.197 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8296ms
2025-07-16 10:19:21.197 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 10:19:21.197 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.8937ms
2025-07-16 10:19:21.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 10:19:21.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 10:19:21.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 10:19:21.414 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.414 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.414 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.414 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 10:19:21.414 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 10:19:21.414 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 10:19:21.414 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 10:19:21.414 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 10:19:21.414 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 10:19:21.415 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 10:19:21.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 0.9398ms
2025-07-16 10:19:21.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 10:19:21.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 1.8029ms
2025-07-16 10:19:21.422 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:21.422 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 10:19:21.422 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 10:19:21.422 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.422 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.422 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:21.422 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 10:19:21.422 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:21.422 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 10:19:21.433 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 10:19:21.434 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 11.5631ms
2025-07-16 10:19:21.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 10:19:21.434 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 12.2952ms
2025-07-16 10:19:21.437 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 10:19:21.438 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:21.443 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 28.4857ms
2025-07-16 10:19:21.443 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 10:19:21.446 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 32.6196ms
2025-07-16 10:19:21.446 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.446 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 10:19:21.446 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.446 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 10:19:21.446 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 10:19:21.450 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:19:21.452 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:21.453 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.0316ms
2025-07-16 10:19:21.454 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:21.455 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2404ms
2025-07-16 10:19:21.455 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:21.455 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.455 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:21.456 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:21.461 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.464 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 10:19:21.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:21.470 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:19:21.471 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 24.8096ms
2025-07-16 10:19:21.471 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 10:19:21.475 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:21.477 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8917ms
2025-07-16 10:19:21.477 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 30.9151ms
2025-07-16 10:19:21.477 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:21.496 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.496 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.227ms
2025-07-16 10:19:21.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.503 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.506 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.511 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.515 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.526 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.529 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.540 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.546 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.557 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.573 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.578 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.583 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.586 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.596 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.605 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.608 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.618 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.623 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.624 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.626 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.635 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.648 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:21.649 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 235.5099ms
2025-07-16 10:19:21.649 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 10:19:21.649 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 236.5078ms
2025-07-16 10:19:21.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 10:19:21.652 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:21.652 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 10:19:21.652 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 10:19:21.653 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 10:19:21.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.660 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.665 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.667 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.669 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.671 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.683 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.685 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.688 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.690 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.758 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.765 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.771 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.778 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.782 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.793 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.795 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.800 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.808 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.809 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.812 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 10:19:21.814 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:21.815 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 163.1886ms
2025-07-16 10:19:21.815 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 10:19:21.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 164.2081ms
2025-07-16 10:19:51.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:51.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:51.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:51.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:19:51.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:51.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:51.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:51.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:19:52.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:19:52.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:19:52.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:19:52.018 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:19:52.021 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:19:52.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:19:52.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.5276ms
2025-07-16 10:19:52.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:19:52.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0386ms
2025-07-16 10:19:52.022 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:19:52.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:52.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.5917ms
2025-07-16 10:19:52.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:19:52.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.1497ms
2025-07-16 10:19:52.037 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:19:52.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:19:52.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.5828ms
2025-07-16 10:19:52.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:19:52.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7035ms
2025-07-16 10:20:21.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:21.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:21.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:20:22.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:20:22.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:22.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:22.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:20:22.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:20:22.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:22.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:22.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:20:22.038 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:20:22.061 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:20:22.063 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:20:22.063 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:20:22.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.9411ms
2025-07-16 10:20:22.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:20:22.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:20:22.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.45ms
2025-07-16 10:20:22.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.7937ms
2025-07-16 10:20:22.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:20:22.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.7304ms
2025-07-16 10:20:22.084 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:20:22.091 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:20:22.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.5453ms
2025-07-16 10:20:22.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:20:22.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.4644ms
2025-07-16 10:20:51.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:51.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:51.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:51.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:20:51.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:51.984 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:20:51.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:20:51.984 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:20:51.999 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:20:52.001 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:20:52.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.4696ms
2025-07-16 10:20:52.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:20:52.001 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:20:52.001 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:20:52.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.9514ms
2025-07-16 10:20:52.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:20:52.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:20:52.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:20:52.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.1598ms
2025-07-16 10:20:52.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:20:52.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5681ms
2025-07-16 10:20:52.010 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:20:52.021 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:20:52.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:20:52.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.9934ms
2025-07-16 10:20:52.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:20:52.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.5839ms
2025-07-16 10:21:21.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:21.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:21.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:21:21.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:21:21.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:21.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:21.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:21:21.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:21:22.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:22.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:22.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:21:22.014 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:21:22.030 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:21:22.031 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:21:22.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:21:22.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:21:22.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.5005ms
2025-07-16 10:21:22.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1285ms
2025-07-16 10:21:22.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:21:22.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:21:22.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.0601ms
2025-07-16 10:21:22.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.2715ms
2025-07-16 10:21:22.045 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:21:22.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:21:22.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.9117ms
2025-07-16 10:21:22.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:21:22.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.8544ms
2025-07-16 10:21:51.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:51.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:51.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:21:51.981 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:21:51.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:51.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:51.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:21:51.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:21:51.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:21:51.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:21:51.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:21:51.982 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:21:51.997 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:21:51.999 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:21:51.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2273ms
2025-07-16 10:21:51.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:21:52.000 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:21:52.000 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:21:52.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.0969ms
2025-07-16 10:21:52.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:21:52.006 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:21:52.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.3024ms
2025-07-16 10:21:52.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.2152ms
2025-07-16 10:21:52.013 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:21:52.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.0272ms
2025-07-16 10:21:52.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:21:52.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5972ms
2025-07-16 10:22:21.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:21.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:21.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:21.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:21.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:22:21.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:21.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:21.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:22:21.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:22:21.979 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:22:21.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:22:21.980 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:22:21.995 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:22:21.998 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:22:21.998 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:22:21.998 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:22:21.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5042ms
2025-07-16 10:22:22.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.0286ms
2025-07-16 10:22:22.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:22:22.015 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:22:22.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:22:22.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1904ms
2025-07-16 10:22:22.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:22:22.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3291ms
2025-07-16 10:22:22.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.4878ms
2025-07-16 10:22:22.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:22:22.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.1748ms
2025-07-16 10:22:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:22:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:22:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:22:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:22:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:22:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:22:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:22:53.026 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:22:53.026 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:22:53.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:22:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.791ms
2025-07-16 10:22:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:22:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.9439ms
2025-07-16 10:22:53.033 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:22:53.042 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:22:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.0337ms
2025-07-16 10:22:53.044 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:22:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:22:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4441ms
2025-07-16 10:22:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:22:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.8366ms
2025-07-16 10:22:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:22:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.7392ms
2025-07-16 10:23:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:23:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:23:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:23:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:23:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:23:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:23:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:23:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:23:53.029 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:23:53.034 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:23:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:23:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:23:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.9432ms
2025-07-16 10:23:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.5231ms
2025-07-16 10:23:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:23:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:23:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.0599ms
2025-07-16 10:23:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3043ms
2025-07-16 10:23:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:23:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:23:53.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:23:53.042 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:23:53.078 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:23:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:23:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.1692ms
2025-07-16 10:23:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:23:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.0187ms
2025-07-16 10:24:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:24:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:24:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:24:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:24:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:24:52.996 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:24:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:24:52.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:24:53.019 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:24:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:24:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.7209ms
2025-07-16 10:24:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:24:53.025 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:24:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:24:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.8132ms
2025-07-16 10:24:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:24:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:24:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6673ms
2025-07-16 10:24:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4895ms
2025-07-16 10:24:53.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:24:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:24:53.037 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:24:53.052 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:24:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:24:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.2789ms
2025-07-16 10:24:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:24:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.364ms
2025-07-16 10:25:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:25:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:25:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:25:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:25:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:25:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:25:53.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:25:53.010 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:25:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:25:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:25:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:25:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:25:53.032 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:25:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:25:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.2945ms
2025-07-16 10:25:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:25:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.617ms
2025-07-16 10:25:53.035 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:25:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:25:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.6597ms
2025-07-16 10:25:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:25:53.047 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:25:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.9882ms
2025-07-16 10:25:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:25:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.11ms
2025-07-16 10:25:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:25:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.9093ms
2025-07-16 10:26:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:26:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:26:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:26:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:26:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:26:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:26:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:26:52.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:26:53.021 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:26:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:26:53.023 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:26:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:26:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.5783ms
2025-07-16 10:26:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:26:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:26:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:26:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.2081ms
2025-07-16 10:26:53.028 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:26:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:26:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.8739ms
2025-07-16 10:26:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:26:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4065ms
2025-07-16 10:26:53.037 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:26:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:26:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.9153ms
2025-07-16 10:26:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:26:53.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2941ms
2025-07-16 10:27:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:27:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:27:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:27:53.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:27:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:27:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:27:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:27:53.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:27:53.041 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:27:53.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:27:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:27:53.045 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:27:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:27:53.047 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:27:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.4648ms
2025-07-16 10:27:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:27:53.048 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:27:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:27:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.4012ms
2025-07-16 10:27:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:27:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.7838ms
2025-07-16 10:27:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.2683ms
2025-07-16 10:27:53.065 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:27:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:27:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.5733ms
2025-07-16 10:27:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:27:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.4073ms
2025-07-16 10:28:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:28:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:28:53.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:28:53.030 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:28:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:28:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:28:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:28:53.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:28:53.039 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:28:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:28:53.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:28:53.040 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:28:53.040 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:28:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:28:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.0845ms
2025-07-16 10:28:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:28:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.1419ms
2025-07-16 10:28:53.053 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:28:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:28:53.057 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:28:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.7435ms
2025-07-16 10:28:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:28:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:28:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.4097ms
2025-07-16 10:28:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:28:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.7231ms
2025-07-16 10:28:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.9189ms
2025-07-16 10:29:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:29:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:29:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:29:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:29:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:29:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:29:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:29:52.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:29:53.012 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:29:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:29:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2616ms
2025-07-16 10:29:53.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:29:53.017 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:29:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:29:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.2982ms
2025-07-16 10:29:53.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:29:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.2163ms
2025-07-16 10:29:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6326ms
2025-07-16 10:29:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:29:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:29:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:29:53.028 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:29:53.085 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:29:53.086 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:29:53.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.9638ms
2025-07-16 10:29:53.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:29:53.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.5888ms
2025-07-16 10:30:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:30:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:30:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:30:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:30:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:30:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:30:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:30:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:30:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:30:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:30:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:30:53.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:30:53.030 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:30:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:30:53.033 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:30:53.053 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:30:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:30:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.1828ms
2025-07-16 10:30:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.664ms
2025-07-16 10:30:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:30:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:30:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.6695ms
2025-07-16 10:30:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.6792ms
2025-07-16 10:30:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:30:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.6644ms
2025-07-16 10:30:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:30:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.396ms
2025-07-16 10:31:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:31:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:31:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:31:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:31:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:31:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:31:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:31:52.997 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:31:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:31:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:31:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:31:53.018 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:31:53.029 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:31:53.030 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:31:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:31:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.2422ms
2025-07-16 10:31:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:31:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:31:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.0582ms
2025-07-16 10:31:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:31:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.2518ms
2025-07-16 10:31:53.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.9658ms
2025-07-16 10:31:53.039 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:31:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:31:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.3888ms
2025-07-16 10:31:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:31:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1761ms
2025-07-16 10:32:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:32:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:32:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:32:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:32:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:32:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:32:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:32:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:32:53.023 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:32:53.023 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:32:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:32:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:32:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.532ms
2025-07-16 10:32:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.9512ms
2025-07-16 10:32:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:32:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:32:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.2352ms
2025-07-16 10:32:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6257ms
2025-07-16 10:32:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:32:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:32:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:32:53.026 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:32:53.058 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:32:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:32:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.0891ms
2025-07-16 10:32:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:32:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5201ms
2025-07-16 10:33:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:33:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:33:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:33:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:33:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:33:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:33:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:33:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:33:53.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:33:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:33:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:33:53.030 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:33:53.049 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:33:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:33:53.049 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:33:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 42.6273ms
2025-07-16 10:33:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:33:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:33:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.271ms
2025-07-16 10:33:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.9963ms
2025-07-16 10:33:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:33:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.795ms
2025-07-16 10:33:53.074 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:33:53.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:33:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.495ms
2025-07-16 10:33:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:33:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.8344ms
2025-07-16 10:34:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:34:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:34:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:34:53.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:34:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:34:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:34:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:34:53.019 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:34:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:34:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:34:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:34:53.042 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:34:53.057 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:34:53.058 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:34:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:34:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.8948ms
2025-07-16 10:34:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:34:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:34:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.2897ms
2025-07-16 10:34:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:34:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.9322ms
2025-07-16 10:34:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.784ms
2025-07-16 10:34:53.072 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:34:53.093 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:34:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.714ms
2025-07-16 10:34:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:34:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.1107ms
2025-07-16 10:35:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:35:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:35:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:35:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:35:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:35:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:35:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:35:53.003 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:35:53.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:35:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:35:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:35:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:35:53.065 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:35:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:35:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.5871ms
2025-07-16 10:35:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:35:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.8571ms
2025-07-16 10:35:53.066 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:35:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:35:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 63.0113ms
2025-07-16 10:35:53.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:35:53.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.816ms
2025-07-16 10:35:53.077 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:35:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:35:53.080 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.8194ms
2025-07-16 10:35:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:35:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.0843ms
2025-07-16 10:36:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:36:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:36:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:36:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:36:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:36:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:36:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:36:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:36:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:36:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:36:52.985 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:36:52.986 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:36:53.001 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:36:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:36:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.4879ms
2025-07-16 10:36:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:36:53.004 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:36:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:36:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.1855ms
2025-07-16 10:36:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:36:53.016 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:36:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.4041ms
2025-07-16 10:36:53.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:36:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.5624ms
2025-07-16 10:36:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:36:53.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.2569ms
2025-07-16 10:36:53.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.5377ms
2025-07-16 10:37:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:37:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:37:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:37:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:37:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:37:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:37:53.015 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:37:53.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:37:53.037 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:37:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:37:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.0474ms
2025-07-16 10:37:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:37:53.044 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:37:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:37:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.5843ms
2025-07-16 10:37:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:37:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.9823ms
2025-07-16 10:37:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.871ms
2025-07-16 10:37:53.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:37:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:37:53.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:37:53.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:37:53.067 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:37:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:37:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.4433ms
2025-07-16 10:37:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:37:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.6302ms
2025-07-16 10:38:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:38:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:38:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:38:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:38:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:38:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:38:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:38:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:38:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:38:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:38:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:38:53.013 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:38:53.038 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:38:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:38:53.041 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:38:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.5397ms
2025-07-16 10:38:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:38:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.5367ms
2025-07-16 10:38:53.061 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:38:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:38:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.1192ms
2025-07-16 10:38:53.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:38:53.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.9833ms
2025-07-16 10:38:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:38:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.2067ms
2025-07-16 10:38:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:38:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.695ms
2025-07-16 10:39:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:39:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:39:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:39:53.000 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:39:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:39:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:39:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:39:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:39:53.029 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:39:53.032 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:39:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:39:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:39:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.4584ms
2025-07-16 10:39:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.0098ms
2025-07-16 10:39:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:39:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:39:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5762ms
2025-07-16 10:39:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4774ms
2025-07-16 10:39:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:39:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:39:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:39:53.040 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:39:53.062 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:39:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:39:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.9862ms
2025-07-16 10:39:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:39:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.2066ms
2025-07-16 10:40:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:40:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:40:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:40:53.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:40:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:40:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:40:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:40:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:40:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:40:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:40:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:40:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:40:53.072 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:40:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:40:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.1325ms
2025-07-16 10:40:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:40:53.076 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:40:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 87.0082ms
2025-07-16 10:40:53.100 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:40:53.101 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 69.9933ms
2025-07-16 10:40:53.101 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:40:53.103 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.8922ms
2025-07-16 10:40:53.103 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:40:53.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:40:53.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 72.5848ms
2025-07-16 10:40:53.103 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:40:53.114 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.2474ms
2025-07-16 10:41:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:41:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:41:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:41:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:41:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:41:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:41:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:41:53.017 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:41:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:41:53.041 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:41:53.044 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:41:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:41:53.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:41:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:41:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:41:53.044 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:41:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.88ms
2025-07-16 10:41:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.2174ms
2025-07-16 10:41:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:41:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:41:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.5136ms
2025-07-16 10:41:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.8394ms
2025-07-16 10:41:53.062 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:41:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:41:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.2525ms
2025-07-16 10:41:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:41:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5109ms
2025-07-16 10:42:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:42:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:42:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:42:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:42:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:42:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:42:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:42:53.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:42:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:42:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:42:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:42:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:42:53.028 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:42:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:42:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.4417ms
2025-07-16 10:42:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:42:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.556ms
2025-07-16 10:42:53.031 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:42:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:42:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.9816ms
2025-07-16 10:42:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:42:53.050 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:42:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.5931ms
2025-07-16 10:42:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:42:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.1355ms
2025-07-16 10:42:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:42:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.0612ms
2025-07-16 10:43:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:43:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:43:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:43:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:43:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:43:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:43:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:43:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:43:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:43:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:43:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:43:52.997 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:43:53.025 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:43:53.025 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:43:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:43:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:43:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.2004ms
2025-07-16 10:43:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.2709ms
2025-07-16 10:43:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:43:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:43:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.4965ms
2025-07-16 10:43:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1816ms
2025-07-16 10:43:53.039 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:43:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:43:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 53.2845ms
2025-07-16 10:43:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:43:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.3158ms
2025-07-16 10:44:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:44:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:44:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:44:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:44:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:44:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:44:53.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:44:53.003 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:44:53.030 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:44:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:44:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.0948ms
2025-07-16 10:44:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:44:53.033 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:44:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:44:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7654ms
2025-07-16 10:44:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:44:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:44:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:44:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.4461ms
2025-07-16 10:44:53.049 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:44:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.0072ms
2025-07-16 10:44:53.049 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:44:53.070 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:44:53.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:44:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.6396ms
2025-07-16 10:44:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:44:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.4847ms
2025-07-16 10:45:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:45:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:45:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:45:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:45:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:45:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:45:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:45:53.016 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:45:53.047 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:45:53.047 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:45:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:45:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:45:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.8035ms
2025-07-16 10:45:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.0308ms
2025-07-16 10:45:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:45:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:45:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.5996ms
2025-07-16 10:45:53.059 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:45:53.059 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:45:53.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:45:53.059 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:45:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.346ms
2025-07-16 10:45:53.081 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:45:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:45:53.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.7145ms
2025-07-16 10:45:53.083 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:45:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.9052ms
2025-07-16 10:46:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:46:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:46:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:46:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:46:53.015 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:46:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:46:53.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.6349ms
2025-07-16 10:46:53.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:46:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:46:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:46:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:46:53.026 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:46:53.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:46:53.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:46:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:46:53.035 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:46:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.3819ms
2025-07-16 10:46:53.046 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:46:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:46:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.9948ms
2025-07-16 10:46:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:46:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2513ms
2025-07-16 10:46:53.082 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:46:53.091 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:46:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.2979ms
2025-07-16 10:46:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:46:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.0136ms
2025-07-16 10:47:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:47:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:47:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:47:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:47:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:47:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:47:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:47:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:47:52.988 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:47:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:47:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:47:52.988 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:47:53.006 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:47:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:47:53.010 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:47:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.1522ms
2025-07-16 10:47:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:47:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:47:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.217ms
2025-07-16 10:47:53.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.969ms
2025-07-16 10:47:53.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:47:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7982ms
2025-07-16 10:47:53.040 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:47:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:47:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 53.1746ms
2025-07-16 10:47:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:47:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.272ms
2025-07-16 10:48:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:48:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:48:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:48:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:48:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:48:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:48:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:48:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:48:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:48:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:48:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:48:53.003 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:48:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:48:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:48:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.5487ms
2025-07-16 10:48:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:48:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.4064ms
2025-07-16 10:48:53.010 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:48:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:48:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.7503ms
2025-07-16 10:48:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:48:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.6313ms
2025-07-16 10:48:53.044 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:48:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:48:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.3702ms
2025-07-16 10:48:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:48:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.8532ms
2025-07-16 10:49:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:49:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:49:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:49:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:49:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:49:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 10:49:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:49:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 10:49:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:49:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:49:53.003 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 10:49:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 10:49:53.034 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 10:49:53.035 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 10:49:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 10:49:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:49:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.3304ms
2025-07-16 10:49:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 10:49:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.8947ms
2025-07-16 10:49:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 10:49:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.0834ms
2025-07-16 10:49:53.063 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 10:49:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.638ms
2025-07-16 10:49:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 10:49:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 62.9856ms
2025-07-16 10:49:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 10:49:53.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.3173ms
2025-07-16 11:15:38.439 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:15:38.439 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:15:38.440 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.440 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.440 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.9878ms
2025-07-16 11:15:38.440 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.3015ms
2025-07-16 11:15:38.453 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:15:38.453 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.453 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:15:38.453 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:15:38.454 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:15:38.454 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.9227ms
2025-07-16 11:15:38.454 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:15:38.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.6964ms
2025-07-16 11:15:38.462 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:15:38.462 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.462 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:15:38.462 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:15:38.463 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:15:38.463 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3954ms
2025-07-16 11:15:38.463 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:15:38.463 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1134ms
2025-07-16 11:15:38.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:15:38.910 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.911 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:15:38.911 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:15:38.915 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 11:15:38.915 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.915 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 11:15:38.915 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:15:38.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 11:15:38.919 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.920 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:15:38.920 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:15:38.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 11:15:38.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.2952ms
2025-07-16 11:15:38.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:15:38.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 5.509ms
2025-07-16 11:15:38.932 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 11:15:38.936 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:15:38.936 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.936 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:15:38.936 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:15:38.936 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:15:38.936 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.936 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:15:38.936 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:15:38.937 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 11:15:38.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.6783ms
2025-07-16 11:15:38.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:15:38.938 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 5.7245ms
2025-07-16 11:15:38.958 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 11:15:38.959 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.963 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:15:38.963 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 47.6094ms
2025-07-16 11:15:38.964 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 11:15:38.964 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.964 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 49.7293ms
2025-07-16 11:15:38.968 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.970 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-16 11:15:38.971 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.971 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 11:15:38.971 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:15:38.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.974 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.976 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-16 11:15:38.979 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.979 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:15:38.980 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 8.2198ms
2025-07-16 11:15:38.980 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-16 11:15:38.981 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 11.5494ms
2025-07-16 11:15:38.987 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.987 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:15:38.988 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:15:38.988 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 51.7949ms
2025-07-16 11:15:38.988 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:15:38.988 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.3672ms
2025-07-16 11:15:38.989 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:15:38.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:38.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:15:38.991 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:15:38.992 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.994 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:38.994 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:15:38.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:15:38.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 5.5023ms
2025-07-16 11:15:38.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:15:38.997 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.3956ms
2025-07-16 11:15:38.999 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.002 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.004 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.006 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.008 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.011 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.013 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.018 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.019 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.021 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.023 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.025 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.028 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.032 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.033 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.037 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.039 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.042 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.045 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.047 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.051 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.052 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.056 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.059 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.062 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.065 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.067 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.070 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.072 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.078 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.080 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.084 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.090 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.095 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.101 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.102 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.104 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.107 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.109 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.114 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.116 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.118 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.121 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.122 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.125 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.128 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.129 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:15:39.130 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 218.6219ms
2025-07-16 11:15:39.130 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:15:39.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 223.6238ms
2025-07-16 11:15:39.132 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:15:39.133 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:15:39.133 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:15:39.133 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:15:39.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:15:39.140 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.142 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.149 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.156 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.158 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.161 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.169 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.171 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.182 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.185 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.193 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.198 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.201 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.205 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.218 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.221 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.223 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.227 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.231 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.235 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.239 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.241 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.247 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.255 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.258 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.265 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.266 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.285 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.291 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.293 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.296 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.298 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.300 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.302 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.304 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.306 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.308 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.312 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:15:39.313 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:15:39.314 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 181.2239ms
2025-07-16 11:15:39.314 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:15:39.314 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 182.5724ms
2025-07-16 11:16:08.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:08.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:08.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:16:08.997 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:16:08.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:09.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:09.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:16:09.004 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:16:09.028 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:16:09.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:09.032 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:16:09.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:09.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:16:09.039 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:16:09.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:16:09.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 69.6692ms
2025-07-16 11:16:09.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:16:09.068 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:16:09.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.1543ms
2025-07-16 11:16:09.069 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:16:09.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.5838ms
2025-07-16 11:16:09.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:16:09.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.2837ms
2025-07-16 11:16:09.077 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:16:09.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.6875ms
2025-07-16 11:16:09.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:16:09.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.3204ms
2025-07-16 11:16:38.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:38.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:38.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:16:38.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:16:38.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:38.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:38.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:16:38.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:16:38.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:16:38.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:16:38.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:16:38.989 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:16:39.008 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:16:39.009 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:16:39.009 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:16:39.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:16:39.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.5675ms
2025-07-16 11:16:39.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.0359ms
2025-07-16 11:16:39.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:16:39.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:16:39.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.2756ms
2025-07-16 11:16:39.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1764ms
2025-07-16 11:16:39.013 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:16:39.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:16:39.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.5243ms
2025-07-16 11:16:39.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:16:39.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3083ms
2025-07-16 11:17:08.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:08.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:08.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:08.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:08.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:17:08.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:08.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:08.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:17:08.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:08.982 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:08.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:08.985 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:09.004 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:17:09.006 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:17:09.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:09.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.0354ms
2025-07-16 11:17:09.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:17:09.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0786ms
2025-07-16 11:17:09.011 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:17:09.041 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:09.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.3112ms
2025-07-16 11:17:09.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:09.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:09.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.8454ms
2025-07-16 11:17:09.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.904ms
2025-07-16 11:17:09.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:17:09.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.5743ms
2025-07-16 11:17:38.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:38.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:38.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:38.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:38.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:38.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:38.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:17:38.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:38.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:38.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:17:38.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:38.989 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:39.000 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:17:39.003 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:17:39.003 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:39.003 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.368ms
2025-07-16 11:17:39.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:17:39.003 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:17:39.003 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:39.003 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.5843ms
2025-07-16 11:17:39.003 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:17:39.010 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:39.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5399ms
2025-07-16 11:17:39.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.2173ms
2025-07-16 11:17:39.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.3447ms
2025-07-16 11:17:39.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:39.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.7972ms
2025-07-16 11:17:47.963 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:17:47.964 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:47.964 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.9317ms
2025-07-16 11:17:47.966 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:17:47.966 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:47.967 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:17:47.967 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.0661ms
2025-07-16 11:17:47.967 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:47.967 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:17:47.967 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:17:47.967 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:47.967 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3833ms
2025-07-16 11:17:47.967 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:17:47.968 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1664ms
2025-07-16 11:17:47.970 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:17:47.971 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:47.971 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:17:47.972 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:17:47.972 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:47.972 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5129ms
2025-07-16 11:17:47.972 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:17:47.972 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.0525ms
2025-07-16 11:17:48.245 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:17:48.245 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-16 11:17:48.246 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.246 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:17:48.246 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.246 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.3208ms
2025-07-16 11:17:48.246 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:17:48.247 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.725ms
2025-07-16 11:17:48.247 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.247 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 1.0664ms
2025-07-16 11:17:48.247 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.247 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.5136ms
2025-07-16 11:17:48.254 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:17:48.253 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:17:48.260 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.260 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.260 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 6.3058ms
2025-07-16 11:17:48.260 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 6.3059ms
2025-07-16 11:17:48.261 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:17:48.261 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.261 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 1.1176ms
2025-07-16 11:17:48.262 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.263 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.263 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:48.264 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:48.278 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:17:48.279 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-16 11:17:48.279 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:17:48.279 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:17:48.280 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:17:48.280 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.280 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.280 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.280 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.280 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:17:48.280 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.7708ms
2025-07-16 11:17:48.281 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:17:48.281 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:48.281 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.281 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.280 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.282 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:17:48.282 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4056ms
2025-07-16 11:17:48.282 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.282 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:17:48.282 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.294 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.294 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.294 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:48.294 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:17:48.309 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:17:48.314 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.342 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 60.2271ms
2025-07-16 11:17:48.343 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:17:48.344 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-16 11:17:48.344 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.344 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 61.9454ms
2025-07-16 11:17:48.344 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:17:48.344 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 64.9331ms
2025-07-16 11:17:48.349 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 70.2326ms
2025-07-16 11:17:48.349 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:17:48.349 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-16 11:17:48.350 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.350 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.350 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:17:48.350 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:17:48.350 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:17:48.351 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:17:48.351 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.354 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.356 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 73.6549ms
2025-07-16 11:17:48.356 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.356 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 77.7314ms
2025-07-16 11:17:48.363 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:17:48.363 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:17:48.363 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.363 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:17:48.363 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.363 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.363 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.367 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 86.0368ms
2025-07-16 11:17:48.368 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-16 11:17:48.368 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:17:48.373 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 93.7638ms
2025-07-16 11:17:48.373 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.375 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 23.6632ms
2025-07-16 11:17:48.375 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.375 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:17:48.375 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:17:48.375 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 24.0779ms
2025-07-16 11:17:48.375 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.375 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:17:48.375 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:17:48.375 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.379 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:17:48.380 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 30.4749ms
2025-07-16 11:17:48.380 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:17:48.381 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.382 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 32.2812ms
2025-07-16 11:17:48.383 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 87.9344ms
2025-07-16 11:17:48.383 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:17:48.383 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 89.2933ms
2025-07-16 11:17:48.383 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.383 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 20.0447ms
2025-07-16 11:17:48.383 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.383 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 20.7177ms
2025-07-16 11:17:48.384 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:17:48.386 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.386 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 11.0708ms
2025-07-16 11:17:48.386 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:17:48.386 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 11.6669ms
2025-07-16 11:17:48.477 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:17:48.477 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.478 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.478 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.9788ms
2025-07-16 11:17:48.478 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.478 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.2453ms
2025-07-16 11:17:48.482 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:17:48.482 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.482 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.482 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.482 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 0.8376ms
2025-07-16 11:17:48.482 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.83ms
2025-07-16 11:17:48.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-16 11:17:48.491 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-16 11:17:48.492 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:17:48.492 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.492 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:17:48.492 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:17:48.492 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-16 11:17:48.492 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.492 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.492 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.492 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.492 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-16 11:17:48.494 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:17:48.494 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:17:48.495 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:17:48.495 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.501 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.508 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-16 11:17:48.518 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-16 11:17:48.520 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.520 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 27.9544ms
2025-07-16 11:17:48.521 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:17:48.521 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 29.3643ms
2025-07-16 11:17:48.532 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-16 11:17:48.532 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.532 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:17:48.532 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.540 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-16 11:17:48.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 50.4873ms
2025-07-16 11:17:48.543 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:17:48.543 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.0012ms
2025-07-16 11:17:48.544 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-16 11:17:48.545 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.547 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 54.9309ms
2025-07-16 11:17:48.547 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:17:48.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 58.2027ms
2025-07-16 11:17:48.565 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-16 11:17:48.566 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:17:48.567 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.567 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.567 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:17:48.567 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.567 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 72.0124ms
2025-07-16 11:17:48.567 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:17:48.569 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 74.5219ms
2025-07-16 11:17:48.570 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-16 11:17:48.570 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.570 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:17:48.571 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.581 +00:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-16 11:17:48.586 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:17:48.581 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-16 11:17:48.586 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.586 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-16 11:17:48.590 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.590 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:17:48.592 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.592 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 90.3304ms
2025-07-16 11:17:48.592 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:17:48.592 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 99.3292ms
2025-07-16 11:17:48.592 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.592 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:17:48.592 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 98.5468ms
2025-07-16 11:17:48.592 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 99.8804ms
2025-07-16 11:17:48.597 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-16 11:17:48.597 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-16 11:17:48.597 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-16 11:17:48.598 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.598 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.598 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-16 11:17:48.598 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 31.3747ms
2025-07-16 11:17:48.598 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 27.7352ms
2025-07-16 11:17:48.598 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:17:48.598 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:17:48.599 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.599 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.599 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.7705ms
2025-07-16 11:17:48.599 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 29.5204ms
2025-07-16 11:17:48.600 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.600 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:17:48.601 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:17:48.602 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:17:48.604 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-16 11:17:48.609 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-16 11:17:48.610 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.610 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.610 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 18.5094ms
2025-07-16 11:17:48.610 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 10.3853ms
2025-07-16 11:17:48.610 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:17:48.610 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:17:48.610 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-16 11:17:48.611 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 12.3726ms
2025-07-16 11:17:48.611 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 27.0266ms
2025-07-16 11:17:48.611 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:17:48.611 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 78.4294ms
2025-07-16 11:17:48.611 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:17:48.611 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 79.9855ms
2025-07-16 11:17:48.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-16 11:17:48.614 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:17:48.614 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 11.6511ms
2025-07-16 11:17:48.614 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:17:48.615 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 17.2023ms
2025-07-16 11:18:08.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:08.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:08.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:08.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:08.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:08.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:08.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:08.985 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:08.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:08.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:08.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:08.986 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:18:08.995 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:18:08.995 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:18:09.000 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:09.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.7145ms
2025-07-16 11:18:09.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:09.006 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:18:09.008 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:18:09.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.597ms
2025-07-16 11:18:09.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.3723ms
2025-07-16 11:18:09.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:09.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:09.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.4684ms
2025-07-16 11:18:09.011 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.3418ms
2025-07-16 11:18:09.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:09.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.1329ms
2025-07-16 11:18:18.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:18.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:18.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:18.250 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:18.250 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:18.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:18.250 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:18.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:18.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:18.250 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:18.250 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:18:18.250 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:18.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:18:18.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:18:18.259 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:18.259 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.9461ms
2025-07-16 11:18:18.259 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:18:18.259 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:18:18.260 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.8027ms
2025-07-16 11:18:18.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:18.260 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:18.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:18.260 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 10.0942ms
2025-07-16 11:18:18.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8749ms
2025-07-16 11:18:18.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:18.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8744ms
2025-07-16 11:18:18.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8684ms
2025-07-16 11:18:38.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:38.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:38.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:38.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:38.982 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:38.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:38.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:38.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:38.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:38.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:38.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:38.987 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:18:39.005 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:18:39.008 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:18:39.008 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:39.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.4986ms
2025-07-16 11:18:39.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:39.011 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:18:39.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:39.013 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9648ms
2025-07-16 11:18:39.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.4721ms
2025-07-16 11:18:39.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:39.013 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:18:39.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.9066ms
2025-07-16 11:18:39.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:39.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.3741ms
2025-07-16 11:18:39.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.0808ms
2025-07-16 11:18:48.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:48.260 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:48.260 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:48.260 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:18:48.260 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:48.260 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:18:48.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:48.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:48.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:48.260 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:48.260 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:18:48.260 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:18:48.263 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:18:48.266 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:48.266 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.4643ms
2025-07-16 11:18:48.266 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:18:48.267 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.9408ms
2025-07-16 11:18:48.268 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:18:48.274 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:18:48.276 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:18:48.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.8015ms
2025-07-16 11:18:48.277 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:18:48.277 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:18:48.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.0584ms
2025-07-16 11:18:48.277 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.8725ms
2025-07-16 11:18:48.279 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:18:48.279 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.5109ms
2025-07-16 11:19:18.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:18.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:18.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:18.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:18.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:18.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:18.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:18.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:19.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:19.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:19.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:19.002 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:19:19.020 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:19:19.024 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:19:19.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.583ms
2025-07-16 11:19:19.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:19.025 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:19:19.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:19.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.6464ms
2025-07-16 11:19:19.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:19.031 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:19:19.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3902ms
2025-07-16 11:19:19.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:19.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.1362ms
2025-07-16 11:19:19.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.0358ms
2025-07-16 11:19:19.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:19.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.6364ms
2025-07-16 11:19:48.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:48.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:48.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:48.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:48.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:48.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:48.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:48.980 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:48.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:48.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:48.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:48.983 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:19:48.998 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:19:49.000 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:19:49.000 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:19:49.000 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:19:49.008 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:49.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:49.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.6379ms
2025-07-16 11:19:49.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:49.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.2936ms
2025-07-16 11:19:49.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.0176ms
2025-07-16 11:19:49.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:49.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1279ms
2025-07-16 11:19:49.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:49.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9465ms
2025-07-16 11:19:49.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.273ms
2025-07-16 11:19:52.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:19:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:52.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:52.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:19:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:52.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:19:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:52.979 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:19:52.984 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:19:52.988 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:19:52.989 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.1093ms
2025-07-16 11:19:52.989 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:19:52.989 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.5931ms
2025-07-16 11:19:52.989 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:19:52.991 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:52.991 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.6775ms
2025-07-16 11:19:52.991 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:19:52.991 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.9644ms
2025-07-16 11:19:52.996 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:19:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:19:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.5719ms
2025-07-16 11:19:53.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:19:53.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.2207ms
2025-07-16 11:21:39.697 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-16 11:21:39.785 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:39.786 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.098 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:40.114 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.394 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-16 11:21:52.460 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.460 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.461 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:21:52.877 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-16 11:21:52.895 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-16 11:21:52.897 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-16 11:21:52.898 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-16 11:21:52.911 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-16 11:21:52.923 +00:00 [INF] Applying migration '20250716112140_Chale'.
2025-07-16 11:21:53.078 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [FullName] nvarchar(max) NOT NULL DEFAULT N'';
2025-07-16 11:21:53.081 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250716112140_Chale', N'8.0.15');
2025-07-16 11:33:06.146 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-16 11:33:06.912 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.949 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.950 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.950 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.950 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:06.950 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:33:07.748 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:33:07.830 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:33:07.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:33:08.201 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-16 11:33:08.201 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-16 11:33:08.324 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-16 11:33:08.324 +00:00 [INF] Hosting environment: Development
2025-07-16 11:33:08.324 +00:00 [INF] Content root path: C:\Users\pc\source\repos\papa-kwame\PersonaXFleet
2025-07-16 11:33:09.132 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-16 11:33:09.451 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 337.2302ms
2025-07-16 11:33:09.556 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-16 11:33:09.574 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 13.9889ms
2025-07-16 11:33:09.580 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-16 11:33:09.633 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5221ms
2025-07-16 11:33:09.725 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-16 11:33:09.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.4054ms
2025-07-16 11:33:18.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:33:18.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:33:18.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:33:19.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:19.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:19.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:19.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:33:19.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:33:19.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:19.084 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:33:19.084 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:33:19.084 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:33:19.465 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:33:19.483 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:19.521 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 429.8358ms
2025-07-16 11:33:19.522 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:33:19.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:33:19.532 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 544.0832ms
2025-07-16 11:33:19.542 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:33:19.547 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 461.09ms
2025-07-16 11:33:19.547 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:19.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 558.7929ms
2025-07-16 11:33:19.660 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:33:19.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:19.684 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 597.8372ms
2025-07-16 11:33:19.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:33:19.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 696.0016ms
2025-07-16 11:33:35.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:35.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/roles - null null
2025-07-16 11:33:35.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 11:33:35.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.077 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:33:35.077 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:35.077 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-16 11:33:35.081 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:33:35.081 +00:00 [INF] Route matched with {action = "GetAllRoles", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllRoles() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:35.084 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:35.096 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 11:33:35.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 15.6635ms
2025-07-16 11:33:35.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:33:35.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 28.8534ms
2025-07-16 11:33:35.101 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-16 11:33:35.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.102 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:33:35.103 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-16 11:33:35.105 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-16 11:33:35.105 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 2.7984ms
2025-07-16 11:33:35.106 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-16 11:33:35.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 5.3599ms
2025-07-16 11:33:35.117 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2025-07-16 11:33:35.121 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:35.122 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-07-16 11:33:35.127 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet) in 45.6961ms
2025-07-16 11:33:35.128 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-16 11:33:35.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/roles - 200 null application/json; charset=utf-8 59.0643ms
2025-07-16 11:33:35.131 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/roles - null null
2025-07-16 11:33:35.132 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.132 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-16 11:33:35.132 +00:00 [INF] Route matched with {action = "GetAllRoles", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllRoles() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:35.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2025-07-16 11:33:35.145 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-07-16 11:33:35.145 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet) in 12.8248ms
2025-07-16 11:33:35.145 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-16 11:33:35.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/roles - 200 null application/json; charset=utf-8 15.1756ms
2025-07-16 11:33:35.261 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.274 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.280 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.283 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.285 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.296 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.298 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.306 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.312 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.315 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.317 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.322 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.327 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.330 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.333 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.336 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.338 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.344 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.347 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.350 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.352 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.355 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.360 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.363 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.365 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.368 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.370 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.372 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.377 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.380 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.382 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.384 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.389 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.395 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.399 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.402 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.408 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.412 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.414 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.417 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.422 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.426 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.428 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.431 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.433 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.436 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.438 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.442 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.448 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.450 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.453 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.456 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.461 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.463 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.466 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.469 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.480 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.482 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.492 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.503 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.510 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.520 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.527 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.531 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.534 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.536 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.538 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.542 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:35.551 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 466.0973ms
2025-07-16 11:33:35.551 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:35.551 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:35.551 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:35.551 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 482.2782ms
2025-07-16 11:33:35.551 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:35.551 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:35.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:35.565 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.574 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.578 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.583 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.585 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.592 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.603 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.605 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.608 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.625 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.630 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.639 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.654 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.665 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.671 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.715 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.732 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.743 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.749 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.754 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.762 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.765 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.777 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.782 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.788 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.792 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.805 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.808 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.812 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.814 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.816 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.820 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.822 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.825 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.832 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:35.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:35.840 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 288.1761ms
2025-07-16 11:33:35.841 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:35.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 291.4411ms
2025-07-16 11:33:36.497 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:36.498 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:36.498 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:36.498 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:36.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:36.509 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.513 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.527 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.531 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.541 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.544 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.558 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.576 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.583 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.585 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.590 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.593 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.596 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.605 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.609 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.619 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.625 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.629 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.634 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.642 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.647 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.650 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.653 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.655 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.659 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.693 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.707 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.710 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.723 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.726 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.742 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.743 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:36.745 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 246.2094ms
2025-07-16 11:33:36.745 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:36.745 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 248.3341ms
2025-07-16 11:33:36.747 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:36.747 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:36.748 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:36.748 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:36.749 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:36.757 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.763 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.774 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.777 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.791 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.807 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.821 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.833 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.835 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.838 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.842 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.847 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.850 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.857 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.860 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.863 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.865 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.868 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.870 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.881 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.885 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.890 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.898 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.908 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.913 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.917 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.919 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.922 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.925 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.928 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.932 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.937 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.940 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.943 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.951 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.954 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.958 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.960 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.964 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.966 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.968 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.971 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.975 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.978 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:36.978 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:36.980 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 232.5907ms
2025-07-16 11:33:36.980 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:36.981 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 233.9909ms
2025-07-16 11:33:42.620 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:33:42.620 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:33:42.621 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.621 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.622 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.5826ms
2025-07-16 11:33:42.622 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.1147ms
2025-07-16 11:33:42.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:33:42.626 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.626 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:33:42.628 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:42.630 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:33:42.634 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 5.8576ms
2025-07-16 11:33:42.635 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:33:42.635 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 10.059ms
2025-07-16 11:33:42.638 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:33:42.638 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.638 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:33:42.638 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:42.639 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:33:42.639 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4352ms
2025-07-16 11:33:42.639 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:33:42.639 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.4395ms
2025-07-16 11:33:42.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:42.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:33:42.858 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.858 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.858 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:42.858 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:42.858 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:42.858 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:33:42.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:42.873 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:33:42.874 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:33:42.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1568ms
2025-07-16 11:33:42.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:42.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.7167ms
2025-07-16 11:33:42.877 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:33:42.878 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:42.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:42.878 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:33:42.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:33:42.921 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:33:42.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.2908ms
2025-07-16 11:33:42.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:33:42.922 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.861ms
2025-07-16 11:33:42.923 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.927 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.938 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.957 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.959 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.964 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.969 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.975 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.978 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.980 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.987 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.989 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.991 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.994 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:42.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.001 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.004 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.007 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.009 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.012 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.018 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.020 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.022 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.025 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.028 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.031 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.037 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.039 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.042 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.046 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.050 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.056 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.062 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.069 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.072 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.077 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.079 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.086 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.089 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.092 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.103 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.105 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.108 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.110 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.112 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.118 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.121 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.123 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.126 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.129 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.131 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.137 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.139 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.142 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.145 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.148 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.152 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.155 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.158 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.161 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.169 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.185 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.188 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.191 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.195 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.197 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.201 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.204 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.206 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.210 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.217 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.218 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:43.220 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 361.5762ms
2025-07-16 11:33:43.220 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:43.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 362.8432ms
2025-07-16 11:33:43.222 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:33:43.223 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:33:43.223 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:43.223 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:33:43.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:33:43.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.249 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.253 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.254 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.259 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.264 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.267 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.274 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.284 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.289 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.296 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.311 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.313 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.316 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.321 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.323 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.324 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.329 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.332 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.338 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.342 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.346 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.351 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.357 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.359 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.362 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.365 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.369 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.371 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.372 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.373 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.375 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.378 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.380 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.381 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.385 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.388 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.389 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.391 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.392 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.395 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.399 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.401 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:33:43.404 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:33:43.406 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 182.7377ms
2025-07-16 11:33:43.406 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:33:43.406 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 184.3315ms
2025-07-16 11:34:12.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:12.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:12.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:12.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:34:12.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:12.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:34:12.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:34:12.982 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:34:12.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:13.008 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:34:13.009 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:34:13.010 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:34:13.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:34:13.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.1789ms
2025-07-16 11:34:13.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:34:13.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.4771ms
2025-07-16 11:34:13.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:34:13.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3432ms
2025-07-16 11:34:13.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:13.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:34:13.027 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:34:13.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3633ms
2025-07-16 11:34:13.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:34:13.055 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:34:13.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.2078ms
2025-07-16 11:34:13.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:34:13.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.538ms
2025-07-16 11:34:42.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:42.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:42.845 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:42.845 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:42.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:34:42.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:34:42.845 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:34:42.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:34:42.845 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:34:42.846 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:34:42.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:34:42.846 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:34:42.851 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:34:42.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:34:42.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.5854ms
2025-07-16 11:34:42.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:34:42.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.9515ms
2025-07-16 11:34:42.863 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:34:42.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:34:42.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.8717ms
2025-07-16 11:34:42.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:34:42.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2611ms
2025-07-16 11:34:42.865 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:34:42.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:34:42.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.574ms
2025-07-16 11:34:42.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:34:42.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.9286ms
2025-07-16 11:35:12.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:12.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:12.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:12.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:12.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:12.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:12.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:35:12.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:35:12.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:35:12.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:35:12.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:35:12.979 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:35:12.993 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:35:12.995 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:35:12.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:35:12.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:35:12.997 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.2331ms
2025-07-16 11:35:12.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:35:12.997 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8424ms
2025-07-16 11:35:12.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:35:12.998 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.5032ms
2025-07-16 11:35:13.008 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:35:13.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:35:13.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.9994ms
2025-07-16 11:35:13.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.7858ms
2025-07-16 11:35:13.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:35:13.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.5799ms
2025-07-16 11:35:19.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:35:19.664 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:35:19.664 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:35:19.684 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:35:19.695 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.706 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.712 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.715 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.716 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.717 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.718 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.720 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.721 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.722 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.724 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.728 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.731 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.732 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.735 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.738 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.741 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.744 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.746 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.747 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.749 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.753 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.763 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.766 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.777 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.780 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.782 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.783 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.784 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.784 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.785 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.786 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:35:19.786 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:35:19.787 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 123.7127ms
2025-07-16 11:35:19.788 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:35:19.788 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 124.9868ms
2025-07-16 11:35:42.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:42.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:42.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:42.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:42.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:35:42.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:35:42.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:35:42.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:35:43.007 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:35:43.008 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:35:43.009 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:35:43.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:35:43.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.9327ms
2025-07-16 11:35:43.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:35:43.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.0106ms
2025-07-16 11:35:43.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:35:43.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.9353ms
2025-07-16 11:35:43.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.0865ms
2025-07-16 11:35:43.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:35:43.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:35:43.049 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:35:43.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:35:43.061 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:35:43.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:35:43.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.084ms
2025-07-16 11:35:43.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:35:43.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2246ms
2025-07-16 11:36:12.972 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:12.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:12.974 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:12.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:12.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:12.975 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:12.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:36:12.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:36:12.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:36:12.976 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:36:12.976 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:36:12.976 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:36:12.999 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:36:13.000 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:36:13.001 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:36:13.001 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:36:13.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.1519ms
2025-07-16 11:36:13.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:36:13.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.2273ms
2025-07-16 11:36:13.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:36:13.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.2872ms
2025-07-16 11:36:13.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0828ms
2025-07-16 11:36:13.006 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:36:13.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:36:13.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.4586ms
2025-07-16 11:36:13.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:36:13.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.238ms
2025-07-16 11:36:42.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:42.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:42.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:36:42.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:42.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:42.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:36:42.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:36:42.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:36:42.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:36:42.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:36:42.986 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:36:42.986 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:36:42.991 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:36:42.998 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:36:43.000 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:36:43.000 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:36:43.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.0167ms
2025-07-16 11:36:43.001 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9528ms
2025-07-16 11:36:43.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:36:43.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:36:43.002 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.7132ms
2025-07-16 11:36:43.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.7526ms
2025-07-16 11:36:43.007 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:36:43.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:36:43.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.4357ms
2025-07-16 11:36:43.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:36:43.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9071ms
2025-07-16 11:37:04.474 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-16 11:37:05.207 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-16 11:37:05.244 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:05.245 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-16 11:37:06.077 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:37:06.149 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:37:06.151 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-16 11:37:06.401 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-16 11:37:06.401 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-16 11:37:06.522 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-16 11:37:06.522 +00:00 [INF] Hosting environment: Development
2025-07-16 11:37:06.522 +00:00 [INF] Content root path: C:\Users\pc\source\repos\papa-kwame\PersonaXFleet
2025-07-16 11:37:07.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-16 11:37:07.511 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 311.0805ms
2025-07-16 11:37:07.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-16 11:37:07.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-16 11:37:07.560 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 14.6222ms
2025-07-16 11:37:07.615 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.3137ms
2025-07-16 11:37:07.695 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-16 11:37:07.766 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.6791ms
2025-07-16 11:37:13.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:37:13.184 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:37:13.227 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:37:13.385 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:37:13.650 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.665 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.669 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.673 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.684 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.690 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.695 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.703 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.707 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.715 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.719 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.722 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.726 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.731 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.734 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.740 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.743 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.748 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.752 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.755 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.757 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.760 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.766 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.769 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.772 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.775 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.779 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.784 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.787 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.791 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.794 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.799 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.803 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.806 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.810 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.816 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.820 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.824 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.827 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.834 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.838 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.841 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.844 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.850 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.853 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.857 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.862 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.866 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.869 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.872 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.875 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.878 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.883 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.886 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.889 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.892 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.898 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.902 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.909 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.916 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.919 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.922 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.925 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.930 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.934 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.938 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.942 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.946 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.949 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.952 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.956 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.960 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.965 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.968 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.972 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.976 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.979 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.983 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.985 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.988 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.991 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:13.994 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.013 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.017 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.020 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.023 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.026 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.032 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:37:14.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:37:14.074 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 840.2635ms
2025-07-16 11:37:14.075 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:37:14.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 935.8188ms
2025-07-16 11:37:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:37:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:37:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:37:53.042 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:37:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:37:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:37:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:37:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:37:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:37:53.064 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:37:53.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:37:53.064 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:37:53.172 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:37:53.173 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:37:53.185 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 120.6976ms
2025-07-16 11:37:53.185 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:37:53.186 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 161.371ms
2025-07-16 11:37:53.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:37:53.220 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:37:53.222 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 157.7043ms
2025-07-16 11:37:53.222 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:37:53.223 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 197.9887ms
2025-07-16 11:37:53.271 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:37:53.272 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:37:53.286 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 221.935ms
2025-07-16 11:37:53.286 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:37:53.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 262.0833ms
2025-07-16 11:38:11.900 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:38:11.900 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 11:38:11.903 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:11.903 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:11.906 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 5.9876ms
2025-07-16 11:38:11.906 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 5.9873ms
2025-07-16 11:38:11.910 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:38:11.910 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:11.918 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:38:11.920 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:38:11.924 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:38:11.928 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 7.7973ms
2025-07-16 11:38:11.928 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:38:11.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 18.4131ms
2025-07-16 11:38:11.935 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 11:38:11.936 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:11.936 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:38:11.936 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:38:11.941 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:38:11.941 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 4.8246ms
2025-07-16 11:38:11.941 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 11:38:11.941 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 6.4432ms
2025-07-16 11:38:12.093 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:38:12.093 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:38:12.093 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:12.093 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:12.094 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:12.094 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:38:12.094 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:38:12.094 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:38:12.108 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:38:12.161 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:38:12.162 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.164 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:38:12.165 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 70.6714ms
2025-07-16 11:38:12.165 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:12.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.0464ms
2025-07-16 11:38:12.170 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:38:12.171 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:12.171 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:12.171 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.171 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:38:12.173 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.175 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:38:12.178 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:38:12.179 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.179 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.9033ms
2025-07-16 11:38:12.184 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:12.185 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.441ms
2025-07-16 11:38:12.191 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.195 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.200 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.202 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.205 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.208 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.211 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.219 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.222 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.226 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.235 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.245 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.251 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.256 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.258 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.262 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.266 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.282 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.293 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.300 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.302 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.306 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.308 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.315 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.317 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.321 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.323 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.324 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.325 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.327 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.329 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.332 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.335 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.337 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.340 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.343 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.347 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.349 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.350 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.352 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.354 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.357 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.358 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.360 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.363 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.366 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.369 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.370 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.371 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.373 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.374 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.375 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.376 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.380 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.381 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:38:12.384 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:38:12.385 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:12.385 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:38:12.385 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:38:12.386 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 291.6165ms
2025-07-16 11:38:12.386 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:38:12.386 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 293.4058ms
2025-07-16 11:38:12.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:38:12.392 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.397 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.399 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.400 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.403 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.405 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.406 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.407 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.409 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.410 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.415 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.416 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.417 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.420 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.422 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.424 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.426 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.428 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.432 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.434 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.436 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.438 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.441 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.447 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.449 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.450 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.453 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.455 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.457 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.459 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.460 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.464 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.466 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.475 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.476 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.480 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.482 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.490 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.498 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.501 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.503 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.512 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.517 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.519 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.539 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.541 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.547 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.549 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:38:12.555 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:38:12.556 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 171.4121ms
2025-07-16 11:38:12.556 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:38:12.557 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 172.4478ms
2025-07-16 11:38:42.101 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:38:42.101 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:38:42.102 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:38:42.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:42.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:42.102 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:42.102 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:38:42.102 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:38:42.102 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:38:42.107 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:38:42.108 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:38:42.108 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:38:42.109 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:38:42.110 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:38:42.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:38:42.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.8379ms
2025-07-16 11:38:42.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:38:42.110 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:38:42.121 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.3123ms
2025-07-16 11:38:42.126 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.5094ms
2025-07-16 11:38:42.126 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:38:42.133 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.1161ms
2025-07-16 11:38:42.144 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:38:42.148 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:38:42.149 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.6788ms
2025-07-16 11:38:42.149 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:38:42.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.5788ms
2025-07-16 11:39:12.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:12.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:12.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:12.090 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:12.090 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:12.090 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:12.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:39:12.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:39:12.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:39:12.090 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:39:12.090 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:39:12.090 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:12.102 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:39:12.103 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:12.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.0838ms
2025-07-16 11:39:12.103 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:39:12.107 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:39:12.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:12.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.049ms
2025-07-16 11:39:12.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:39:12.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1256ms
2025-07-16 11:39:12.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5391ms
2025-07-16 11:39:12.122 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:39:12.123 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:12.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.2633ms
2025-07-16 11:39:12.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:39:12.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.0105ms
2025-07-16 11:39:42.098 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:42.098 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:42.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:42.102 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:42.103 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:42.104 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:39:42.104 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:42.104 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:39:42.108 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:39:42.108 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:39:42.108 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:42.109 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:39:42.142 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:39:42.149 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:39:42.152 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:42.153 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:42.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.5341ms
2025-07-16 11:39:42.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.1134ms
2025-07-16 11:39:42.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:39:42.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:39:42.186 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.5252ms
2025-07-16 11:39:42.186 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.3038ms
2025-07-16 11:39:42.194 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:39:42.194 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:42.202 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 92.7813ms
2025-07-16 11:39:42.202 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:39:42.202 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 103.6129ms
2025-07-16 11:39:45.411 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-16 11:39:45.411 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:39:45.412 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:39:45.412 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.413 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:39:45.413 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.413 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 0.838ms
2025-07-16 11:39:45.413 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:45.413 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 2.0364ms
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.413 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.4197ms
2025-07-16 11:39:45.413 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.2526ms
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.413 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.0774ms
2025-07-16 11:39:45.413 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.414 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.414 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:39:45.414 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.414 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 3.2884ms
2025-07-16 11:39:45.414 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.2749ms
2025-07-16 11:39:45.414 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.649ms
2025-07-16 11:39:45.432 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:45.432 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:39:45.432 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:39:45.432 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-16 11:39:45.433 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.433 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.433 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:39:45.433 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:45.436 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.436 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.437 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.437 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:45.437 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:39:45.437 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.443 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.446 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.466 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:39:45.470 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:39:45.474 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.490 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 44.4484ms
2025-07-16 11:39:45.490 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:45.490 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 58.9309ms
2025-07-16 11:39:45.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:45.496 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:39:45.496 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.496 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:45.496 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.497 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:39:45.501 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.502 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 5.9601ms
2025-07-16 11:39:45.502 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:45.502 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 7.7569ms
2025-07-16 11:39:45.516 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-16 11:39:45.517 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.517 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 79.8407ms
2025-07-16 11:39:45.517 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:39:45.517 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 85.603ms
2025-07-16 11:39:45.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-16 11:39:45.520 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:39:45.520 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-16 11:39:45.525 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.525 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 5.6689ms
2025-07-16 11:39:45.527 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-16 11:39:45.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 9.5181ms
2025-07-16 11:39:45.531 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 88.6285ms
2025-07-16 11:39:45.532 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.532 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 100.3438ms
2025-07-16 11:39:45.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-16 11:39:45.534 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.534 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.534 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:39:45.539 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.539 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 4.8907ms
2025-07-16 11:39:45.539 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.539 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 6.075ms
2025-07-16 11:39:45.602 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.615 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 178.5364ms
2025-07-16 11:39:45.615 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:45.616 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 184.2199ms
2025-07-16 11:39:45.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-16 11:39:45.618 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:45.619 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:39:45.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:39:45.626 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.626 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 7.7847ms
2025-07-16 11:39:45.627 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:45.627 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 9.4819ms
2025-07-16 11:39:45.695 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:39:45.695 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:45.696 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:39:45.696 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:45.696 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.696 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.696 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.696 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.1383ms
2025-07-16 11:39:45.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.0154ms
2025-07-16 11:39:45.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.0094ms
2025-07-16 11:39:45.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.1859ms
2025-07-16 11:39:45.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:45.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:39:45.701 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:39:45.702 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.703 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:39:45.708 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.709 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.744 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-16 11:39:45.744 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-16 11:39:45.744 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-16 11:39:45.744 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-16 11:39:45.744 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.744 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.744 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.744 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:39:45.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:39:45.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:39:45.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.753 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.753 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.754 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.755 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.762 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-16 11:39:45.763 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-16 11:39:45.764 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.766 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 56.6709ms
2025-07-16 11:39:45.766 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:39:45.766 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 66.5791ms
2025-07-16 11:39:45.770 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-16 11:39:45.771 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.771 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:39:45.771 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.777 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-16 11:39:45.778 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.780 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-16 11:39:45.781 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 71.8873ms
2025-07-16 11:39:45.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:39:45.783 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.7114ms
2025-07-16 11:39:45.784 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.785 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:39:45.785 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 14.3173ms
2025-07-16 11:39:45.786 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-16 11:39:45.786 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 15.6347ms
2025-07-16 11:39:45.786 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.786 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:39:45.786 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.795 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-16 11:39:45.804 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-16 11:39:45.805 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.805 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 18.8162ms
2025-07-16 11:39:45.805 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-16 11:39:45.806 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.6784ms
2025-07-16 11:39:45.810 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-16 11:39:45.814 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.826 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-16 11:39:45.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 73.1576ms
2025-07-16 11:39:45.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:39:45.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 83.249ms
2025-07-16 11:39:45.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-16 11:39:45.832 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:39:45.832 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 79.5378ms
2025-07-16 11:39:45.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:39:45.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 89.494ms
2025-07-16 11:39:45.836 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-16 11:39:45.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-16 11:39:45.838 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:39:45.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 6.5388ms
2025-07-16 11:39:45.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-16 11:39:45.839 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 7.9954ms
2025-07-16 11:39:45.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-16 11:39:45.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:45.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 7.5978ms
2025-07-16 11:39:45.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-16 11:39:45.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 10.2727ms
2025-07-16 11:39:45.868 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-16 11:39:45.875 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-16 11:39:45.879 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:45.879 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:45.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 129.4301ms
2025-07-16 11:39:45.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 139.8209ms
2025-07-16 11:39:45.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 129.6279ms
2025-07-16 11:39:45.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:39:45.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 141.1745ms
2025-07-16 11:39:45.886 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-16 11:39:45.887 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.887 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-16 11:39:45.887 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:45.887 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:45.888 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:39:45.888 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:39:45.895 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-16 11:39:45.896 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-16 11:39:45.898 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:45.898 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:39:45.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 10.1813ms
2025-07-16 11:39:45.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 10.4059ms
2025-07-16 11:39:45.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-16 11:39:45.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-16 11:39:45.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 12.3379ms
2025-07-16 11:39:45.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 11.203ms
2025-07-16 11:39:47.788 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 11:39:47.788 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 11:39:47.788 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 11:39:47.789 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 11:39:47.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 2.1792ms
2025-07-16 11:39:47.790 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 2.2509ms
2025-07-16 11:39:47.790 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 1.9093ms
2025-07-16 11:39:47.788 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 11:39:47.790 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.9152ms
2025-07-16 11:39:47.790 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.790 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:47.790 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 2.6069ms
2025-07-16 11:39:47.790 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 11:39:47.791 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.791 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 2.7543ms
2025-07-16 11:39:47.791 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:47.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 11:39:47.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 11:39:47.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:39:47.798 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.798 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.798 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:39:47.798 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:47.798 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:39:47.798 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:47.798 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:47.803 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:39:47.809 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:39:47.809 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:39:47.811 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.819 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:39:47.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 20.1252ms
2025-07-16 11:39:47.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:47.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 23.0662ms
2025-07-16 11:39:47.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 11:39:47.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.821 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:47.827 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:47.828 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 24.4946ms
2025-07-16 11:39:47.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:47.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 31.2295ms
2025-07-16 11:39:47.833 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:39:47.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 11:39:47.836 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 45.3311ms
2025-07-16 11:39:47.836 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:47.836 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:47.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 47.41ms
2025-07-16 11:39:47.837 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:39:47.841 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 11:39:47.843 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:47.843 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 11:39:47.844 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:47.845 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:39:47.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.846 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 18.6103ms
2025-07-16 11:39:47.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 11:39:47.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 26.3581ms
2025-07-16 11:39:47.851 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.861 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 11:39:47.861 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 26.3289ms
2025-07-16 11:39:47.864 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 11:39:47.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 30.4677ms
2025-07-16 11:39:47.870 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.871 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 11:39:47.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:47.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 32.0339ms
2025-07-16 11:39:47.877 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 11:39:47.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 36.3249ms
2025-07-16 11:39:47.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.880 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.882 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.886 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.890 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.892 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.894 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.898 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.901 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.903 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.909 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.916 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.917 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.919 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.924 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.927 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.933 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.936 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.937 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.942 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.943 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.946 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.950 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.951 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.953 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.957 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.960 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.963 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.964 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.966 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.967 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.968 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.970 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.971 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.973 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.975 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.977 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.979 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.980 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.981 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.982 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.983 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.984 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.986 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.987 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.988 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.991 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.993 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.994 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.997 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:47.999 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.000 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.001 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.004 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:48.008 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 209.6324ms
2025-07-16 11:39:48.008 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:39:48.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 210.6826ms
2025-07-16 11:39:48.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 11:39:48.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:39:48.011 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:39:48.011 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 11:39:48.012 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 11:39:48.016 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.019 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.021 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.025 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.031 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.033 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.036 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.039 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.042 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.043 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.047 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.051 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.052 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.057 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.059 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.066 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.067 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.069 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.077 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.078 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.080 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.084 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.092 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.101 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.105 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.107 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.109 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.114 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.115 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.118 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.123 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.125 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.128 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.131 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.134 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.139 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.143 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.145 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.149 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.151 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.158 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.162 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.164 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 11:39:48.165 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:39:48.168 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 156.9814ms
2025-07-16 11:39:48.168 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 11:39:48.168 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 158.3252ms
2025-07-16 11:40:06.247 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-16 11:40:06.248 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:06.248 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 1.9831ms
2025-07-16 11:40:06.256 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-16 11:40:06.258 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:06.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-16 11:40:06.262 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 11:40:06.285 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-16 11:40:06.286 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-16 11:40:06.287 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 24.1527ms
2025-07-16 11:40:06.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-16 11:40:06.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 31.2304ms
2025-07-16 11:40:09.585 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AssignmentHistory/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-16 11:40:09.586 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:09.586 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AssignmentHistory/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 1.6423ms
2025-07-16 11:40:09.594 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AssignmentHistory/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-16 11:40:09.595 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:09.595 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAssignmentHistory (PersonaXFleet)'
2025-07-16 11:40:09.604 +00:00 [INF] Route matched with {action = "GetAssignmentHistory", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentHistory(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 11:40:09.687 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__vehicleId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[AssignmentDate], [v].[UnassignmentDate], CASE
    WHEN [v].[UnassignmentDate] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [VehicleAssignmentHistories] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[VehicleId] = @__vehicleId_0
ORDER BY [v].[AssignmentDate] DESC
2025-07-16 11:40:09.689 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType54`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:40:09.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAssignmentHistory (PersonaXFleet) in 90.5682ms
2025-07-16 11:40:09.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAssignmentHistory (PersonaXFleet)'
2025-07-16 11:40:09.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AssignmentHistory/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 102.4884ms
2025-07-16 11:40:12.105 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:12.105 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:12.105 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:12.107 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:12.107 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:40:12.107 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:12.108 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:40:12.108 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:40:12.108 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:40:12.108 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:12.108 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:40:12.108 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:40:12.115 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:40:12.120 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:40:12.121 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:40:12.122 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:40:12.122 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.7889ms
2025-07-16 11:40:12.123 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:40:12.123 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.1565ms
2025-07-16 11:40:12.123 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:40:12.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2632ms
2025-07-16 11:40:12.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1435ms
2025-07-16 11:40:12.137 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:40:12.140 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:40:12.140 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.449ms
2025-07-16 11:40:12.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:40:12.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6731ms
2025-07-16 11:40:42.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:42.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:42.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:40:42.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:40:42.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:42.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:40:42.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:42.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:40:42.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:40:42.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:40:42.989 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:40:42.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:40:42.994 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:40:43.001 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:40:43.003 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.6757ms
2025-07-16 11:40:43.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:40:43.006 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:40:43.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0031ms
2025-07-16 11:40:43.033 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:40:43.047 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:40:43.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:40:43.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.3908ms
2025-07-16 11:40:43.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.7179ms
2025-07-16 11:40:43.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:40:43.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:40:43.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.1762ms
2025-07-16 11:40:43.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.0106ms
2025-07-16 11:41:12.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:12.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:12.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:12.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:12.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:12.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:41:12.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:12.991 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:41:12.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:41:12.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:41:12.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:41:12.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:41:13.034 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:41:13.038 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:41:13.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:41:13.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.6376ms
2025-07-16 11:41:13.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:41:13.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:41:13.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.5662ms
2025-07-16 11:41:13.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:41:13.057 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:41:13.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.6815ms
2025-07-16 11:41:13.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.1314ms
2025-07-16 11:41:13.085 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:41:13.087 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 95.3887ms
2025-07-16 11:41:13.087 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:41:13.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 99.8797ms
2025-07-16 11:41:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:41:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:52.991 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:41:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:41:52.991 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:41:52.997 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:41:53.003 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:41:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.1053ms
2025-07-16 11:41:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:41:53.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0657ms
2025-07-16 11:41:53.019 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:41:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:41:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.5267ms
2025-07-16 11:41:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:41:53.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.3345ms
2025-07-16 11:41:53.046 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:41:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:41:53.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:41:53.048 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:41:53.055 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:41:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:41:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 8.97ms
2025-07-16 11:41:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:41:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.4365ms
2025-07-16 11:42:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:42:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:42:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:42:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:42:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:42:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:42:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:42:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:42:53.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:42:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:42:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:42:53.010 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:42:53.015 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:42:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:42:53.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.5863ms
2025-07-16 11:42:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:42:53.021 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:42:53.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.0883ms
2025-07-16 11:42:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:42:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.876ms
2025-07-16 11:42:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:42:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.1651ms
2025-07-16 11:42:53.040 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:42:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:42:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.243ms
2025-07-16 11:42:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:42:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.6939ms
2025-07-16 11:43:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:43:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:43:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:43:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:43:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:43:52.991 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:43:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:43:52.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:43:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:43:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:43:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:43:52.998 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:43:53.019 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:43:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:43:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.3101ms
2025-07-16 11:43:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:43:53.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3198ms
2025-07-16 11:43:53.029 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:43:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:43:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.3544ms
2025-07-16 11:43:53.041 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:43:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:43:53.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.5355ms
2025-07-16 11:43:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:43:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.1508ms
2025-07-16 11:43:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:43:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.436ms
2025-07-16 11:44:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:44:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:44:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:44:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:44:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:44:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:44:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:44:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:44:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:44:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:44:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:44:53.011 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:44:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:44:53.019 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:44:53.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:44:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.1565ms
2025-07-16 11:44:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:44:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:44:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.0419ms
2025-07-16 11:44:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:44:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.4534ms
2025-07-16 11:44:53.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.5461ms
2025-07-16 11:44:53.050 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:44:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:44:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.4232ms
2025-07-16 11:44:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:44:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.1485ms
2025-07-16 11:45:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:45:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:45:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:45:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:45:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:45:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:45:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:45:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:45:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:45:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:45:53.001 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:45:53.001 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:45:53.025 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:45:53.028 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:45:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:45:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.9756ms
2025-07-16 11:45:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:45:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:45:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.4871ms
2025-07-16 11:45:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:45:53.044 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:45:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.9629ms
2025-07-16 11:45:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.5963ms
2025-07-16 11:45:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:45:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.1702ms
2025-07-16 11:45:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:45:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.5036ms
2025-07-16 11:46:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:46:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:46:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:46:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:46:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:46:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:46:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:46:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:46:53.029 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:46:53.029 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:46:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:46:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.0659ms
2025-07-16 11:46:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:46:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.8689ms
2025-07-16 11:46:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:46:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:46:53.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:46:53.044 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:46:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:46:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 64.808ms
2025-07-16 11:46:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:46:53.079 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:46:53.089 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.283ms
2025-07-16 11:46:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:46:53.091 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.7124ms
2025-07-16 11:46:53.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:46:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.3789ms
2025-07-16 11:47:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:47:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:47:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:47:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:47:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:47:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:47:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:47:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:47:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:47:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:47:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:47:52.994 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:47:53.022 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:47:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:47:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.6616ms
2025-07-16 11:47:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:47:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.241ms
2025-07-16 11:47:53.034 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:47:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:47:53.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.7889ms
2025-07-16 11:47:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:47:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.0153ms
2025-07-16 11:47:53.081 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:47:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:47:53.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 95.3795ms
2025-07-16 11:47:53.089 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:47:53.096 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 105.8692ms
2025-07-16 11:48:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:48:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:48:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:48:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:48:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:48:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:48:53.049 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:48:53.049 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:48:53.062 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:48:53.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:48:53.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:48:53.064 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:48:53.064 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:48:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:48:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 57.631ms
2025-07-16 11:48:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:48:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.8325ms
2025-07-16 11:48:53.072 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:48:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:48:53.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.8297ms
2025-07-16 11:48:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:48:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.933ms
2025-07-16 11:48:53.089 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:48:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:48:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.8069ms
2025-07-16 11:48:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:48:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.234ms
2025-07-16 11:49:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:49:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:49:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:49:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:49:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:49:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:49:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:49:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:49:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:49:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:49:53.043 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:49:53.043 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:49:53.043 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:49:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:49:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.2557ms
2025-07-16 11:49:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:49:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.0621ms
2025-07-16 11:49:53.054 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:49:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:49:53.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 69.5811ms
2025-07-16 11:49:53.096 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:49:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.0183ms
2025-07-16 11:49:53.128 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:49:53.130 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:49:53.131 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.0093ms
2025-07-16 11:49:53.131 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:49:53.131 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.2535ms
2025-07-16 11:50:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:50:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:50:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:50:53.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:50:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:50:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:50:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:50:53.020 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:50:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:50:53.033 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:50:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:50:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:50:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:50:53.035 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:50:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.6442ms
2025-07-16 11:50:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:50:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.0394ms
2025-07-16 11:50:53.046 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:50:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:50:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.1397ms
2025-07-16 11:50:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:50:53.089 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:50:53.101 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.1835ms
2025-07-16 11:50:53.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:50:53.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 68.0645ms
2025-07-16 11:50:53.104 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:50:53.104 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.6266ms
2025-07-16 11:51:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:51:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:51:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:51:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:51:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:51:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:51:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:51:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:51:53.014 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:51:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:51:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.9407ms
2025-07-16 11:51:53.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:51:53.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9611ms
2025-07-16 11:51:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:51:53.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:51:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:51:53.018 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:51:53.026 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:51:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:51:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.9854ms
2025-07-16 11:51:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:51:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.9891ms
2025-07-16 11:51:53.041 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:51:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:51:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.1599ms
2025-07-16 11:51:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:51:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5011ms
2025-07-16 11:52:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:52:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:52:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:52:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:52:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:52:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:52:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:52:53.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:52:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:52:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:52:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:52:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:52:53.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:52:53.027 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:52:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:52:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:52:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.8555ms
2025-07-16 11:52:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.3256ms
2025-07-16 11:52:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:52:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:52:53.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.1065ms
2025-07-16 11:52:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.584ms
2025-07-16 11:52:53.049 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:52:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:52:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.8778ms
2025-07-16 11:52:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:52:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.163ms
2025-07-16 11:53:12.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:12.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:12.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:12.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:12.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:12.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:53:12.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:12.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:53:12.981 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:53:12.981 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:53:12.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:53:12.982 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:53:12.989 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:53:12.989 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:53:12.990 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:53:12.990 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:53:12.991 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.8627ms
2025-07-16 11:53:12.991 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:53:12.991 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.6131ms
2025-07-16 11:53:12.992 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:53:12.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.033ms
2025-07-16 11:53:12.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.1666ms
2025-07-16 11:53:12.997 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:53:12.997 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:53:12.997 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.5033ms
2025-07-16 11:53:12.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:53:13.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0229ms
2025-07-16 11:53:42.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:42.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:42.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:42.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:42.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:53:42.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:53:42.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:53:42.980 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:53:42.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:53:42.996 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:53:42.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:53:42.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:53:42.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1833ms
2025-07-16 11:53:42.996 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.2388ms
2025-07-16 11:53:42.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:53:42.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:53:42.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.1702ms
2025-07-16 11:53:43.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:53:43.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:53:43.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0508ms
2025-07-16 11:53:43.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:53:43.004 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:53:43.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:53:43.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:53:43.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.8287ms
2025-07-16 11:53:43.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:53:43.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.5151ms
2025-07-16 11:54:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:54:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:54:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:54:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:54:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:54:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:54:52.995 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:54:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:54:53.031 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:54:53.031 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:54:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:54:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:54:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.3928ms
2025-07-16 11:54:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:54:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.4359ms
2025-07-16 11:54:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:54:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.2238ms
2025-07-16 11:54:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:54:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:54:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.5921ms
2025-07-16 11:54:53.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:54:53.052 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:54:53.087 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:54:53.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:54:53.102 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.152ms
2025-07-16 11:54:53.102 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:54:53.102 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.9862ms
2025-07-16 11:55:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:55:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:55:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:55:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:55:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:55:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:55:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:55:52.990 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:55:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:55:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:55:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:55:52.992 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:55:53.019 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:55:53.024 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:55:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:55:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.1031ms
2025-07-16 11:55:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:55:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:55:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.7125ms
2025-07-16 11:55:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:55:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.2401ms
2025-07-16 11:55:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.5984ms
2025-07-16 11:55:53.046 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:55:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:55:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.6913ms
2025-07-16 11:55:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:55:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.9239ms
2025-07-16 11:56:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:56:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:56:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:56:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:56:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:56:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:56:52.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:56:52.981 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:56:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:56:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:56:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:56:52.982 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:56:52.994 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:56:52.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:56:52.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.584ms
2025-07-16 11:56:52.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:56:52.998 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:56:52.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4656ms
2025-07-16 11:56:53.000 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:56:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.5698ms
2025-07-16 11:56:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:56:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.6761ms
2025-07-16 11:56:53.013 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:56:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:56:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.0011ms
2025-07-16 11:56:53.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:56:53.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4026ms
2025-07-16 11:57:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:57:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:57:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:57:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:57:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:57:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:57:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:57:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:57:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:57:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:57:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:57:52.992 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:57:53.008 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:57:53.008 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:57:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:57:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.1011ms
2025-07-16 11:57:53.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:57:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:57:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1474ms
2025-07-16 11:57:53.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:57:53.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5973ms
2025-07-16 11:57:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.4194ms
2025-07-16 11:57:53.027 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:57:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:57:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.1783ms
2025-07-16 11:57:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:57:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.4093ms
2025-07-16 11:58:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:58:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:58:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:58:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:58:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:58:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:58:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:58:53.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:58:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:58:53.016 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:58:53.016 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:58:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:58:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.0617ms
2025-07-16 11:58:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:58:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:58:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6845ms
2025-07-16 11:58:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:58:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3653ms
2025-07-16 11:58:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8066ms
2025-07-16 11:58:53.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:58:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:58:53.018 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:58:53.043 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:58:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:58:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.679ms
2025-07-16 11:58:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:58:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.5017ms
2025-07-16 11:59:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:59:52.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:59:52.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:59:52.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:59:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:59:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:59:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:59:52.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 11:59:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 11:59:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 11:59:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:59:52.984 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 11:59:52.988 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 11:59:52.995 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:59:52.995 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.376ms
2025-07-16 11:59:52.995 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 11:59:52.995 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2975ms
2025-07-16 11:59:53.004 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 11:59:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 11:59:53.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3066ms
2025-07-16 11:59:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 11:59:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.4056ms
2025-07-16 11:59:53.024 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 11:59:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 11:59:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.3588ms
2025-07-16 11:59:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 11:59:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.2705ms
2025-07-16 12:00:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:00:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:00:52.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:00:52.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:00:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:00:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:00:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:00:52.988 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:00:53.011 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:00:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:00:53.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:00:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:00:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.8037ms
2025-07-16 12:00:53.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:00:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:00:53.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:00:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.0105ms
2025-07-16 12:00:53.026 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:00:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:00:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.9152ms
2025-07-16 12:00:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:00:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.5738ms
2025-07-16 12:00:53.056 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:00:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:00:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.0789ms
2025-07-16 12:00:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:00:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.69ms
2025-07-16 12:01:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:01:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:01:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:01:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:01:53.008 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:01:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:01:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:01:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:01:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:01:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:01:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:01:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:01:53.013 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:01:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:01:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.6089ms
2025-07-16 12:01:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:01:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3745ms
2025-07-16 12:01:53.045 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:01:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:01:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.9621ms
2025-07-16 12:01:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:01:53.054 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:01:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.4577ms
2025-07-16 12:01:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:01:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.8568ms
2025-07-16 12:01:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:01:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.3096ms
2025-07-16 12:02:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:02:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:02:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:02:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:02:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:02:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:02:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:02:52.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:02:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:02:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:02:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:02:52.999 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:02:53.019 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:02:53.019 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:02:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:02:53.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.2803ms
2025-07-16 12:02:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:02:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:02:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.1598ms
2025-07-16 12:02:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:02:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.0672ms
2025-07-16 12:02:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.497ms
2025-07-16 12:02:53.044 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:02:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:02:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.0287ms
2025-07-16 12:02:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:02:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.8682ms
2025-07-16 12:03:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:03:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:03:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:03:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:03:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:03:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:03:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:03:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:03:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:03:53.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:03:53.003 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:03:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:03:53.029 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:03:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:03:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.9699ms
2025-07-16 12:03:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:03:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.2112ms
2025-07-16 12:03:53.043 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:03:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:03:53.047 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:03:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.7073ms
2025-07-16 12:03:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:03:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:03:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.6601ms
2025-07-16 12:03:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:03:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.2555ms
2025-07-16 12:03:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.0171ms
2025-07-16 12:04:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:04:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:04:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:04:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:04:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:04:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:04:53.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:04:53.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:04:53.076 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:04:53.078 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:04:53.090 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:04:53.091 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:04:53.091 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:04:53.091 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:04:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:04:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:04:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 82.4906ms
2025-07-16 12:04:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 82.633ms
2025-07-16 12:04:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:04:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.0404ms
2025-07-16 12:04:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:04:53.099 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.7715ms
2025-07-16 12:04:53.121 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:04:53.123 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:04:53.123 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.1441ms
2025-07-16 12:04:53.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:04:53.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3845ms
2025-07-16 12:05:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:05:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:05:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:05:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:05:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:05:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:05:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:05:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:05:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:05:52.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:05:52.994 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:05:52.994 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:05:53.020 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:05:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:05:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8058ms
2025-07-16 12:05:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:05:53.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.708ms
2025-07-16 12:05:53.026 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:05:53.026 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:05:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:05:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:05:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.6272ms
2025-07-16 12:05:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7092ms
2025-07-16 12:05:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:05:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:05:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.4642ms
2025-07-16 12:05:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.1386ms
2025-07-16 12:06:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:06:53.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:06:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:06:53.036 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:06:53.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:06:53.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:06:53.073 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:06:53.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:06:53.074 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:06:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:06:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.849ms
2025-07-16 12:06:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:06:53.075 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:06:53.076 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:06:53.076 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:06:53.076 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:06:53.091 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:06:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:06:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.0117ms
2025-07-16 12:06:53.093 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.4772ms
2025-07-16 12:06:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:06:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5754ms
2025-07-16 12:06:53.107 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:06:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:06:53.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.9933ms
2025-07-16 12:06:53.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:06:53.107 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.338ms
2025-07-16 12:07:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:07:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:07:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:07:53.001 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:07:53.067 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:07:53.068 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:07:53.068 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:07:53.068 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:07:53.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:07:53.070 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:07:53.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:07:53.071 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:07:53.083 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:07:53.083 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:07:53.085 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:07:53.085 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:07:53.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 83.4617ms
2025-07-16 12:07:53.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.0931ms
2025-07-16 12:07:53.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:07:53.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:07:53.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 89.9779ms
2025-07-16 12:07:53.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.9218ms
2025-07-16 12:07:53.094 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:07:53.095 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:07:53.096 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.7333ms
2025-07-16 12:07:53.097 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:07:53.097 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.9784ms
2025-07-16 12:08:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:08:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:08:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:08:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:08:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:08:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:08:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:08:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:08:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:08:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:08:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:08:53.006 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:08:53.021 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:08:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:08:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.8252ms
2025-07-16 12:08:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:08:53.025 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:08:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:08:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.0709ms
2025-07-16 12:08:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:08:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3321ms
2025-07-16 12:08:53.032 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:08:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3623ms
2025-07-16 12:08:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:08:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.935ms
2025-07-16 12:08:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:08:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.8301ms
2025-07-16 12:09:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:09:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:09:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:09:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:09:52.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:09:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:09:52.982 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:09:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:09:53.005 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:09:53.005 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:09:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:09:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:09:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.9281ms
2025-07-16 12:09:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.808ms
2025-07-16 12:09:53.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:09:53.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:09:53.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.2694ms
2025-07-16 12:09:53.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.9449ms
2025-07-16 12:09:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:09:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:09:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:09:53.008 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:09:53.024 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:09:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:09:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.3589ms
2025-07-16 12:09:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:09:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.4088ms
2025-07-16 12:10:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:10:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:10:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:10:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:10:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:10:52.984 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:10:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:10:52.984 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:10:53.032 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:10:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:10:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.274ms
2025-07-16 12:10:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:10:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.5071ms
2025-07-16 12:10:53.036 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:10:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:10:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.6974ms
2025-07-16 12:10:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:10:53.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.1431ms
2025-07-16 12:10:53.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:10:53.052 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:10:53.053 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:10:53.053 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:10:53.083 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:10:53.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:10:53.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.9057ms
2025-07-16 12:10:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:10:53.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8767ms
2025-07-16 12:11:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:11:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:11:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:11:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:11:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:11:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:11:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:11:52.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:11:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:11:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:11:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:11:53.002 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:11:53.003 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:11:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:11:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.0464ms
2025-07-16 12:11:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:11:53.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.3375ms
2025-07-16 12:11:53.013 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:11:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:11:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.795ms
2025-07-16 12:11:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:11:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3029ms
2025-07-16 12:11:53.036 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:11:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:11:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.6455ms
2025-07-16 12:11:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:11:53.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.9686ms
2025-07-16 12:12:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:12:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:12:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:12:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:12:53.020 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:12:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:12:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:12:53.022 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:12:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:12:53.047 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:12:53.047 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:12:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:12:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:12:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.7904ms
2025-07-16 12:12:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:12:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.9693ms
2025-07-16 12:12:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:12:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.208ms
2025-07-16 12:12:53.047 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:12:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1009ms
2025-07-16 12:12:53.047 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:12:53.048 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:12:53.062 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:12:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:12:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.86ms
2025-07-16 12:12:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:12:53.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.8632ms
2025-07-16 12:13:52.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:13:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:13:52.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:13:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:13:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:13:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:13:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:13:53.001 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:13:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:13:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:13:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:13:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:13:53.028 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:13:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:13:53.032 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:13:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4864ms
2025-07-16 12:13:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:13:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:13:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.3225ms
2025-07-16 12:13:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:13:53.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.6068ms
2025-07-16 12:13:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3037ms
2025-07-16 12:13:53.055 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:13:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:13:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.642ms
2025-07-16 12:13:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:13:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.6162ms
2025-07-16 12:14:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:14:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:14:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:14:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:14:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:14:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:14:52.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:14:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:14:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:14:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:14:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:14:52.999 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:14:53.001 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:14:53.001 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:14:53.001 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:14:53.001 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:14:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.8647ms
2025-07-16 12:14:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.9127ms
2025-07-16 12:14:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:14:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:14:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5229ms
2025-07-16 12:14:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.4552ms
2025-07-16 12:14:53.019 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:14:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:14:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.0112ms
2025-07-16 12:14:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:14:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4019ms
2025-07-16 12:15:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:15:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:15:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:15:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:15:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:15:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:15:53.051 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:15:53.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:15:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:15:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:15:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:15:53.052 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:15:53.087 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:15:53.087 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:15:53.088 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:15:53.098 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:15:53.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.8451ms
2025-07-16 12:15:53.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:15:53.099 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.5665ms
2025-07-16 12:15:53.104 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.7777ms
2025-07-16 12:15:53.120 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:15:53.134 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.0163ms
2025-07-16 12:15:53.138 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:15:53.139 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:15:53.139 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.847ms
2025-07-16 12:15:53.139 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:15:53.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.0682ms
2025-07-16 12:16:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:16:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:16:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:16:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:16:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:16:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:16:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:16:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:16:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:16:53.005 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:16:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:16:53.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:16:53.044 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:16:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:16:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.801ms
2025-07-16 12:16:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:16:53.055 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:16:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.8153ms
2025-07-16 12:16:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:16:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.9114ms
2025-07-16 12:16:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:16:53.062 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:16:53.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.0905ms
2025-07-16 12:16:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:16:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 63.9842ms
2025-07-16 12:16:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:16:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.2759ms
2025-07-16 12:17:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:17:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:17:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:17:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:17:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:17:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:17:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:17:53.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:17:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:17:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:17:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:17:53.020 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:17:53.043 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:17:53.043 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:17:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:17:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:17:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.0545ms
2025-07-16 12:17:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 61.5189ms
2025-07-16 12:17:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:17:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:17:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.5683ms
2025-07-16 12:17:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.9486ms
2025-07-16 12:17:53.066 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:17:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:17:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.4287ms
2025-07-16 12:17:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:17:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.6199ms
2025-07-16 12:18:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:18:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:18:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:18:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:18:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:18:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:18:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:18:53.017 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:18:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:18:53.022 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:18:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:18:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:18:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:18:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.6227ms
2025-07-16 12:18:53.023 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:18:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:18:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.0134ms
2025-07-16 12:18:53.051 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:18:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:18:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1407ms
2025-07-16 12:18:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:18:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.1791ms
2025-07-16 12:18:53.076 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:18:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:18:53.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.2233ms
2025-07-16 12:18:53.081 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:18:53.081 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.0552ms
2025-07-16 12:19:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:19:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:19:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:19:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:19:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:19:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:19:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:19:52.990 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:19:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:19:53.010 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:19:53.014 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:19:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:19:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:19:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:19:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:19:53.014 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:19:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8751ms
2025-07-16 12:19:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.9944ms
2025-07-16 12:19:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:19:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:19:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3544ms
2025-07-16 12:19:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4977ms
2025-07-16 12:19:53.072 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:19:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:19:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.9525ms
2025-07-16 12:19:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:19:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.7722ms
2025-07-16 12:20:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:20:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:20:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:20:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:20:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:20:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:20:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:20:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:20:53.013 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:20:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:20:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.9924ms
2025-07-16 12:20:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:20:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.9098ms
2025-07-16 12:20:53.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:20:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:20:53.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:20:53.044 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:20:53.049 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:20:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:20:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.29ms
2025-07-16 12:20:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:20:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.2172ms
2025-07-16 12:20:53.072 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:20:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:20:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.9858ms
2025-07-16 12:20:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:20:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.2704ms
2025-07-16 12:21:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:21:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:21:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:21:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:21:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:21:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:21:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:21:53.029 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:21:53.047 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:21:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:21:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:21:53.051 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:21:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:21:53.051 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:21:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:21:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.2963ms
2025-07-16 12:21:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:21:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6193ms
2025-07-16 12:21:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:21:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.7454ms
2025-07-16 12:21:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:21:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.72ms
2025-07-16 12:21:53.075 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:21:53.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:21:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.2086ms
2025-07-16 12:21:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:21:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0663ms
2025-07-16 12:22:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:22:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:22:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:22:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:22:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:22:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:22:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:22:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:22:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:22:53.017 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:22:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:22:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.416ms
2025-07-16 12:22:53.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:22:53.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.6991ms
2025-07-16 12:22:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:22:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:22:53.020 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:22:53.063 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:22:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:22:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.7305ms
2025-07-16 12:22:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:22:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.9301ms
2025-07-16 12:22:53.088 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:22:53.088 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:22:53.088 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 68.2575ms
2025-07-16 12:22:53.088 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:22:53.089 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.7552ms
2025-07-16 12:23:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:23:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:23:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:23:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:23:52.996 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:23:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:23:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:23:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:23:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:23:52.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:23:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:23:52.998 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:23:53.019 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:23:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:23:53.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.6212ms
2025-07-16 12:23:53.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:23:53.022 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:23:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.9601ms
2025-07-16 12:23:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:23:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.6597ms
2025-07-16 12:23:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:23:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.5831ms
2025-07-16 12:23:53.055 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:23:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:23:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.786ms
2025-07-16 12:23:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:23:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.7165ms
2025-07-16 12:24:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:24:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:24:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:24:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:24:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:24:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:24:52.991 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:24:52.991 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:24:53.013 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:24:53.019 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:24:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:24:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:24:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.46ms
2025-07-16 12:24:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:24:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:24:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.3481ms
2025-07-16 12:24:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:24:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9431ms
2025-07-16 12:24:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.768ms
2025-07-16 12:24:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:24:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:24:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:24:53.047 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:24:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:24:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.8507ms
2025-07-16 12:24:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:24:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.8606ms
2025-07-16 12:25:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:25:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:25:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:25:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:25:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:25:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:25:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:25:52.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:25:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:25:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:25:53.012 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:25:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:25:53.012 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:25:53.017 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:25:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:25:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.9705ms
2025-07-16 12:25:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:25:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:25:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.3976ms
2025-07-16 12:25:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.5114ms
2025-07-16 12:25:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:25:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.2177ms
2025-07-16 12:25:53.042 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:25:53.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:25:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.2746ms
2025-07-16 12:25:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:25:53.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1906ms
2025-07-16 12:26:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:26:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:26:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:26:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:26:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:26:53.000 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:26:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:26:53.002 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:26:53.018 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:26:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:26:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.4384ms
2025-07-16 12:26:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:26:53.032 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:26:53.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.6256ms
2025-07-16 12:26:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:26:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:26:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.8103ms
2025-07-16 12:26:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:26:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:26:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:26:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.9158ms
2025-07-16 12:26:53.035 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:26:53.051 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:26:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:26:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6804ms
2025-07-16 12:26:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:26:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.9414ms
2025-07-16 12:27:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:27:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:27:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:27:53.001 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:27:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:27:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:27:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:27:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:27:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:27:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:27:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:27:53.014 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:27:53.036 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:27:53.039 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:27:53.053 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:27:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:27:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.758ms
2025-07-16 12:27:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:27:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:27:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:27:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.1873ms
2025-07-16 12:27:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.0492ms
2025-07-16 12:27:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:27:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.4762ms
2025-07-16 12:27:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:27:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.4786ms
2025-07-16 12:27:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.9531ms
2025-07-16 12:28:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:28:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:28:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:28:53.001 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:28:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:28:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:28:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:28:53.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:28:53.039 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:28:53.040 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:28:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:28:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:28:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.7151ms
2025-07-16 12:28:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:28:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.8945ms
2025-07-16 12:28:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:28:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.003ms
2025-07-16 12:28:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3355ms
2025-07-16 12:28:53.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:28:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:28:53.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:28:53.052 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:28:53.064 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:28:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:28:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.9482ms
2025-07-16 12:28:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:28:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0163ms
2025-07-16 12:29:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:29:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:29:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:29:53.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:29:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:29:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:29:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:29:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:29:53.076 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:29:53.077 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:29:53.077 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:29:53.083 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:29:53.091 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:29:53.091 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:29:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:29:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:29:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 73.0706ms
2025-07-16 12:29:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:29:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 88.2749ms
2025-07-16 12:29:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:29:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.1133ms
2025-07-16 12:29:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.9179ms
2025-07-16 12:29:53.117 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:29:53.117 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:29:53.117 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.98ms
2025-07-16 12:29:53.117 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:29:53.117 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.8094ms
2025-07-16 12:30:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:30:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:30:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:30:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:30:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:30:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:30:52.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:30:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:30:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:30:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:30:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:30:52.985 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:30:53.003 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:30:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:30:53.004 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:30:53.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.9769ms
2025-07-16 12:30:53.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:30:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:30:53.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1822ms
2025-07-16 12:30:53.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8549ms
2025-07-16 12:30:53.007 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:30:53.007 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7313ms
2025-07-16 12:30:53.018 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:30:53.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:30:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.3599ms
2025-07-16 12:30:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:30:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.5709ms
2025-07-16 12:31:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:31:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:31:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:31:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:31:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:31:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:31:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:31:53.017 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:31:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:31:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:31:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:31:53.020 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:31:53.037 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:31:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:31:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.2165ms
2025-07-16 12:31:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:31:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.3445ms
2025-07-16 12:31:53.042 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:31:53.045 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:31:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:31:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:31:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6343ms
2025-07-16 12:31:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.6823ms
2025-07-16 12:31:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:31:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:31:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.513ms
2025-07-16 12:31:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.867ms
2025-07-16 12:32:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:32:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:32:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:32:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:32:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:32:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:32:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:32:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:32:52.993 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:32:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:32:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:32:52.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:32:53.014 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:32:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:32:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.9407ms
2025-07-16 12:32:53.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:32:53.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.0175ms
2025-07-16 12:32:53.018 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:32:53.022 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:32:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:32:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.0061ms
2025-07-16 12:32:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:32:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.17ms
2025-07-16 12:32:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:32:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.4508ms
2025-07-16 12:32:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:32:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3121ms
2025-07-16 12:33:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:33:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:33:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:33:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:33:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:33:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:33:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:33:53.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:33:53.055 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:33:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:33:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.2688ms
2025-07-16 12:33:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:33:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.2077ms
2025-07-16 12:33:53.056 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:33:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:33:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.9184ms
2025-07-16 12:33:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:33:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.7835ms
2025-07-16 12:33:53.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:33:53.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:33:53.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:33:53.073 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:33:53.090 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:33:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:33:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.0809ms
2025-07-16 12:33:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:33:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.6871ms
2025-07-16 12:34:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:34:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:34:52.982 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:34:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:34:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:34:52.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:34:52.984 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:34:52.984 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:34:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:34:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:34:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:34:53.006 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:34:53.023 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:34:53.023 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:34:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:34:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.9094ms
2025-07-16 12:34:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:34:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:34:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.931ms
2025-07-16 12:34:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.3285ms
2025-07-16 12:34:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:34:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.5172ms
2025-07-16 12:34:53.044 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:34:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:34:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.8013ms
2025-07-16 12:34:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:34:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.1796ms
2025-07-16 12:35:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:35:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:35:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:35:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:35:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:35:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:35:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:35:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:35:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:35:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:35:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:35:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:35:53.017 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:35:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:35:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.8558ms
2025-07-16 12:35:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:35:53.026 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:35:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3553ms
2025-07-16 12:35:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:35:53.028 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:35:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.1553ms
2025-07-16 12:35:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:35:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:35:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.6729ms
2025-07-16 12:35:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.7742ms
2025-07-16 12:35:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:35:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7365ms
2025-07-16 12:36:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:36:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:36:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:36:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:36:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:36:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:36:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:36:53.003 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:36:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:36:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:36:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:36:53.020 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:36:53.038 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:36:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:36:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.492ms
2025-07-16 12:36:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:36:53.054 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:36:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.8125ms
2025-07-16 12:36:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:36:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.0064ms
2025-07-16 12:36:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:36:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.3139ms
2025-07-16 12:36:53.061 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:36:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:36:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.8612ms
2025-07-16 12:36:53.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:36:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.6035ms
2025-07-16 12:37:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:37:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:37:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:37:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:37:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:37:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:37:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:37:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:37:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:37:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:37:53.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:37:53.038 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:37:53.050 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:37:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:37:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.7194ms
2025-07-16 12:37:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:37:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.0369ms
2025-07-16 12:37:53.061 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:37:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:37:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.7838ms
2025-07-16 12:37:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:37:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.5516ms
2025-07-16 12:37:53.129 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:37:53.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:37:53.151 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 105.4677ms
2025-07-16 12:37:53.151 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:37:53.151 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 116.2401ms
2025-07-16 12:38:53.045 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:38:53.053 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:38:53.067 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:38:53.067 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:38:53.083 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:38:53.083 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:38:53.083 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:38:53.083 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:38:53.089 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:38:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:38:53.091 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.3325ms
2025-07-16 12:38:53.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:38:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.0865ms
2025-07-16 12:38:53.099 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:38:53.100 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:38:53.101 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:38:53.101 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:38:53.165 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:38:53.180 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:38:53.180 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 96.9265ms
2025-07-16 12:38:53.180 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:38:53.184 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 101.068ms
2025-07-16 12:38:53.213 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:38:53.234 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:38:53.234 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 132.7686ms
2025-07-16 12:38:53.234 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:38:53.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 142.1892ms
2025-07-16 12:39:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:39:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:39:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:39:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:39:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:39:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:39:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:39:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:39:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:39:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:39:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:39:53.012 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:39:53.018 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:39:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:39:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.8198ms
2025-07-16 12:39:53.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:39:53.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4355ms
2025-07-16 12:39:53.037 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:39:53.063 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:39:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:39:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:39:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.914ms
2025-07-16 12:39:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:39:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 61.9679ms
2025-07-16 12:39:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:39:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.6198ms
2025-07-16 12:39:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.4809ms
2025-07-16 12:40:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:40:53.036 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:40:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:40:53.041 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:40:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:40:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:40:53.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:40:53.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:40:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:40:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:40:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:40:53.052 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:40:53.064 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:40:53.067 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:40:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:40:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.1915ms
2025-07-16 12:40:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:40:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1263ms
2025-07-16 12:40:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:40:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.2397ms
2025-07-16 12:40:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:40:53.080 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:40:53.081 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4456ms
2025-07-16 12:40:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:40:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.8546ms
2025-07-16 12:40:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:40:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.6636ms
2025-07-16 12:41:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:41:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:41:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:41:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:41:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:41:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:41:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:41:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:41:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:41:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:41:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:41:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:41:53.026 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:41:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:41:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.0111ms
2025-07-16 12:41:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:41:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.709ms
2025-07-16 12:41:53.033 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:41:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:41:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.4009ms
2025-07-16 12:41:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:41:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.3315ms
2025-07-16 12:41:53.044 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:41:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:41:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.1172ms
2025-07-16 12:41:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:41:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.7451ms
2025-07-16 12:42:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:42:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:42:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:42:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:42:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:42:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:42:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:42:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:42:53.039 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:42:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:42:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.6421ms
2025-07-16 12:42:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:42:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:42:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:42:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0071ms
2025-07-16 12:42:53.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:42:53.047 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:42:53.047 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:42:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:42:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.9843ms
2025-07-16 12:42:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:42:53.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.4759ms
2025-07-16 12:42:53.084 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:42:53.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:42:53.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.2398ms
2025-07-16 12:42:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:42:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0725ms
2025-07-16 12:43:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:43:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:43:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:43:52.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:43:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:43:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:43:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:43:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:43:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:43:53.023 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:43:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:43:53.023 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:43:53.037 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:43:53.037 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:43:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:43:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:43:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8888ms
2025-07-16 12:43:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:43:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.5596ms
2025-07-16 12:43:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:43:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.575ms
2025-07-16 12:43:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.0796ms
2025-07-16 12:43:53.058 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:43:53.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:43:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.0103ms
2025-07-16 12:43:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:43:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.7228ms
2025-07-16 12:44:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:44:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:44:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:44:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:44:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:44:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:44:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:44:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:44:53.010 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:44:53.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:44:53.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.1832ms
2025-07-16 12:44:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:44:53.016 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:44:53.020 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:44:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.8526ms
2025-07-16 12:44:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:44:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1294ms
2025-07-16 12:44:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6231ms
2025-07-16 12:44:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:44:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:44:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:44:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:44:53.046 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:44:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:44:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.6911ms
2025-07-16 12:44:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:44:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.593ms
2025-07-16 12:45:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:45:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:45:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:45:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:45:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:45:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:45:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:45:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:45:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:45:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:45:53.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:45:53.033 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:45:53.035 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:45:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:45:53.037 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:45:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.9729ms
2025-07-16 12:45:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:45:53.077 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:45:53.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.9722ms
2025-07-16 12:45:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.5755ms
2025-07-16 12:45:53.078 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:45:53.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.4461ms
2025-07-16 12:45:53.094 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:45:53.095 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:45:53.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 61.1103ms
2025-07-16 12:45:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:45:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.3991ms
2025-07-16 12:46:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:46:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:46:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:46:53.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:46:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:46:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:46:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:46:53.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:46:53.025 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:46:53.025 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:46:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:46:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:46:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.1089ms
2025-07-16 12:46:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:46:53.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.9626ms
2025-07-16 12:46:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:46:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:46:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2041ms
2025-07-16 12:46:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8504ms
2025-07-16 12:46:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:46:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:46:53.034 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:46:53.063 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:46:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:46:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.9201ms
2025-07-16 12:46:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:46:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2616ms
2025-07-16 12:47:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:47:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:47:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:47:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:47:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:47:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:47:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:47:52.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:47:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:47:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:47:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:47:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:47:53.019 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:47:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:47:53.022 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:47:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8656ms
2025-07-16 12:47:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:47:53.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:47:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1781ms
2025-07-16 12:47:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.5504ms
2025-07-16 12:47:53.031 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:47:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:47:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.5444ms
2025-07-16 12:47:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:47:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:47:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.6743ms
2025-07-16 12:47:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6635ms
2025-07-16 12:48:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:48:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:48:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:48:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:48:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:48:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:48:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:48:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:48:53.037 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:48:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:48:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.1032ms
2025-07-16 12:48:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:48:53.043 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:48:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.8128ms
2025-07-16 12:48:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:48:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.0076ms
2025-07-16 12:48:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:48:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.0968ms
2025-07-16 12:48:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:48:53.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:48:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:48:53.061 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:48:53.081 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:48:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:48:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.1353ms
2025-07-16 12:48:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:48:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.02ms
2025-07-16 12:49:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:49:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:49:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:49:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:49:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:49:53.036 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:49:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:49:53.036 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:49:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:49:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:49:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:49:53.041 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:49:53.054 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:49:53.054 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:49:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:49:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:49:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.9747ms
2025-07-16 12:49:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.4504ms
2025-07-16 12:49:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:49:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:49:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.3976ms
2025-07-16 12:49:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.7076ms
2025-07-16 12:49:53.069 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:49:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:49:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1536ms
2025-07-16 12:49:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:49:53.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.0743ms
2025-07-16 12:50:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:50:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:50:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:50:52.997 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:50:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:50:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:50:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:50:53.009 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:50:53.018 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:50:53.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:50:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.0146ms
2025-07-16 12:50:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:50:53.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.5808ms
2025-07-16 12:50:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:50:53.027 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:50:53.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:50:53.027 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:50:53.027 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:50:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:50:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 63.5064ms
2025-07-16 12:50:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:50:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.4348ms
2025-07-16 12:50:53.089 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:50:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:50:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.1297ms
2025-07-16 12:50:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:50:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.2067ms
2025-07-16 12:51:54.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:51:54.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:51:54.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:51:54.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:51:54.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:51:54.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:51:54.038 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:51:54.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:51:54.039 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:51:54.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:51:54.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.25ms
2025-07-16 12:51:54.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:51:54.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:51:54.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.3144ms
2025-07-16 12:51:54.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:51:54.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:51:54.048 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:51:54.075 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:51:54.089 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:51:54.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.513ms
2025-07-16 12:51:54.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:51:54.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.2265ms
2025-07-16 12:51:54.102 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:51:54.104 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:51:54.105 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.8822ms
2025-07-16 12:51:54.105 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:51:54.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.4705ms
2025-07-16 12:52:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:52:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:52:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:52:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:52:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:52:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:52:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:52:53.026 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:52:53.052 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:52:53.052 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:52:53.053 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:52:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:52:53.067 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:52:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 56.0638ms
2025-07-16 12:52:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:52:53.067 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:52:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.1417ms
2025-07-16 12:52:53.072 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:52:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:52:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.1759ms
2025-07-16 12:52:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:52:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.438ms
2025-07-16 12:52:53.106 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:52:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:52:53.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.4968ms
2025-07-16 12:52:53.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:52:53.107 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.2385ms
2025-07-16 12:53:53.180 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:53:53.182 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:53:53.183 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:53:53.184 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:53:53.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:53:53.221 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:53:53.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:53:53.222 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:53:53.222 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:53:53.222 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:53:53.240 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:53:53.241 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:53:53.489 +00:00 [INF] Executed DbCommand (249ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:53:53.491 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:53:53.503 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 280.5778ms
2025-07-16 12:53:53.509 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:53:53.509 +00:00 [INF] Executed DbCommand (314ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:53:53.527 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 306.0822ms
2025-07-16 12:53:53.527 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:53:53.528 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 343.3503ms
2025-07-16 12:53:53.528 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:53:53.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 348.7394ms
2025-07-16 12:53:53.722 +00:00 [INF] Executed DbCommand (194ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:53:53.767 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:53:53.768 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 527.2128ms
2025-07-16 12:53:53.768 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:53:53.769 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 557.8866ms
2025-07-16 12:54:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:54:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:54:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:54:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:54:53.047 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:54:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:54:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:54:53.051 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:54:53.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:54:53.072 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:54:53.072 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:54:53.072 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:54:53.088 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:54:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:54:53.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 79.4914ms
2025-07-16 12:54:53.099 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:54:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.518ms
2025-07-16 12:54:53.101 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:54:53.104 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:54:53.104 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.3472ms
2025-07-16 12:54:53.104 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:54:53.105 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.1232ms
2025-07-16 12:54:53.150 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:54:53.157 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:54:53.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 79.2032ms
2025-07-16 12:54:53.158 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:54:53.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 89.0248ms
2025-07-16 12:55:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:55:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:55:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:55:52.997 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:55:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:55:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:55:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:55:53.016 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:55:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:55:53.042 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:55:53.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:55:53.043 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:55:53.054 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:55:53.055 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:55:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:55:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.8461ms
2025-07-16 12:55:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:55:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:55:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.7915ms
2025-07-16 12:55:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 69.0665ms
2025-07-16 12:55:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:55:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 91.0619ms
2025-07-16 12:55:53.103 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:55:53.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:55:53.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.9901ms
2025-07-16 12:55:53.103 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:55:53.103 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.5818ms
2025-07-16 12:56:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:56:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:56:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:56:53.016 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:56:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:56:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:56:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:56:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:56:53.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:56:53.054 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:56:53.054 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:56:53.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:56:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:56:53.057 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:56:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.4618ms
2025-07-16 12:56:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:56:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.2746ms
2025-07-16 12:56:53.073 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:56:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:56:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 57.2315ms
2025-07-16 12:56:53.083 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:56:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.2235ms
2025-07-16 12:56:53.130 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:56:53.132 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:56:53.132 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 74.6297ms
2025-07-16 12:56:53.132 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:56:53.132 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.7553ms
2025-07-16 12:57:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:57:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:57:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:57:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:57:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:57:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:57:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:57:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:57:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:57:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:57:53.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:57:53.038 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:57:53.054 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:57:53.058 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:57:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:57:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.8093ms
2025-07-16 12:57:53.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:57:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 95.7694ms
2025-07-16 12:57:53.093 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:57:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.1468ms
2025-07-16 12:57:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:57:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.188ms
2025-07-16 12:57:53.102 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:57:53.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:57:53.104 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.2529ms
2025-07-16 12:57:53.105 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:57:53.105 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.4723ms
2025-07-16 12:58:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:58:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:58:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:58:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:58:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:58:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:58:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:58:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:58:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:58:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:58:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:58:53.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:58:53.029 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:58:53.029 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:58:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:58:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.3896ms
2025-07-16 12:58:53.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:58:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.4485ms
2025-07-16 12:58:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:58:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.501ms
2025-07-16 12:58:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:58:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1191ms
2025-07-16 12:58:53.044 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:58:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:58:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1875ms
2025-07-16 12:58:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:58:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.1727ms
2025-07-16 12:59:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:59:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:59:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:59:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:59:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:59:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:59:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:59:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 12:59:53.006 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 12:59:53.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:59:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0327ms
2025-07-16 12:59:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 12:59:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0109ms
2025-07-16 12:59:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 12:59:53.026 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 12:59:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 12:59:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.2141ms
2025-07-16 12:59:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 12:59:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 12:59:53.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.2491ms
2025-07-16 12:59:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:59:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 12:59:53.076 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 12:59:53.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 12:59:53.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.2436ms
2025-07-16 12:59:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 12:59:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.461ms
2025-07-16 13:00:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:00:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:00:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:00:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:00:53.023 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:00:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:00:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:00:53.028 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:00:53.068 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:00:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:00:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.4859ms
2025-07-16 13:00:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:00:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.7994ms
2025-07-16 13:00:53.077 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:00:53.077 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:00:53.077 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:00:53.080 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:00:53.082 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:00:53.083 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:00:53.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.0043ms
2025-07-16 13:00:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:00:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.9798ms
2025-07-16 13:00:53.106 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:00:53.111 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:00:53.111 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.469ms
2025-07-16 13:00:53.112 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:00:53.112 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.1573ms
2025-07-16 13:01:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:01:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:01:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:01:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:01:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:01:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:01:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:01:53.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:01:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:01:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:01:53.043 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:01:53.043 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:01:53.056 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:01:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:01:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.6728ms
2025-07-16 13:01:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:01:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.3152ms
2025-07-16 13:01:53.063 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:01:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:01:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.2576ms
2025-07-16 13:01:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:01:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.9636ms
2025-07-16 13:01:53.078 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:01:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:01:53.080 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.2763ms
2025-07-16 13:01:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:01:53.080 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.7213ms
2025-07-16 13:02:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:02:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:02:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:02:53.007 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:02:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:02:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:02:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:02:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:02:53.031 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:02:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:02:53.034 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:02:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:02:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:02:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:02:53.035 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:02:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.146ms
2025-07-16 13:02:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:02:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:02:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.8927ms
2025-07-16 13:02:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.8452ms
2025-07-16 13:02:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:02:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.1468ms
2025-07-16 13:02:53.075 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:02:53.077 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:02:53.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.5252ms
2025-07-16 13:02:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:02:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.3788ms
2025-07-16 13:03:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:03:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:03:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:03:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:03:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:03:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:03:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:03:53.028 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:03:53.048 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:03:53.048 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:03:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:03:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.9436ms
2025-07-16 13:03:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:03:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:03:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.228ms
2025-07-16 13:03:53.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:03:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2427ms
2025-07-16 13:03:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:03:53.053 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:03:53.053 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:03:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0392ms
2025-07-16 13:03:53.053 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:03:53.081 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:03:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:03:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.5553ms
2025-07-16 13:03:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:03:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.7772ms
2025-07-16 13:04:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:04:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:04:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:04:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:04:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:04:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:04:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:04:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:04:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:04:53.018 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:04:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:04:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:04:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:04:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:04:53.025 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:04:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.2463ms
2025-07-16 13:04:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:04:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:04:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.9829ms
2025-07-16 13:04:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.3864ms
2025-07-16 13:04:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:04:53.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.448ms
2025-07-16 13:04:53.064 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:04:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:04:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.2246ms
2025-07-16 13:04:53.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:04:53.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.3341ms
2025-07-16 13:05:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:05:53.027 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:05:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:05:53.029 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:05:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:05:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:05:53.037 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:05:53.037 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:05:53.045 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:05:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:05:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:05:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:05:53.061 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:05:53.061 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:05:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:05:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:05:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.2914ms
2025-07-16 13:05:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:05:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.7616ms
2025-07-16 13:05:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:05:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.682ms
2025-07-16 13:05:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.6321ms
2025-07-16 13:05:53.072 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:05:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:05:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.3598ms
2025-07-16 13:05:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:05:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6698ms
2025-07-16 13:06:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:06:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:06:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:06:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:06:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:06:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:06:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:06:53.058 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:06:53.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:06:53.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:06:53.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:06:53.073 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:06:53.079 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:06:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:06:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 70.4461ms
2025-07-16 13:06:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:06:53.089 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.2355ms
2025-07-16 13:06:53.100 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:06:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:06:53.108 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.4045ms
2025-07-16 13:06:53.108 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:06:53.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.542ms
2025-07-16 13:06:53.111 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:06:53.111 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:06:53.111 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.9835ms
2025-07-16 13:06:53.111 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:06:53.111 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3193ms
2025-07-16 13:07:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:07:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:07:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:07:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:07:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:07:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:07:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:07:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:07:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:07:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:07:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:07:53.022 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:07:53.048 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:07:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:07:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.6146ms
2025-07-16 13:07:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:07:53.050 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:07:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:07:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.2405ms
2025-07-16 13:07:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:07:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.6432ms
2025-07-16 13:07:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.5103ms
2025-07-16 13:07:53.093 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:07:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:07:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 72.5122ms
2025-07-16 13:07:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:07:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.429ms
2025-07-16 13:08:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:08:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:08:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:08:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:08:53.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:08:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:08:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:08:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:08:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:08:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:08:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:08:53.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:08:53.030 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:08:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:08:53.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.8031ms
2025-07-16 13:08:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:08:53.039 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:08:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.6222ms
2025-07-16 13:08:53.059 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:08:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:08:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 55.7925ms
2025-07-16 13:08:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:08:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:08:53.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.8351ms
2025-07-16 13:08:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.8296ms
2025-07-16 13:08:53.078 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:08:53.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.3856ms
2025-07-16 13:09:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:09:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:09:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:09:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:09:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:09:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:09:53.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:09:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:09:53.031 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:09:53.034 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:09:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:09:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.4065ms
2025-07-16 13:09:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:09:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:09:53.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.2212ms
2025-07-16 13:09:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3412ms
2025-07-16 13:09:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:09:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:09:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.2429ms
2025-07-16 13:09:53.047 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:09:53.047 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:09:53.048 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:09:53.073 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:09:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:09:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.8165ms
2025-07-16 13:09:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:09:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.9338ms
2025-07-16 13:10:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:10:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:10:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:10:53.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:10:53.019 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:10:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:10:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.3784ms
2025-07-16 13:10:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:10:53.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.3951ms
2025-07-16 13:10:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:10:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:10:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:10:53.036 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:10:53.051 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:10:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:10:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.4911ms
2025-07-16 13:10:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:10:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.4881ms
2025-07-16 13:10:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:10:53.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:10:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:10:53.055 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:10:53.061 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:10:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:10:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 6.3219ms
2025-07-16 13:10:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:10:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.3972ms
2025-07-16 13:11:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:11:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:11:52.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:11:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:11:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:11:52.991 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:11:52.991 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:11:52.991 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:11:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:11:53.005 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:11:53.007 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:11:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:11:53.007 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:11:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.4941ms
2025-07-16 13:11:53.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.4028ms
2025-07-16 13:11:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:11:53.008 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:11:53.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.204ms
2025-07-16 13:11:53.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.8434ms
2025-07-16 13:11:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:11:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:11:53.014 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:11:53.025 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:11:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:11:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.0998ms
2025-07-16 13:11:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:11:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0826ms
2025-07-16 13:12:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:12:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:12:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:12:53.016 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:12:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:12:53.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:12:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:12:53.017 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:12:53.031 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:12:53.031 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:12:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:12:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:12:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.5976ms
2025-07-16 13:12:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.7987ms
2025-07-16 13:12:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:12:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:12:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.5246ms
2025-07-16 13:12:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6668ms
2025-07-16 13:12:53.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:12:53.068 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:12:53.068 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:12:53.068 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:12:53.075 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:12:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:12:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 6.9223ms
2025-07-16 13:12:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:12:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.8314ms
2025-07-16 13:13:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:13:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:13:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:13:53.019 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:13:53.043 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:13:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:13:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.5682ms
2025-07-16 13:13:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:13:53.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.2093ms
2025-07-16 13:13:53.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:13:53.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:13:53.064 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:13:53.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:13:53.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:13:53.066 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:13:53.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:13:53.066 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:13:53.070 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:13:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:13:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.3492ms
2025-07-16 13:13:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:13:53.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.9972ms
2025-07-16 13:13:53.088 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:13:53.093 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:13:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.7145ms
2025-07-16 13:13:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:13:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0626ms
2025-07-16 13:14:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:14:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:14:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:14:53.010 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:14:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:14:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:14:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:14:53.020 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:14:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:14:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:14:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:14:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:14:53.037 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:14:53.043 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:14:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:14:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.7123ms
2025-07-16 13:14:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:14:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.9793ms
2025-07-16 13:14:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:14:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.9771ms
2025-07-16 13:14:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:14:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.824ms
2025-07-16 13:14:53.071 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:14:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:14:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.4891ms
2025-07-16 13:14:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:14:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.9544ms
2025-07-16 13:15:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:15:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:15:53.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:15:53.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:15:53.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:15:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:15:53.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:15:53.056 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:15:53.056 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:15:53.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:15:53.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:15:53.060 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:15:53.101 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:15:53.104 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:15:53.117 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:15:53.137 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 80.4934ms
2025-07-16 13:15:53.137 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:15:53.144 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:15:53.144 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:15:53.151 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 94.674ms
2025-07-16 13:15:53.151 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:15:53.152 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:15:53.152 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 92.0851ms
2025-07-16 13:15:53.153 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:15:53.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 97.8791ms
2025-07-16 13:15:53.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.2252ms
2025-07-16 13:15:53.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.9325ms
2025-07-16 13:16:53.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:16:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:16:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:16:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:16:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:16:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:16:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:16:53.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:16:53.026 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:16:53.026 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:16:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:16:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:16:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5224ms
2025-07-16 13:16:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.9726ms
2025-07-16 13:16:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:16:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:16:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.1107ms
2025-07-16 13:16:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:16:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.336ms
2025-07-16 13:16:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:16:53.037 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:16:53.040 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:16:53.058 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:16:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:16:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.8634ms
2025-07-16 13:16:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:16:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0259ms
2025-07-16 13:17:53.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:17:53.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:17:53.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:17:53.273 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:17:53.273 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:17:53.273 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:17:53.274 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:17:53.274 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:17:53.274 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:17:53.274 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:17:53.274 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:17:53.274 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:17:53.291 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:17:53.291 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:17:53.292 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:17:53.292 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:17:53.292 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8743ms
2025-07-16 13:17:53.292 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:17:53.292 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.9465ms
2025-07-16 13:17:53.292 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:17:53.292 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.4184ms
2025-07-16 13:17:53.292 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1979ms
2025-07-16 13:17:53.298 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:17:53.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:17:53.299 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.8783ms
2025-07-16 13:17:53.299 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:17:53.299 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.9408ms
2025-07-16 13:18:54.955 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:18:54.955 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:18:54.955 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:18:54.955 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:18:54.955 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:18:54.955 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:18:54.955 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:18:54.957 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:18:54.957 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:18:54.959 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:18:54.959 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:18:54.959 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:18:54.971 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:18:54.971 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:18:54.971 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.362ms
2025-07-16 13:18:54.978 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:18:54.981 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.8216ms
2025-07-16 13:18:54.981 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:18:54.981 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:18:54.981 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.7957ms
2025-07-16 13:18:54.981 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:18:54.982 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.1262ms
2025-07-16 13:18:55.020 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:18:55.034 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:18:55.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 78.8207ms
2025-07-16 13:18:55.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:18:55.097 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 142.0889ms
2025-07-16 13:19:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:19:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:19:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:19:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:19:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:19:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:19:53.019 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:19:53.019 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:19:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:19:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:19:53.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:19:53.030 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:19:53.030 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:19:53.031 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:19:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:19:53.039 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:19:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.9453ms
2025-07-16 13:19:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.9217ms
2025-07-16 13:19:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:19:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:19:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2279ms
2025-07-16 13:19:53.066 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:19:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.4735ms
2025-07-16 13:19:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:19:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.4401ms
2025-07-16 13:19:53.069 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:19:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.9956ms
2025-07-16 13:20:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:20:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:20:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:20:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:20:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:20:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:20:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:20:53.032 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:20:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:20:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:20:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:20:53.042 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:20:53.048 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:20:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:20:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.5808ms
2025-07-16 13:20:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:20:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.8902ms
2025-07-16 13:20:53.057 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:20:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:20:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.9945ms
2025-07-16 13:20:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:20:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.781ms
2025-07-16 13:20:53.072 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:20:53.088 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:20:53.088 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.4459ms
2025-07-16 13:20:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:20:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.5284ms
2025-07-16 13:21:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:21:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:21:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:21:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:21:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:21:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:21:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:21:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:21:53.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:21:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:21:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:21:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:21:53.110 +00:00 [INF] Executed DbCommand (99ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:21:53.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:21:53.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 122.0918ms
2025-07-16 13:21:53.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:21:53.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 123.6842ms
2025-07-16 13:21:53.118 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:21:53.123 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:21:53.123 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 112.4652ms
2025-07-16 13:21:53.123 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:21:53.123 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.0211ms
2025-07-16 13:21:53.132 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:21:53.134 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:21:53.135 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 123.9661ms
2025-07-16 13:21:53.135 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:21:53.136 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 140.3357ms
2025-07-16 13:22:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:22:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:22:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:22:53.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:22:53.035 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:22:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:22:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:22:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:22:53.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.0662ms
2025-07-16 13:22:53.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:22:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:22:53.039 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:22:53.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5097ms
2025-07-16 13:22:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:22:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:22:53.058 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:22:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:22:53.059 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:22:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:22:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5919ms
2025-07-16 13:22:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:22:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3441ms
2025-07-16 13:22:53.085 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:22:53.086 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:22:53.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.9449ms
2025-07-16 13:22:53.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:22:53.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3662ms
2025-07-16 13:35:10.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:10.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:10.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:10.721 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:10.721 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:10.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:35:10.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:10.721 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:10.721 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:10.721 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:35:10.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:35:10.721 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:10.727 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:35:10.728 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:10.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.7063ms
2025-07-16 13:35:10.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:10.729 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.9313ms
2025-07-16 13:35:10.733 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:35:10.736 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:35:10.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:10.745 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:10.746 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.5423ms
2025-07-16 13:35:10.747 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:35:10.747 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2866ms
2025-07-16 13:35:10.747 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:35:10.747 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.4865ms
2025-07-16 13:35:10.747 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6008ms
2025-07-16 13:35:14.491 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 13:35:14.492 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.493 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.5608ms
2025-07-16 13:35:14.498 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 13:35:14.498 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.498 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 13:35:14.498 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 13:35:14.500 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:14.501 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 2.4923ms
2025-07-16 13:35:14.502 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 13:35:14.502 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 5.2071ms
2025-07-16 13:35:14.506 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 13:35:14.507 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.507 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 13:35:14.507 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 13:35:14.507 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:14.507 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.372ms
2025-07-16 13:35:14.507 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 13:35:14.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.6695ms
2025-07-16 13:35:14.759 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 13:35:14.759 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 13:35:14.760 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.760 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.760 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.6994ms
2025-07-16 13:35:14.760 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.6816ms
2025-07-16 13:35:14.760 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 13:35:14.760 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.760 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 13:35:14.760 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.4582ms
2025-07-16 13:35:14.760 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.761 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.8689ms
2025-07-16 13:35:14.763 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 13:35:14.763 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 13:35:14.763 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 13:35:14.764 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.764 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.764 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 13:35:14.764 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 13:35:14.764 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.764 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 13:35:14.764 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 13:35:14.764 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 13:35:14.764 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 13:35:14.765 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 13:35:14.767 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.767 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 13:35:14.767 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 13:35:14.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:14.802 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:14.803 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:14.813 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 13:35:14.815 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 13:35:14.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.828 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 63.5601ms
2025-07-16 13:35:14.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 13:35:14.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 74.5684ms
2025-07-16 13:35:14.847 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 13:35:14.854 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 13:35:14.855 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 13:35:14.859 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.860 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:35:14.860 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:14.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 57.7535ms
2025-07-16 13:35:14.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:14.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.7198ms
2025-07-16 13:35:14.869 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 13:35:14.871 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:14.873 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.873 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:14.874 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:14.878 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 13:35:14.879 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.880 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 13:35:14.880 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 113.3878ms
2025-07-16 13:35:14.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 26.1597ms
2025-07-16 13:35:14.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 13:35:14.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 13:35:14.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 117.0716ms
2025-07-16 13:35:14.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 34.5279ms
2025-07-16 13:35:14.882 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.883 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.886 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:35:14.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 13:35:14.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 122.7163ms
2025-07-16 13:35:14.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 13:35:14.888 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.888 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:14.888 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.889 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.0698ms
2025-07-16 13:35:14.889 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:14.889 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 13:35:14.890 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 13:35:14.890 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 127.0455ms
2025-07-16 13:35:14.890 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2003ms
2025-07-16 13:35:14.891 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 13:35:14.891 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:14.891 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 13:35:14.891 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 13:35:14.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.895 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 13:35:14.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.902 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 13:35:14.903 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 11.4594ms
2025-07-16 13:35:14.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 13:35:14.904 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:14.905 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 15.5009ms
2025-07-16 13:35:14.906 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 13:35:14.907 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 16.5897ms
2025-07-16 13:35:14.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 22.4515ms
2025-07-16 13:35:14.911 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.913 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.918 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.923 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.930 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.932 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.937 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.939 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.941 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.946 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.949 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.955 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.957 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.961 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.965 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.969 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.974 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.979 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.984 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.988 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.992 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:14.996 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.001 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.005 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.010 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.014 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.017 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.021 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.026 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.030 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.035 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.037 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.039 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.045 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.051 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.056 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.067 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.069 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.070 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.072 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.077 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.086 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.090 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.102 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.104 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.105 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.108 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.109 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.115 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.117 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.119 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.122 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.123 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.126 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.126 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:15.128 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 363.9995ms
2025-07-16 13:35:15.128 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 13:35:15.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 365.2662ms
2025-07-16 13:35:15.130 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 13:35:15.131 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:15.131 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 13:35:15.131 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 13:35:15.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 13:35:15.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.142 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.143 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.145 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.150 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.153 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.157 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.163 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.170 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.183 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.186 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.191 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.195 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.197 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.199 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.202 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.204 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.206 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.216 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.220 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.222 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.224 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.231 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.248 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.251 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.254 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.259 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.265 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.267 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.274 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.284 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.302 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.304 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.314 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.316 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.318 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.324 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 13:35:15.328 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:15.331 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 199.9537ms
2025-07-16 13:35:15.331 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 13:35:15.331 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 201.1735ms
2025-07-16 13:35:44.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:44.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:44.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:35:44.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:44.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:44.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:35:44.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:35:44.977 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:44.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:44.978 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:35:44.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:35:44.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:35:44.995 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:35:44.998 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:35:44.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6387ms
2025-07-16 13:35:44.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:35:44.998 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5696ms
2025-07-16 13:35:45.006 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:35:45.013 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:35:45.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:45.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:35:45.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.0613ms
2025-07-16 13:35:45.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:35:45.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.4982ms
2025-07-16 13:35:45.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:35:45.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.8849ms
2025-07-16 13:35:45.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.829ms
2025-07-16 13:36:14.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:14.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:14.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:36:14.991 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:36:14.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:14.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:14.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:36:14.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:36:15.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:15.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:15.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:36:15.032 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:36:15.051 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:36:15.051 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:36:15.054 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:36:15.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:36:15.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 57.5619ms
2025-07-16 13:36:15.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.7431ms
2025-07-16 13:36:15.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:36:15.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:36:15.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.5384ms
2025-07-16 13:36:15.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.5798ms
2025-07-16 13:36:15.060 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:36:15.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:36:15.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.9204ms
2025-07-16 13:36:15.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:36:15.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.0286ms
2025-07-16 13:36:44.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:44.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:44.981 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:36:44.981 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:36:44.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:44.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:36:44.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:44.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:36:44.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:36:44.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:36:44.990 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:36:44.990 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:36:44.995 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:36:44.996 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:36:44.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.2115ms
2025-07-16 13:36:44.998 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:36:44.998 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.4089ms
2025-07-16 13:36:45.009 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:36:45.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:36:45.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9787ms
2025-07-16 13:36:45.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:36:45.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4456ms
2025-07-16 13:36:45.022 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:36:45.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:36:45.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.7214ms
2025-07-16 13:36:45.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:36:45.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.6333ms
2025-07-16 13:37:14.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:14.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:14.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:14.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:37:14.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:14.976 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:37:14.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:37:14.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:37:15.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:15.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:15.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:37:15.008 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:37:15.031 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:37:15.034 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:37:15.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.0011ms
2025-07-16 13:37:15.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:37:15.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.9723ms
2025-07-16 13:37:15.041 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:37:15.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:37:15.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 71.7528ms
2025-07-16 13:37:15.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:37:15.050 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:37:15.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.9948ms
2025-07-16 13:37:15.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:37:15.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.8035ms
2025-07-16 13:37:15.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:37:15.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.6458ms
2025-07-16 13:37:44.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:44.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:44.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:44.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:37:44.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:37:44.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:44.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:37:44.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:37:44.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:37:44.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:37:44.993 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:37:44.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:37:45.029 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:37:45.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:37:45.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.556ms
2025-07-16 13:37:45.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:37:45.030 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:37:45.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:37:45.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.697ms
2025-07-16 13:37:45.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:37:45.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.812ms
2025-07-16 13:37:45.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.407ms
2025-07-16 13:37:45.056 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:37:45.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:37:45.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.5807ms
2025-07-16 13:37:45.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:37:45.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.0978ms
2025-07-16 13:38:14.976 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:14.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:14.977 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:14.978 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:14.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:38:14.978 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:38:14.978 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:38:14.978 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:38:14.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:14.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:14.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:38:14.979 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:38:14.999 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:38:15.001 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:38:15.006 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:38:15.007 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:38:15.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.4851ms
2025-07-16 13:38:15.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:38:15.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:38:15.013 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:38:15.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.2557ms
2025-07-16 13:38:15.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:38:15.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.929ms
2025-07-16 13:38:15.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:38:15.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.7204ms
2025-07-16 13:38:15.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.8766ms
2025-07-16 13:38:15.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.6842ms
2025-07-16 13:38:53.081 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:53.081 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:53.081 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:53.081 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:53.081 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:38:53.081 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:38:53.081 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:38:53.081 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:38:53.082 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:38:53.088 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:38:53.088 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:38:53.088 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:38:53.154 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:38:53.158 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:38:53.158 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 76.7847ms
2025-07-16 13:38:53.158 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:38:53.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.5325ms
2025-07-16 13:38:53.171 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:38:53.171 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:38:53.177 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 95.7282ms
2025-07-16 13:38:53.184 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:38:53.184 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 103.2673ms
2025-07-16 13:38:53.185 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:38:53.209 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:38:53.214 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 120.6381ms
2025-07-16 13:38:53.214 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:38:53.215 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 132.265ms
2025-07-16 13:39:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:39:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:39:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:39:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:39:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:39:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:39:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:39:53.035 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:39:53.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:39:53.074 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:39:53.074 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:39:53.075 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:39:53.076 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:39:53.088 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:39:53.088 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.4669ms
2025-07-16 13:39:53.089 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:39:53.095 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:39:53.100 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:39:53.100 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 83.2226ms
2025-07-16 13:39:53.100 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:39:53.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.7459ms
2025-07-16 13:39:53.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.6825ms
2025-07-16 13:39:53.137 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:39:53.153 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:39:53.154 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 77.5831ms
2025-07-16 13:39:53.154 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:39:53.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.9838ms
2025-07-16 13:40:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:40:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:40:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:40:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:40:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:40:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:40:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:40:53.019 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:40:53.023 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:40:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:40:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:40:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:40:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.9727ms
2025-07-16 13:40:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:40:53.026 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:40:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:40:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9646ms
2025-07-16 13:40:53.042 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:40:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:40:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.6769ms
2025-07-16 13:40:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:40:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0793ms
2025-07-16 13:40:53.070 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:40:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:40:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.2626ms
2025-07-16 13:40:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:40:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.0626ms
2025-07-16 13:41:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:41:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:41:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:41:53.047 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:41:53.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:41:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:41:53.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:41:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:41:53.058 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:41:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:41:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:41:53.058 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:41:53.075 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:41:53.075 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:41:53.087 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:41:53.091 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.1876ms
2025-07-16 13:41:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:41:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:41:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.7397ms
2025-07-16 13:41:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:41:53.092 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:41:53.125 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:41:53.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.2687ms
2025-07-16 13:41:53.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.1327ms
2025-07-16 13:41:53.125 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:41:53.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.9716ms
2025-07-16 13:41:53.126 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 95.466ms
2025-07-16 13:42:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:42:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:42:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:42:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:42:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:42:53.008 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:42:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:42:53.017 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:42:53.050 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:42:53.055 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:42:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:42:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:42:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.9303ms
2025-07-16 13:42:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.144ms
2025-07-16 13:42:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:42:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:42:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.2255ms
2025-07-16 13:42:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.9755ms
2025-07-16 13:42:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:42:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:42:53.062 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:42:53.062 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:42:53.081 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:42:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:42:53.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.6ms
2025-07-16 13:42:53.081 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:42:53.081 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1168ms
2025-07-16 13:43:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:43:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:43:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:43:53.015 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:43:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:43:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:43:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:43:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:43:53.058 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:43:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:43:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.408ms
2025-07-16 13:43:53.089 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:43:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.1226ms
2025-07-16 13:43:53.092 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:43:53.098 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:43:53.098 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:43:53.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 83.1521ms
2025-07-16 13:43:53.099 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:43:53.099 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:43:53.099 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:43:53.099 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:43:53.099 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.497ms
2025-07-16 13:43:53.128 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:43:53.128 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:43:53.128 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.8202ms
2025-07-16 13:43:53.128 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:43:53.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0262ms
2025-07-16 13:44:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:44:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:44:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:44:53.027 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:44:53.049 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:44:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:44:53.051 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:44:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:44:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:44:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:44:53.059 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:44:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:44:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.7705ms
2025-07-16 13:44:53.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:44:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:44:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.1725ms
2025-07-16 13:44:53.064 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:44:53.070 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:44:53.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:44:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.4691ms
2025-07-16 13:44:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:44:53.076 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:44:53.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.4246ms
2025-07-16 13:44:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:44:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.6531ms
2025-07-16 13:44:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:44:53.089 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.5488ms
2025-07-16 13:45:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:45:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:45:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:45:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:45:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:45:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:45:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:45:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:45:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:45:53.024 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:45:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:45:53.024 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:45:53.041 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:45:53.041 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:45:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:45:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:45:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.3635ms
2025-07-16 13:45:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.4486ms
2025-07-16 13:45:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:45:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:45:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1595ms
2025-07-16 13:45:53.062 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:45:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8483ms
2025-07-16 13:45:53.097 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:45:53.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 73.203ms
2025-07-16 13:45:53.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:45:53.116 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 91.9409ms
2025-07-16 13:46:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:46:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:46:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:46:53.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:46:53.020 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:46:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:46:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:46:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:46:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:46:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:46:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:46:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:46:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.0012ms
2025-07-16 13:46:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:46:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:46:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:46:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.6682ms
2025-07-16 13:46:53.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:46:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:46:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.2968ms
2025-07-16 13:46:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:46:53.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.208ms
2025-07-16 13:46:53.063 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:46:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:46:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 64.8669ms
2025-07-16 13:46:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:46:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.2614ms
2025-07-16 13:47:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:47:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:47:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:47:53.015 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:47:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:47:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:47:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:47:53.026 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:47:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:47:53.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:47:53.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:47:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:47:53.037 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:47:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:47:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.2856ms
2025-07-16 13:47:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:47:53.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9304ms
2025-07-16 13:47:53.047 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:47:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:47:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.4374ms
2025-07-16 13:47:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:47:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.1908ms
2025-07-16 13:47:53.070 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:47:53.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:47:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 61.2524ms
2025-07-16 13:47:53.099 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:47:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.7889ms
2025-07-16 13:48:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:48:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:48:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:48:53.000 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:48:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:48:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:48:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:48:53.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:48:53.021 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:48:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:48:53.022 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:48:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.5384ms
2025-07-16 13:48:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:48:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:48:53.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.855ms
2025-07-16 13:48:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.4979ms
2025-07-16 13:48:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:48:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0358ms
2025-07-16 13:48:53.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:48:53.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:48:53.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:48:53.040 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:48:53.063 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:48:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:48:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.6358ms
2025-07-16 13:48:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:48:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.9691ms
2025-07-16 13:49:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:49:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:49:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:49:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:49:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:49:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:49:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:49:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:49:53.012 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:49:53.013 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:49:53.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.7809ms
2025-07-16 13:49:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:49:53.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:49:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:49:53.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.8774ms
2025-07-16 13:49:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:49:53.021 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:49:53.026 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:49:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:49:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.7973ms
2025-07-16 13:49:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:49:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0192ms
2025-07-16 13:49:53.057 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:49:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:49:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.035ms
2025-07-16 13:49:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:49:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.8632ms
2025-07-16 13:50:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:50:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:50:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:50:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:50:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:50:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:50:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:50:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:50:53.024 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:50:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:50:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.7739ms
2025-07-16 13:50:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:50:53.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2615ms
2025-07-16 13:50:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:50:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:50:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:50:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:50:53.040 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:50:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:50:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.5218ms
2025-07-16 13:50:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:50:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7076ms
2025-07-16 13:50:53.048 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:50:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:50:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.9288ms
2025-07-16 13:50:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:50:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5673ms
2025-07-16 13:51:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:51:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:51:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:51:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:51:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:51:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:51:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:51:53.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:51:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:51:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:51:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:51:53.020 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:51:53.038 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:51:53.038 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:51:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:51:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:51:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.366ms
2025-07-16 13:51:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:51:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.2823ms
2025-07-16 13:51:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.8646ms
2025-07-16 13:51:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:51:53.048 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:51:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:51:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.0618ms
2025-07-16 13:51:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:51:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.5227ms
2025-07-16 13:51:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3454ms
2025-07-16 13:52:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:52:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:52:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:52:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:52:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:52:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:52:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:52:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:52:52.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:52:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:52:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:52:52.996 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:52:53.013 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:52:53.017 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:52:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.5331ms
2025-07-16 13:52:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:52:53.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1212ms
2025-07-16 13:52:53.033 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:52:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:52:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.1426ms
2025-07-16 13:52:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:52:53.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.0964ms
2025-07-16 13:52:53.066 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:52:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:52:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 77.2096ms
2025-07-16 13:52:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:52:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.4034ms
2025-07-16 13:53:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:53:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:53:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:53:53.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:53:53.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:53:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:53:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:53:53.029 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:53:53.042 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:53:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:53:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.6428ms
2025-07-16 13:53:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:53:53.053 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:53:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.3829ms
2025-07-16 13:53:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:53:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:53:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.8725ms
2025-07-16 13:53:53.059 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:53:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:53:53.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:53:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6269ms
2025-07-16 13:53:53.059 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:53:53.075 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:53:53.076 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:53:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6678ms
2025-07-16 13:53:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:53:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.0316ms
2025-07-16 13:54:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:54:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:54:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:54:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:54:53.011 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:54:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:54:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.3392ms
2025-07-16 13:54:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:54:53.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.0353ms
2025-07-16 13:54:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:54:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:54:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:54:53.016 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:54:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:54:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:54:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:54:53.026 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:54:53.028 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:54:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:54:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.3014ms
2025-07-16 13:54:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:54:53.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.9142ms
2025-07-16 13:54:53.046 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:54:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:54:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.1716ms
2025-07-16 13:54:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:54:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.0712ms
2025-07-16 13:55:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:55:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:55:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:55:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:55:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:55:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:55:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:55:53.046 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:55:53.046 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:55:53.046 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:55:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:55:53.052 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:55:53.055 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:55:53.080 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:55:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:55:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.541ms
2025-07-16 13:55:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:55:53.084 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:55:53.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.8981ms
2025-07-16 13:55:53.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:55:53.090 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:55:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.7231ms
2025-07-16 13:55:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.858ms
2025-07-16 13:55:53.127 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:55:53.128 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 71.9809ms
2025-07-16 13:55:53.128 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:55:53.128 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.9456ms
2025-07-16 13:56:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:56:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:56:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:56:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:56:52.995 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:56:52.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:56:52.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.8518ms
2025-07-16 13:56:52.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:56:53.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1854ms
2025-07-16 13:56:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:56:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:56:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:56:53.032 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:56:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:56:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:56:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:56:53.038 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:56:53.053 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:56:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:56:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.4574ms
2025-07-16 13:56:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:56:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8697ms
2025-07-16 13:56:53.087 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:56:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:56:53.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.6304ms
2025-07-16 13:56:53.089 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:56:53.089 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8105ms
2025-07-16 13:57:52.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:57:52.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:57:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:57:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:57:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:57:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:57:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:57:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:57:53.016 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:57:53.016 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:57:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:57:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:57:53.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.7845ms
2025-07-16 13:57:53.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:57:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.4579ms
2025-07-16 13:57:53.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.8559ms
2025-07-16 13:57:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:57:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.3058ms
2025-07-16 13:57:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:57:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:57:53.047 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:57:53.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:57:53.065 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:57:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:57:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.3432ms
2025-07-16 13:57:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:57:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6891ms
2025-07-16 13:58:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:58:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:58:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:58:53.013 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:58:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:58:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:58:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:58:53.023 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:58:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:58:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:58:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:58:53.037 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:58:53.080 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:58:53.080 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:58:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:58:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:58:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.3826ms
2025-07-16 13:58:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 67.2344ms
2025-07-16 13:58:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:58:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:58:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.5899ms
2025-07-16 13:58:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.8897ms
2025-07-16 13:58:53.092 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:58:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:58:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.5464ms
2025-07-16 13:58:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:58:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.5494ms
2025-07-16 13:59:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:59:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:59:52.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:59:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:59:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:59:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:59:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:59:53.010 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 13:59:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 13:59:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 13:59:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:59:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 13:59:53.025 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 13:59:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:59:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.28ms
2025-07-16 13:59:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 13:59:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.7529ms
2025-07-16 13:59:53.028 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 13:59:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 13:59:53.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2738ms
2025-07-16 13:59:53.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 13:59:53.032 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 13:59:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.9008ms
2025-07-16 13:59:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 13:59:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.4692ms
2025-07-16 13:59:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 13:59:53.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.0468ms
2025-07-16 14:00:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:00:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:00:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:00:53.023 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:00:53.060 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:00:53.061 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:00:53.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:00:53.061 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:00:53.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:00:53.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:00:53.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:00:53.063 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:00:53.068 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:00:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:00:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.3626ms
2025-07-16 14:00:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:00:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.7156ms
2025-07-16 14:00:53.077 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:00:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:00:53.080 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5995ms
2025-07-16 14:00:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:00:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5522ms
2025-07-16 14:00:53.088 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:00:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:00:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.9075ms
2025-07-16 14:00:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:00:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6241ms
2025-07-16 14:01:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:01:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:01:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:01:53.017 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:01:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:01:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:01:53.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:01:53.027 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:01:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:01:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:01:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:01:53.036 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:01:53.050 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:01:53.051 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:01:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:01:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:01:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.0043ms
2025-07-16 14:01:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:01:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.4864ms
2025-07-16 14:01:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:01:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.8083ms
2025-07-16 14:01:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.5849ms
2025-07-16 14:01:53.070 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:01:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:01:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.5456ms
2025-07-16 14:01:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:01:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.5ms
2025-07-16 14:02:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:02:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:02:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:02:53.033 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:02:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:02:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:02:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:02:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:02:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:02:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:02:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:02:53.044 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:02:53.052 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:02:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:02:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5113ms
2025-07-16 14:02:53.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:02:53.056 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:02:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:02:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.4754ms
2025-07-16 14:02:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:02:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.3323ms
2025-07-16 14:02:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2163ms
2025-07-16 14:02:53.074 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:02:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:02:53.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.6313ms
2025-07-16 14:02:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:02:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.9381ms
2025-07-16 14:03:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:03:52.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:03:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:03:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:03:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:03:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:03:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:03:53.035 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:03:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:03:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:03:53.037 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:03:53.037 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:03:53.051 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:03:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:03:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 73.4086ms
2025-07-16 14:03:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:03:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.3012ms
2025-07-16 14:03:53.058 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:03:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:03:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6828ms
2025-07-16 14:03:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:03:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.6523ms
2025-07-16 14:03:53.078 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:03:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:03:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.5233ms
2025-07-16 14:03:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:03:53.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.3463ms
2025-07-16 14:04:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:04:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:04:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:04:53.043 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:04:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:04:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:04:53.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:04:53.061 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:04:53.062 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:04:53.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:04:53.064 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:04:53.066 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:04:53.066 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:04:53.077 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:04:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7543ms
2025-07-16 14:04:53.078 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:04:53.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.2104ms
2025-07-16 14:04:53.090 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:04:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:04:53.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.0082ms
2025-07-16 14:04:53.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:04:53.101 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.9478ms
2025-07-16 14:04:53.108 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:04:53.113 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:04:53.113 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.8671ms
2025-07-16 14:04:53.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:04:53.113 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.9605ms
2025-07-16 14:05:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:05:53.068 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:05:53.068 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:05:53.069 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:05:53.085 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:05:53.085 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:05:53.085 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:05:53.086 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:05:53.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:05:53.090 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:05:53.091 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:05:53.096 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:05:53.182 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:05:53.200 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:05:53.203 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:05:53.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:05:53.205 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 136.6799ms
2025-07-16 14:05:53.205 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:05:53.212 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 112.4417ms
2025-07-16 14:05:53.212 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:05:53.223 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:05:53.223 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 165.0887ms
2025-07-16 14:05:53.234 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:05:53.235 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 149.7081ms
2025-07-16 14:05:53.235 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 150.8006ms
2025-07-16 14:05:53.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:05:53.237 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 152.1164ms
2025-07-16 14:06:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:06:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:06:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:06:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:06:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:06:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:06:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:06:52.989 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:06:53.001 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:06:53.001 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:06:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:06:53.005 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:06:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.7171ms
2025-07-16 14:06:53.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.8885ms
2025-07-16 14:06:53.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:06:53.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:06:53.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.5513ms
2025-07-16 14:06:53.005 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.8156ms
2025-07-16 14:06:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:06:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:06:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:06:53.006 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:06:53.037 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:06:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:06:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.5685ms
2025-07-16 14:06:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:06:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1801ms
2025-07-16 14:07:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:07:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:07:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:07:53.007 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:07:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:07:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:07:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:07:53.009 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:07:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:07:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:07:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:07:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:07:53.039 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:07:53.039 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:07:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:07:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.9975ms
2025-07-16 14:07:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:07:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:07:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.2637ms
2025-07-16 14:07:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:07:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.0451ms
2025-07-16 14:07:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4961ms
2025-07-16 14:07:53.080 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:07:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:07:53.080 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.0202ms
2025-07-16 14:07:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:07:53.081 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.6817ms
2025-07-16 14:47:01.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:01.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:01.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:47:01.026 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:01.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:01.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:01.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:47:01.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:47:01.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:01.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:01.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:01.035 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:01.047 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:47:01.048 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:47:01.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:01.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:01.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6619ms
2025-07-16 14:47:01.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.2539ms
2025-07-16 14:47:01.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:47:01.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:47:01.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.4863ms
2025-07-16 14:47:01.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0007ms
2025-07-16 14:47:01.069 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:47:01.070 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:01.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.4906ms
2025-07-16 14:47:01.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:01.099 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.4672ms
2025-07-16 14:47:12.681 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 14:47:12.682 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:12.682 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.8175ms
2025-07-16 14:47:12.686 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 14:47:12.687 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:12.687 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 14:47:12.687 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 14:47:12.688 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:12.688 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5219ms
2025-07-16 14:47:12.688 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 14:47:12.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.874ms
2025-07-16 14:47:12.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 14:47:12.697 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:12.697 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 14:47:12.697 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 14:47:12.697 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:12.697 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3166ms
2025-07-16 14:47:12.697 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 14:47:12.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.0505ms
2025-07-16 14:47:13.253 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 14:47:13.254 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.254 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.1334ms
2025-07-16 14:47:13.258 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 14:47:13.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 14:47:13.258 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.258 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 14:47:13.258 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 14:47:13.258 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.6145ms
2025-07-16 14:47:13.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 14:47:13.264 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 14:47:13.264 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.265 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.5653ms
2025-07-16 14:47:13.265 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 14:47:13.265 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 14:47:13.266 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 14:47:13.266 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.267 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.5296ms
2025-07-16 14:47:13.271 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 14:47:13.272 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.275 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 14:47:13.275 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 14:47:13.275 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.275 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 14:47:13.276 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 14:47:13.276 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 14:47:13.282 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 14:47:13.282 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 14:47:13.283 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.284 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 25.7024ms
2025-07-16 14:47:13.284 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 14:47:13.285 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 27.2892ms
2025-07-16 14:47:13.286 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.287 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 22.2187ms
2025-07-16 14:47:13.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 14:47:13.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 23.3921ms
2025-07-16 14:47:13.288 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 14:47:13.290 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.291 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 14:47:13.291 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 14:47:13.296 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 14:47:13.297 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.297 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 5.9448ms
2025-07-16 14:47:13.297 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 14:47:13.297 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 8.6644ms
2025-07-16 14:47:13.300 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 14:47:13.301 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.302 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 14:47:13.302 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 14:47:13.303 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 14:47:13.307 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 14:47:13.308 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 14:47:13.308 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.308 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 31.9711ms
2025-07-16 14:47:13.308 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 14:47:13.308 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 33.4633ms
2025-07-16 14:47:13.309 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.309 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 7.3462ms
2025-07-16 14:47:13.309 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 14:47:13.310 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 12.7915ms
2025-07-16 14:47:13.310 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:13.311 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 14:47:13.311 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.311 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.311 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:13.311 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 14:47:13.311 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:13.311 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 14:47:13.316 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:47:13.321 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 14:47:13.325 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.325 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:13.329 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.329 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 17.977ms
2025-07-16 14:47:13.330 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 14:47:13.330 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.3065ms
2025-07-16 14:47:13.330 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 18.7065ms
2025-07-16 14:47:13.333 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:13.335 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.0479ms
2025-07-16 14:47:13.345 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.346 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:13.346 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.346 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:13.346 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:13.349 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.353 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:47:13.354 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:13.354 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.6626ms
2025-07-16 14:47:13.354 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:13.354 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.2742ms
2025-07-16 14:47:13.359 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.363 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.365 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.367 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.370 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.375 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.379 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.381 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.384 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.392 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.395 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.400 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.407 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.409 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.411 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.417 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.421 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.425 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.427 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.429 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.431 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.434 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.437 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.439 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.446 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.458 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.460 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.461 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.465 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.467 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.472 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.475 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.482 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.492 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.497 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.502 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.508 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.511 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.521 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.526 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.530 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.543 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.558 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.577 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.580 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.580 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.582 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 306.7032ms
2025-07-16 14:47:13.582 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 14:47:13.583 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 315.2314ms
2025-07-16 14:47:13.592 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 14:47:13.593 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:13.593 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 14:47:13.593 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 14:47:13.596 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 14:47:13.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.607 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.609 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.624 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.626 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.630 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.635 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.640 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.650 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.654 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.665 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.698 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.716 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.729 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.747 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.754 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.766 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.782 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.786 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.792 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.800 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.809 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.814 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.816 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.826 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.833 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.835 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.838 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.843 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.845 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.847 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.849 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.851 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.854 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.859 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.861 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.863 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.865 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.868 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.869 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.880 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.881 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.884 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.886 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.889 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.899 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.903 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.909 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 14:47:13.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:13.916 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 323.074ms
2025-07-16 14:47:13.916 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 14:47:13.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 324.1177ms
2025-07-16 14:47:43.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:43.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:43.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:43.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:43.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:43.985 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:43.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:47:43.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:47:43.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:47:43.995 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:47:43.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:47:43.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:47:43.996 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:47:43.996 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:47:44.012 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:47:44.012 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:47:44.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.6314ms
2025-07-16 14:47:44.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:47:44.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:44.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.8971ms
2025-07-16 14:47:44.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:47:44.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.3606ms
2025-07-16 14:47:44.029 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:47:44.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.7488ms
2025-07-16 14:47:44.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.504ms
2025-07-16 14:47:44.030 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:47:44.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.7316ms
2025-07-16 14:48:13.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:13.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:13.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:48:14.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:48:14.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:14.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:14.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:48:14.008 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:48:14.045 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:14.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:14.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:48:14.048 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:48:14.066 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:48:14.069 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:48:14.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 77.7596ms
2025-07-16 14:48:14.081 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:48:14.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.7658ms
2025-07-16 14:48:14.089 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:48:14.095 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:48:14.107 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:48:14.108 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:48:14.109 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 101.0893ms
2025-07-16 14:48:14.109 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.6725ms
2025-07-16 14:48:14.109 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:48:14.109 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:48:14.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 107.4093ms
2025-07-16 14:48:14.123 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.3232ms
2025-07-16 14:48:43.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:43.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:43.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:48:43.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:48:44.002 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:44.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:44.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:48:44.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:48:44.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:48:44.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:48:44.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:48:44.008 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:48:44.008 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:48:44.008 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:48:44.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.957ms
2025-07-16 14:48:44.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:48:44.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.1032ms
2025-07-16 14:48:44.058 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:48:44.060 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:48:44.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.2374ms
2025-07-16 14:48:44.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:48:44.064 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:48:44.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.2118ms
2025-07-16 14:48:44.080 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:48:44.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 77.3905ms
2025-07-16 14:48:44.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:48:44.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.2079ms
2025-07-16 14:49:13.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:13.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:13.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:49:13.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:49:13.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:13.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:13.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:49:13.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:49:14.025 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:49:14.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:14.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:14.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:49:14.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:49:14.026 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:49:14.028 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.4791ms
2025-07-16 14:49:14.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:49:14.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.1255ms
2025-07-16 14:49:14.035 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:49:14.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:49:14.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.4795ms
2025-07-16 14:49:14.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:49:14.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.088ms
2025-07-16 14:49:14.059 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:49:14.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:49:14.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6016ms
2025-07-16 14:49:14.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:49:14.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.4526ms
2025-07-16 14:49:43.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:43.984 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:43.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:49:43.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:49:43.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:43.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:43.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:49:43.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:49:44.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:49:44.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:49:44.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:49:44.023 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:49:44.041 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:49:44.043 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:49:44.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:49:44.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 55.1222ms
2025-07-16 14:49:44.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:49:44.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:49:44.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 51.0678ms
2025-07-16 14:49:44.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.2479ms
2025-07-16 14:49:44.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:49:44.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.9085ms
2025-07-16 14:49:44.057 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:49:44.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:49:44.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.4836ms
2025-07-16 14:49:44.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:49:44.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.5434ms
2025-07-16 14:50:13.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:13.976 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:13.976 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:50:13.976 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:50:13.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:13.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:13.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:50:13.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:50:13.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:13.997 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:50:13.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:14.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:50:14.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:50:14.000 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:50:14.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.2677ms
2025-07-16 14:50:14.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:50:14.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.6974ms
2025-07-16 14:50:14.021 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:50:14.024 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:50:14.029 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:50:14.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:50:14.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.5847ms
2025-07-16 14:50:14.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1913ms
2025-07-16 14:50:14.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:50:14.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:50:14.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.8416ms
2025-07-16 14:50:14.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.8282ms
2025-07-16 14:50:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:50:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:50:53.047 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:50:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:50:53.049 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:50:53.049 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:50:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.0948ms
2025-07-16 14:50:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:50:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.2263ms
2025-07-16 14:50:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:50:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:50:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:50:53.053 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:50:53.067 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:50:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:50:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.5072ms
2025-07-16 14:50:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:50:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.8187ms
2025-07-16 14:50:53.078 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:50:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:50:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.7702ms
2025-07-16 14:50:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:50:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.424ms
2025-07-16 14:51:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:51:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:51:53.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:51:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:51:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:51:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:51:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:51:53.023 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:51:53.035 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:51:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:51:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.6899ms
2025-07-16 14:51:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:51:53.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.3952ms
2025-07-16 14:51:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:51:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:51:53.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:51:53.038 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:51:53.103 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:51:53.105 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:51:53.105 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 76.0061ms
2025-07-16 14:51:53.105 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:51:53.105 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.8115ms
2025-07-16 14:51:53.122 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:51:53.124 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:51:53.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 85.6047ms
2025-07-16 14:51:53.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:51:53.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.332ms
2025-07-16 14:52:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:52:53.006 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:52:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:52:53.010 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:52:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:52:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:52:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:52:53.040 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:52:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:52:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:52:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:52:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:52:53.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:52:53.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:52:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.6076ms
2025-07-16 14:52:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:52:53.067 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:52:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:52:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.9466ms
2025-07-16 14:52:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:52:53.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.5242ms
2025-07-16 14:52:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.4487ms
2025-07-16 14:52:53.086 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:52:53.087 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:52:53.093 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.6981ms
2025-07-16 14:52:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:52:53.122 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.5409ms
2025-07-16 14:53:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:53:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:53:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:53:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:53:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:53:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:53:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:53:53.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:53:53.036 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:53:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:53:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.296ms
2025-07-16 14:53:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:53:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.4003ms
2025-07-16 14:53:53.050 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:53:53.050 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:53:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:53:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:53:53.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:53:53.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:53:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.2439ms
2025-07-16 14:53:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:53:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4887ms
2025-07-16 14:53:53.080 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:53:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:53:53.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.3797ms
2025-07-16 14:53:53.081 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:53:53.081 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1867ms
2025-07-16 14:54:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:54:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:54:52.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:54:52.983 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:54:52.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:54:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:54:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:54:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:54:53.010 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:54:53.010 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:54:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:54:53.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.15ms
2025-07-16 14:54:53.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:54:53.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.2345ms
2025-07-16 14:54:53.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:54:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.5011ms
2025-07-16 14:54:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:54:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8924ms
2025-07-16 14:54:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:54:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:54:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:54:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:54:53.049 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:54:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:54:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.9521ms
2025-07-16 14:54:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:54:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.8667ms
2025-07-16 14:55:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:55:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:55:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:55:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:55:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:55:53.021 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:55:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:55:53.022 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:55:53.044 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:55:53.045 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:55:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:55:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.844ms
2025-07-16 14:55:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:55:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:55:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.757ms
2025-07-16 14:55:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:55:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.9254ms
2025-07-16 14:55:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:55:53.056 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:55:53.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:55:53.056 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:55:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.0776ms
2025-07-16 14:55:53.074 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:55:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:55:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.2271ms
2025-07-16 14:55:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:55:53.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1469ms
2025-07-16 14:56:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:56:52.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:56:52.990 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:56:52.990 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:56:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:56:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:56:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:56:52.997 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:56:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:56:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:56:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:56:53.002 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:56:53.012 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:56:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:56:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1258ms
2025-07-16 14:56:53.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:56:53.020 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:56:53.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:56:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.6434ms
2025-07-16 14:56:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:56:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0108ms
2025-07-16 14:56:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.8424ms
2025-07-16 14:56:53.045 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:56:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:56:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.2308ms
2025-07-16 14:56:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:56:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6316ms
2025-07-16 14:57:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:57:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:57:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:57:52.998 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:57:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:57:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:57:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:57:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:57:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:57:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:57:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:57:52.999 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:57:53.020 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:57:53.023 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:57:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.4422ms
2025-07-16 14:57:53.023 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:57:53.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:57:53.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6588ms
2025-07-16 14:57:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:57:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.6386ms
2025-07-16 14:57:53.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:57:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7911ms
2025-07-16 14:57:53.041 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:57:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:57:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.448ms
2025-07-16 14:57:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:57:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.1872ms
2025-07-16 14:58:53.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:58:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:58:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:58:53.025 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:58:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:58:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:58:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:58:53.037 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:58:53.058 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:58:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:58:53.064 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:58:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.0193ms
2025-07-16 14:58:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:58:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:58:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 42.0932ms
2025-07-16 14:58:53.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:58:53.074 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:58:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.0987ms
2025-07-16 14:58:53.076 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:58:53.076 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:58:53.076 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:58:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.8024ms
2025-07-16 14:58:53.109 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:58:53.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:58:53.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.496ms
2025-07-16 14:58:53.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:58:53.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2174ms
2025-07-16 14:59:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:59:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:59:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:59:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:59:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:59:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:59:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:59:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 14:59:53.033 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 14:59:53.033 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 14:59:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:59:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 14:59:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6747ms
2025-07-16 14:59:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.4967ms
2025-07-16 14:59:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 14:59:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 14:59:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.643ms
2025-07-16 14:59:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.9122ms
2025-07-16 14:59:53.047 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 14:59:53.047 +00:00 [INF] CORS policy execution successful.
2025-07-16 14:59:53.047 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:59:53.047 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 14:59:53.072 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 14:59:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 14:59:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.9638ms
2025-07-16 14:59:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 14:59:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.3694ms
2025-07-16 15:00:53.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:00:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:00:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:00:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:00:53.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:00:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:00:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:00:53.031 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:00:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:00:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:00:53.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:00:53.042 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:00:53.043 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:00:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:00:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.0772ms
2025-07-16 15:00:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:00:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.8851ms
2025-07-16 15:00:53.050 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:00:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:00:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.4624ms
2025-07-16 15:00:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:00:53.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.1382ms
2025-07-16 15:00:53.078 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:00:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:00:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.2261ms
2025-07-16 15:00:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:00:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2401ms
2025-07-16 15:01:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:01:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:01:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:01:53.020 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:01:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:01:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:01:53.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:01:53.051 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:01:53.058 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:01:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:01:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.3521ms
2025-07-16 15:01:53.081 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:01:53.081 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:01:53.082 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:01:53.083 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:01:53.083 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:01:53.083 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:01:53.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.74ms
2025-07-16 15:01:53.088 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:01:53.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.5825ms
2025-07-16 15:01:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:01:53.105 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.1876ms
2025-07-16 15:01:53.113 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:01:53.113 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:01:53.113 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.9191ms
2025-07-16 15:01:53.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:01:53.113 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0911ms
2025-07-16 15:02:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:02:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:02:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:02:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:02:53.025 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:02:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:02:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:02:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:02:53.057 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:02:53.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:02:53.063 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:02:53.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:02:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:02:53.072 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:02:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.1656ms
2025-07-16 15:02:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:02:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.6938ms
2025-07-16 15:02:53.091 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:02:53.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:02:53.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 78.4113ms
2025-07-16 15:02:53.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:02:53.113 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 112.9298ms
2025-07-16 15:02:53.151 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:02:53.153 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:02:53.154 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 81.268ms
2025-07-16 15:02:53.154 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:02:53.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.0406ms
2025-07-16 15:03:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:03:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:03:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:03:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:03:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:03:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:03:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:03:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:03:53.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:03:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:03:53.043 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:03:53.043 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:03:53.061 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:03:53.061 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:03:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:03:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:03:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.698ms
2025-07-16 15:03:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.7653ms
2025-07-16 15:03:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:03:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:03:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.6617ms
2025-07-16 15:03:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.5095ms
2025-07-16 15:03:53.081 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:03:53.116 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:03:53.117 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 73.02ms
2025-07-16 15:03:53.117 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:03:53.117 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.7551ms
2025-07-16 15:04:53.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:04:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:04:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:04:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:04:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:04:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:04:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:04:53.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:04:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:04:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:04:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:04:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:04:53.037 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:04:53.038 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:04:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:04:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:04:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.1159ms
2025-07-16 15:04:53.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.983ms
2025-07-16 15:04:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:04:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:04:53.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.1977ms
2025-07-16 15:04:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.736ms
2025-07-16 15:04:53.063 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:04:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:04:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.6986ms
2025-07-16 15:04:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:04:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.4672ms
2025-07-16 15:05:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:05:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:05:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:05:53.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:05:53.047 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:05:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:05:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:05:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:05:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:05:53.059 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:05:53.059 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:05:53.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:05:53.062 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:05:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:05:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.6997ms
2025-07-16 15:05:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:05:53.074 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:05:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.3958ms
2025-07-16 15:05:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:05:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.2436ms
2025-07-16 15:05:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:05:53.093 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.7306ms
2025-07-16 15:05:53.100 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:05:53.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:05:53.101 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.6067ms
2025-07-16 15:05:53.101 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:05:53.101 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.8563ms
2025-07-16 15:06:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:06:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:06:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:06:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:06:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:06:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:06:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:06:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:06:53.044 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:06:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:06:53.047 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:06:53.047 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:06:53.047 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:06:53.051 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:06:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:06:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.6638ms
2025-07-16 15:06:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:06:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:06:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.2626ms
2025-07-16 15:06:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.0233ms
2025-07-16 15:06:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:06:53.080 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.0772ms
2025-07-16 15:06:53.089 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:06:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:06:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.2907ms
2025-07-16 15:06:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:06:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.2387ms
2025-07-16 15:07:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:07:52.983 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:07:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:07:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:07:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:07:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:07:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:07:53.000 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:07:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:07:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:07:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:07:53.009 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:07:53.034 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:07:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:07:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.959ms
2025-07-16 15:07:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:07:53.050 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:07:53.053 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:07:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.7524ms
2025-07-16 15:07:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:07:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:07:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.4058ms
2025-07-16 15:07:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.0099ms
2025-07-16 15:07:53.069 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:07:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:07:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.7062ms
2025-07-16 15:07:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.0369ms
2025-07-16 15:08:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:08:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:08:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:08:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:08:53.020 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:08:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:08:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.6171ms
2025-07-16 15:08:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:08:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.3627ms
2025-07-16 15:08:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:08:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:08:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:08:53.035 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:08:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:08:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:08:53.045 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:08:53.046 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:08:53.047 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:08:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:08:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.7482ms
2025-07-16 15:08:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:08:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.5701ms
2025-07-16 15:08:53.053 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:08:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:08:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 7.2795ms
2025-07-16 15:08:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:08:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.8779ms
2025-07-16 15:09:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:09:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:09:53.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:09:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:09:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:09:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:09:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:09:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:09:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:09:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:09:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:09:53.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:09:53.028 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:09:53.034 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:09:53.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:09:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.6835ms
2025-07-16 15:09:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:09:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:09:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.786ms
2025-07-16 15:09:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:09:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.5043ms
2025-07-16 15:09:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.3767ms
2025-07-16 15:09:53.067 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:09:53.096 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:09:53.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 81.3252ms
2025-07-16 15:09:53.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:09:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.2636ms
2025-07-16 15:10:52.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:10:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:10:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:10:52.985 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:10:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:10:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:10:52.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:10:52.994 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:10:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:10:53.003 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:10:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:10:53.003 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:10:53.024 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:10:53.027 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:10:53.027 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:10:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.1644ms
2025-07-16 15:10:53.028 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:10:53.028 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:10:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9077ms
2025-07-16 15:10:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.3623ms
2025-07-16 15:10:53.035 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:10:53.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7824ms
2025-07-16 15:10:53.047 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:10:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:10:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.6619ms
2025-07-16 15:10:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:10:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.9498ms
2025-07-16 15:11:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:11:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:11:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:11:53.024 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:11:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:11:53.042 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:11:53.042 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:11:53.044 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:11:53.044 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:11:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:11:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.1218ms
2025-07-16 15:11:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:11:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7784ms
2025-07-16 15:11:53.052 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:11:53.052 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:11:53.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:11:53.056 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:11:53.060 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:11:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:11:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.1779ms
2025-07-16 15:11:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:11:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.8063ms
2025-07-16 15:11:53.098 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:11:53.098 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:11:53.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.6449ms
2025-07-16 15:11:53.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:11:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.4772ms
2025-07-16 15:12:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:12:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:12:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:12:53.060 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:12:53.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:12:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:12:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:12:53.066 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:12:53.066 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:12:53.066 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:12:53.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:12:53.066 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:12:53.123 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:12:53.124 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:12:53.125 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:12:53.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 58.9207ms
2025-07-16 15:12:53.126 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:12:53.126 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:12:53.126 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 66.0966ms
2025-07-16 15:12:53.126 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:12:53.129 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.6692ms
2025-07-16 15:12:53.129 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 114.2021ms
2025-07-16 15:12:53.147 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:12:53.148 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:12:53.148 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 82.1004ms
2025-07-16 15:12:53.148 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:12:53.148 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.8281ms
2025-07-16 15:13:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:13:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:13:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:13:53.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:13:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:13:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:13:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:13:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:13:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:13:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:13:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:13:53.026 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:13:53.036 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:13:53.036 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:13:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:13:53.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:13:53.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1822ms
2025-07-16 15:13:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:13:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.417ms
2025-07-16 15:13:53.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:13:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.584ms
2025-07-16 15:13:53.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2088ms
2025-07-16 15:13:53.054 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:13:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:13:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.7425ms
2025-07-16 15:13:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:13:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8663ms
2025-07-16 15:14:53.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:14:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:14:53.045 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:14:53.045 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:14:53.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:14:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:14:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:14:53.065 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:14:53.071 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:14:53.072 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:14:53.073 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:14:53.073 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:14:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:14:53.074 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:14:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.6858ms
2025-07-16 15:14:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:14:53.090 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:14:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:14:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.0919ms
2025-07-16 15:14:53.093 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.0385ms
2025-07-16 15:14:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:14:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5712ms
2025-07-16 15:14:53.108 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:14:53.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:14:53.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.9717ms
2025-07-16 15:14:53.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:14:53.111 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.7449ms
2025-07-16 15:15:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:15:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:15:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:15:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:15:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:15:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:15:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:15:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:15:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:15:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:15:53.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:15:53.000 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:15:53.004 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:15:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:15:53.006 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.3837ms
2025-07-16 15:15:53.006 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:15:53.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0874ms
2025-07-16 15:15:53.009 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:15:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:15:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.9429ms
2025-07-16 15:15:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:15:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8523ms
2025-07-16 15:15:53.014 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:15:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:15:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.838ms
2025-07-16 15:15:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:15:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.4827ms
2025-07-16 15:16:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:16:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:16:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:16:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:16:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:16:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:16:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:16:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:16:53.023 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:16:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:16:53.024 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:16:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:16:53.058 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:16:53.059 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:16:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:16:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.9528ms
2025-07-16 15:16:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:16:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:16:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.6976ms
2025-07-16 15:16:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.277ms
2025-07-16 15:16:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:16:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.8486ms
2025-07-16 15:16:53.081 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:16:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:16:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.4726ms
2025-07-16 15:16:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:16:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.5961ms
2025-07-16 15:17:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:17:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:17:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:17:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:17:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:17:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:17:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:17:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:17:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:17:53.058 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:17:53.058 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:17:53.058 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:17:53.085 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:17:53.086 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:17:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:17:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:17:53.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.344ms
2025-07-16 15:17:53.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.595ms
2025-07-16 15:17:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:17:53.096 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:17:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.508ms
2025-07-16 15:17:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.5534ms
2025-07-16 15:17:53.119 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:17:53.125 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:17:53.126 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.2824ms
2025-07-16 15:17:53.126 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:17:53.126 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.0475ms
2025-07-16 15:18:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:18:52.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:18:52.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:18:52.995 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:18:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:18:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:18:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:18:53.004 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:18:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:18:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:18:53.017 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:18:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:18:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:18:53.019 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:18:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:18:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.7714ms
2025-07-16 15:18:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:18:53.062 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:18:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 58.133ms
2025-07-16 15:18:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:18:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.7385ms
2025-07-16 15:18:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.9283ms
2025-07-16 15:18:53.084 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:18:53.091 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:18:53.091 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 72.35ms
2025-07-16 15:18:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:18:53.093 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.5965ms
2025-07-16 15:19:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:19:52.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:19:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:19:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:19:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:19:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:19:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:19:53.002 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:19:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:19:53.009 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:19:53.009 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:19:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:19:53.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:19:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.8675ms
2025-07-16 15:19:53.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.0916ms
2025-07-16 15:19:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:19:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:19:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:19:53.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.8744ms
2025-07-16 15:19:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:19:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.1541ms
2025-07-16 15:19:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:19:53.044 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:19:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:19:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.506ms
2025-07-16 15:19:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:19:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.522ms
2025-07-16 15:20:53.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:20:53.026 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:20:53.026 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:20:53.026 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:20:53.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:20:53.027 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:20:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:20:53.031 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:20:53.051 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:20:53.052 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:20:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:20:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.6046ms
2025-07-16 15:20:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:20:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3501ms
2025-07-16 15:20:53.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:20:53.062 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:20:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.9253ms
2025-07-16 15:20:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:20:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:20:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:20:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.9804ms
2025-07-16 15:20:53.065 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:20:53.106 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:20:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:20:53.108 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.1733ms
2025-07-16 15:20:53.108 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:20:53.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.947ms
2025-07-16 15:21:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:21:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:21:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:21:52.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:21:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:21:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:21:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:21:53.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:21:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:21:53.013 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:21:53.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:21:53.013 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:21:53.027 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:21:53.029 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:21:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.9784ms
2025-07-16 15:21:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:21:53.029 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:21:53.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.4454ms
2025-07-16 15:21:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:21:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.647ms
2025-07-16 15:21:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:21:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.865ms
2025-07-16 15:21:53.053 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:21:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:21:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.6983ms
2025-07-16 15:21:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:21:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.705ms
2025-07-16 15:22:52.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:22:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:22:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:22:52.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:22:52.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:22:52.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:22:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:22:52.997 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:22:53.010 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:22:53.012 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:22:53.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.2524ms
2025-07-16 15:22:53.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:22:53.017 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:22:53.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:22:53.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.212ms
2025-07-16 15:22:53.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:22:53.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0828ms
2025-07-16 15:22:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:22:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:22:53.023 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0619ms
2025-07-16 15:22:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:22:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:22:53.048 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:22:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:22:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.379ms
2025-07-16 15:22:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:22:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.8768ms
2025-07-16 15:23:52.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:23:52.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:23:52.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:23:52.997 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:23:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:23:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:23:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:23:53.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:23:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:23:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:23:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:23:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:23:53.018 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:23:53.019 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:23:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:23:53.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.9306ms
2025-07-16 15:23:53.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:23:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8125ms
2025-07-16 15:23:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:23:53.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5655ms
2025-07-16 15:23:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:23:53.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8902ms
2025-07-16 15:23:53.052 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:23:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:23:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.8361ms
2025-07-16 15:23:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:23:53.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.5663ms
2025-07-16 15:42:32.698 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 15:42:32.699 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.699 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.2935ms
2025-07-16 15:42:32.699 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 15:42:32.699 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.699 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.3226ms
2025-07-16 15:42:32.705 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 15:42:32.705 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.705 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 15:42:32.705 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 15:42:32.712 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:42:32.712 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 7.2927ms
2025-07-16 15:42:32.712 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 15:42:32.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 7.9001ms
2025-07-16 15:42:32.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 15:42:32.715 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.715 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 15:42:32.715 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 15:42:32.716 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:42:32.716 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2661ms
2025-07-16 15:42:32.716 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 15:42:32.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1375ms
2025-07-16 15:42:32.935 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 15:42:32.935 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.935 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 15:42:32.935 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 15:42:32.935 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.935 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.0467ms
2025-07-16 15:42:32.936 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.5323ms
2025-07-16 15:42:32.935 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.936 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.5384ms
2025-07-16 15:42:32.936 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 15:42:32.938 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.938 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 2.1863ms
2025-07-16 15:42:32.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 15:42:32.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 15:42:32.946 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 15:42:32.945 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 15:42:32.946 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.946 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.946 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.950 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.950 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 15:42:32.950 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 15:42:32.950 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 15:42:32.950 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 15:42:32.950 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 15:42:32.950 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 15:42:32.950 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 15:42:32.950 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 15:42:32.962 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:42:32.965 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:32.966 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 15:42:32.966 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:42:32.966 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:42:32.995 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:32.997 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 15:42:33.002 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.003 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 15:42:33.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 53.4709ms
2025-07-16 15:42:33.004 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 53.5946ms
2025-07-16 15:42:33.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 15:42:33.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 58.5062ms
2025-07-16 15:42:33.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 15:42:33.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 63.1779ms
2025-07-16 15:42:33.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 15:42:33.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:33.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 15:42:33.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 15:42:33.016 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 15:42:33.016 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:33.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 15:42:33.017 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 15:42:33.024 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.025 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 15:42:33.026 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:42:33.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:42:33.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.7914ms
2025-07-16 15:42:33.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:42:33.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 9.6943ms
2025-07-16 15:42:33.026 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 15:42:33.026 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.5917ms
2025-07-16 15:42:33.028 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.029 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 15:42:33.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:42:33.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:33.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:42:33.031 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:42:33.031 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 15:42:33.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.032 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 82.297ms
2025-07-16 15:42:33.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 15:42:33.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 20.9815ms
2025-07-16 15:42:33.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 87.1277ms
2025-07-16 15:42:33.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.035 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:42:33.034 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 18.248ms
2025-07-16 15:42:33.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 15:42:33.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 15:42:33.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 22.2553ms
2025-07-16 15:42:33.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:42:33.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.3553ms
2025-07-16 15:42:33.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:42:33.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:33.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 15:42:33.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.0606ms
2025-07-16 15:42:33.038 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 15:42:33.040 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.042 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 15:42:33.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 7.2147ms
2025-07-16 15:42:33.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 15:42:33.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 10.3192ms
2025-07-16 15:42:33.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.051 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.052 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.056 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.059 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.065 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.066 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.067 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.070 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.073 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.077 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.080 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.083 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.086 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.090 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.092 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.095 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.100 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.102 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.104 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.107 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.108 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.109 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.114 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.115 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.116 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.118 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.121 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.122 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.125 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.126 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.128 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.129 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.131 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.136 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.140 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.142 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.143 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.145 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.149 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.151 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.151 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.153 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 202.829ms
2025-07-16 15:42:33.153 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 15:42:33.153 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 207.7044ms
2025-07-16 15:42:33.156 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 15:42:33.157 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:42:33.157 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 15:42:33.157 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 15:42:33.158 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 15:42:33.162 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.166 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.169 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.171 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.173 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.175 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.179 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.182 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.184 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.185 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.190 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.192 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.198 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.200 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.201 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.206 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.211 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.216 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.217 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.218 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.221 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.223 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.227 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.230 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.231 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.232 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.234 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.236 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.239 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.241 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.247 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.250 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.252 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.253 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.258 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.264 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.266 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.267 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.274 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.284 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.291 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 15:42:33.294 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:42:33.296 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 138.7952ms
2025-07-16 15:42:33.296 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 15:42:33.296 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 139.7253ms
2025-07-16 15:43:02.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:02.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:02.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:43:02.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:43:02.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:02.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:02.994 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:02.995 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:02.995 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:43:02.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:43:02.996 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:43:02.999 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:43:03.032 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:43:03.036 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:43:03.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.1927ms
2025-07-16 15:43:03.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:43:03.042 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:43:03.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.5579ms
2025-07-16 15:43:03.074 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:43:03.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:43:03.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 82.7909ms
2025-07-16 15:43:03.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:43:03.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.1879ms
2025-07-16 15:43:03.080 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:43:03.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 84.0458ms
2025-07-16 15:43:03.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:43:03.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 89.7709ms
2025-07-16 15:43:32.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:32.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:32.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:32.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:43:32.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:32.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:43:32.980 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:43:32.980 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:43:32.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:43:32.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:43:32.981 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:43:32.981 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:43:32.994 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:43:32.997 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:43:32.998 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:43:32.998 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.5407ms
2025-07-16 15:43:32.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:43:32.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:43:32.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.5566ms
2025-07-16 15:43:32.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.8258ms
2025-07-16 15:43:32.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:43:33.004 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:43:33.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.061ms
2025-07-16 15:43:33.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:43:33.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.0758ms
2025-07-16 15:43:33.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:43:33.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6395ms
2025-07-16 15:44:02.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:03.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:03.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:03.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:03.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:44:03.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:44:03.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:44:03.006 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:44:03.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:03.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:03.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:44:03.047 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:44:03.069 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:44:03.070 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:44:03.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:44:03.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 63.6968ms
2025-07-16 15:44:03.070 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:44:03.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:44:03.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 65.705ms
2025-07-16 15:44:03.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.2841ms
2025-07-16 15:44:03.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:44:03.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.0644ms
2025-07-16 15:44:03.087 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:44:03.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:44:03.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.9956ms
2025-07-16 15:44:03.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:44:03.112 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.5454ms
2025-07-16 15:44:32.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:32.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:32.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:32.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:44:32.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:44:32.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:44:32.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:32.990 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:44:32.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:44:32.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:44:32.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:44:32.992 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:44:33.021 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:44:33.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:44:33.024 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:44:33.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.1461ms
2025-07-16 15:44:33.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:44:33.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.5456ms
2025-07-16 15:44:33.035 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:44:33.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:44:33.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.6135ms
2025-07-16 15:44:33.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:44:33.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:44:33.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 80.8436ms
2025-07-16 15:44:33.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:44:33.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.4433ms
2025-07-16 15:44:33.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.8555ms
2025-07-16 15:45:02.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:02.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:02.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:02.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:02.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:45:02.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:45:02.994 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:45:02.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:45:02.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:02.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:02.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:45:03.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:45:03.009 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:45:03.012 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:45:03.038 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:45:03.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:45:03.038 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:45:03.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.7713ms
2025-07-16 15:45:03.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.8797ms
2025-07-16 15:45:03.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:45:03.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:45:03.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:45:03.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.393ms
2025-07-16 15:45:03.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.5441ms
2025-07-16 15:45:03.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.4494ms
2025-07-16 15:45:03.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:45:03.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.8745ms
2025-07-16 15:45:32.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:32.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:32.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:45:32.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:32.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:45:32.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:32.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:45:32.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:45:32.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:45:32.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:45:32.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:45:32.979 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:45:32.990 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:45:32.996 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:45:32.996 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:45:32.997 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.1638ms
2025-07-16 15:45:32.997 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:45:32.998 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:45:33.000 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.2725ms
2025-07-16 15:45:33.001 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:45:33.001 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1269ms
2025-07-16 15:45:33.002 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.2946ms
2025-07-16 15:45:33.013 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:45:33.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:45:33.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.2063ms
2025-07-16 15:45:33.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:45:33.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.5329ms
2025-07-16 15:46:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:46:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:46:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:46:53.010 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:46:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:46:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:46:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:46:53.024 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:46:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:46:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:46:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:46:53.056 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:46:53.056 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:46:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:46:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.6274ms
2025-07-16 15:46:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:46:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.1333ms
2025-07-16 15:46:53.079 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:46:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:46:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 58.0259ms
2025-07-16 15:46:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:46:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.8286ms
2025-07-16 15:46:53.106 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:46:53.108 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:46:53.108 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.7032ms
2025-07-16 15:46:53.108 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:46:53.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.341ms
2025-07-16 15:47:53.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:47:53.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:47:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:47:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:47:53.055 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:47:53.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:47:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:47:53.055 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:47:53.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:47:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:47:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:47:53.066 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:47:53.076 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:47:53.078 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:47:53.082 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:47:53.082 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.5482ms
2025-07-16 15:47:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:47:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.2675ms
2025-07-16 15:47:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:47:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:47:53.107 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:47:53.109 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:47:53.111 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.847ms
2025-07-16 15:47:53.111 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.933ms
2025-07-16 15:47:53.115 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:47:53.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.0724ms
2025-07-16 15:47:53.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.859ms
2025-07-16 15:48:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:48:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:48:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:48:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:48:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:48:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:48:53.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:48:53.058 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:48:53.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:48:53.062 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:48:53.063 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:48:53.063 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:48:53.063 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:48:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:48:53.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.0523ms
2025-07-16 15:48:53.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:48:53.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.2134ms
2025-07-16 15:48:53.081 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:48:53.084 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:48:53.087 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.0117ms
2025-07-16 15:48:53.087 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:48:53.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.8918ms
2025-07-16 15:48:53.094 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:48:53.114 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:48:53.115 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.7383ms
2025-07-16 15:48:53.115 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:48:53.116 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.5457ms
2025-07-16 15:49:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:49:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:49:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:49:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:49:52.998 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:49:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:49:52.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:49:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:49:52.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.3756ms
2025-07-16 15:49:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:49:52.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:49:52.999 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:49:52.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5383ms
2025-07-16 15:49:53.024 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:49:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:49:53.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.2674ms
2025-07-16 15:49:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:49:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:49:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3489ms
2025-07-16 15:49:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:49:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:49:53.028 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:49:53.044 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:49:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:49:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6136ms
2025-07-16 15:49:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:49:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.0172ms
2025-07-16 15:50:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:50:53.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:50:53.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:50:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:50:53.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:50:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:50:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:50:53.030 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:50:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:50:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:50:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:50:53.041 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:50:53.070 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:50:53.071 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:50:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:50:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.2726ms
2025-07-16 15:50:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:50:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:50:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.7635ms
2025-07-16 15:50:53.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.171ms
2025-07-16 15:50:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:50:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.9228ms
2025-07-16 15:50:53.105 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:50:53.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:50:53.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.4035ms
2025-07-16 15:50:53.111 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:50:53.111 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.4895ms
2025-07-16 15:51:52.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:51:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:51:52.985 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:51:52.985 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:51:52.985 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:51:52.986 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:51:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:51:52.990 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:51:53.010 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:51:53.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:51:53.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.0495ms
2025-07-16 15:51:53.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:51:53.017 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:51:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:51:53.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2123ms
2025-07-16 15:51:53.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.6669ms
2025-07-16 15:51:53.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:51:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:51:53.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.5674ms
2025-07-16 15:51:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:51:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:51:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:51:53.046 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:51:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:51:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.4589ms
2025-07-16 15:51:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:51:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6051ms
2025-07-16 15:52:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:52:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:52:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:52:52.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:52:52.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:52:52.989 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:52:52.989 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:52:52.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:52:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:52:52.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:52:52.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:52:52.992 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:52:53.013 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:52:53.013 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:52:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:52:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.1076ms
2025-07-16 15:52:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:52:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.7739ms
2025-07-16 15:52:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:52:53.068 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 75.4938ms
2025-07-16 15:52:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:52:53.072 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:52:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.0035ms
2025-07-16 15:52:53.074 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:52:53.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 82.8101ms
2025-07-16 15:52:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:52:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.8611ms
2025-07-16 15:53:53.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:53:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:53:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:53:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:53:53.023 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:53:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:53:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:53:53.024 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:53:53.044 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:53:53.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:53:53.045 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:53:53.053 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:53:53.064 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:53:53.073 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:53:53.080 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:53:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:53:53.081 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 57.2795ms
2025-07-16 15:53:53.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:53:53.086 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:53:53.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 62.6392ms
2025-07-16 15:53:53.087 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:53:53.088 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.2287ms
2025-07-16 15:53:53.088 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.6465ms
2025-07-16 15:53:53.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:53:53.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.6863ms
2025-07-16 15:53:53.089 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:53:53.090 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.7906ms
2025-07-16 15:54:52.980 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:54:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:54:52.982 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:54:52.982 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:54:52.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:54:52.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:54:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:54:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:54:53.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:54:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:54:53.016 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:54:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:54:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:54:53.022 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:54:53.023 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:54:53.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.9473ms
2025-07-16 15:54:53.024 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:54:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:54:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.5979ms
2025-07-16 15:54:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:54:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.7417ms
2025-07-16 15:54:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.2189ms
2025-07-16 15:54:53.055 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:54:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:54:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.2256ms
2025-07-16 15:54:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:54:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1299ms
2025-07-16 15:56:21.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:21.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:21.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:21.050 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:21.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:56:21.050 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:56:21.050 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:56:21.050 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:56:21.103 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:21.108 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:56:21.109 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:56:21.109 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.8377ms
2025-07-16 15:56:21.109 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:56:21.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.8178ms
2025-07-16 15:56:21.130 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:56:21.130 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:56:21.130 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 80.4483ms
2025-07-16 15:56:21.130 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:56:21.131 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.2021ms
2025-07-16 15:56:21.166 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:21.168 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:56:21.168 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:56:21.186 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:56:21.187 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:56:21.187 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.4227ms
2025-07-16 15:56:21.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:56:21.187 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.7998ms
2025-07-16 15:56:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:56:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:53.030 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:56:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:56:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:56:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:56:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:56:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:56:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:56:53.041 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:56:53.041 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:56:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:56:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:56:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.0961ms
2025-07-16 15:56:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:56:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.8188ms
2025-07-16 15:56:53.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:56:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1672ms
2025-07-16 15:56:53.048 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:56:53.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7701ms
2025-07-16 15:56:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:56:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.2341ms
2025-07-16 15:56:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:56:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.3922ms
2025-07-16 15:57:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:57:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:57:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:57:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:57:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:57:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:57:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:57:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:57:53.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:57:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:57:53.011 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:57:53.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:57:53.031 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:57:53.040 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:57:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:57:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.2857ms
2025-07-16 15:57:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:57:53.047 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:57:53.049 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:57:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.8548ms
2025-07-16 15:57:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:57:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:57:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 64.8151ms
2025-07-16 15:57:53.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.1259ms
2025-07-16 15:57:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:57:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.2807ms
2025-07-16 15:57:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.4565ms
2025-07-16 15:58:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:58:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:58:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:58:53.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:58:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:58:53.048 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:58:53.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:58:53.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:58:53.048 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:58:53.048 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:58:53.048 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:58:53.049 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:58:53.053 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:58:53.080 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:58:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:58:53.080 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:58:53.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.6164ms
2025-07-16 15:58:53.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.816ms
2025-07-16 15:58:53.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:58:53.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:58:53.101 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.5504ms
2025-07-16 15:58:53.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.4157ms
2025-07-16 15:58:53.108 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:58:53.109 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:58:53.109 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.1856ms
2025-07-16 15:58:53.109 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:58:53.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.8368ms
2025-07-16 15:59:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:59:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:59:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:59:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:59:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:59:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:59:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 15:59:53.019 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:59:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 15:59:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 15:59:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:59:53.019 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 15:59:53.042 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 15:59:53.042 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 15:59:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:59:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2863ms
2025-07-16 15:59:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 15:59:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 15:59:53.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8943ms
2025-07-16 15:59:53.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 15:59:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.2131ms
2025-07-16 15:59:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4514ms
2025-07-16 15:59:53.059 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 15:59:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 15:59:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.8372ms
2025-07-16 15:59:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 15:59:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.5263ms
2025-07-16 16:00:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:00:53.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:00:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:00:53.001 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:00:53.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:00:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:00:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:00:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:00:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:00:53.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:00:53.031 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:00:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:00:53.031 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:00:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:00:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.6727ms
2025-07-16 16:00:53.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:00:53.042 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:00:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.7115ms
2025-07-16 16:00:53.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:00:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.4598ms
2025-07-16 16:00:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:00:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.0531ms
2025-07-16 16:00:53.054 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:00:53.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:00:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.1669ms
2025-07-16 16:00:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:00:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.7091ms
2025-07-16 16:01:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:01:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:01:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:01:53.044 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:01:53.058 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:01:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:01:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.7339ms
2025-07-16 16:01:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:01:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6448ms
2025-07-16 16:01:53.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:01:53.061 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:01:53.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:01:53.062 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:01:53.068 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:01:53.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:01:53.068 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:01:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:01:53.074 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:01:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.14ms
2025-07-16 16:01:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:01:53.074 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:01:53.080 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7857ms
2025-07-16 16:01:53.113 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:01:53.113 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:01:53.113 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.2814ms
2025-07-16 16:01:53.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:01:53.113 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.8091ms
2025-07-16 16:02:52.977 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:02:52.979 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:02:52.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:02:52.979 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:02:52.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:02:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:02:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:02:52.988 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:02:52.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:02:52.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:02:52.996 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:02:53.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:02:53.004 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:02:53.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:02:53.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.1316ms
2025-07-16 16:02:53.010 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:02:53.011 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6961ms
2025-07-16 16:02:53.012 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:02:53.014 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:02:53.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.9323ms
2025-07-16 16:02:53.014 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:02:53.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2544ms
2025-07-16 16:02:53.025 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:02:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:02:53.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.0699ms
2025-07-16 16:02:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:02:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2145ms
2025-07-16 16:03:53.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:03:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:03:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:03:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:03:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:03:53.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:03:53.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:03:53.015 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:03:53.042 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:03:53.046 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:03:53.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.0821ms
2025-07-16 16:03:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:03:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.179ms
2025-07-16 16:03:53.064 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:03:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:03:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.2065ms
2025-07-16 16:03:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:03:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.2576ms
2025-07-16 16:03:53.066 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:03:53.070 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:03:53.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:03:53.071 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:03:53.108 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:03:53.108 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:03:53.108 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.2075ms
2025-07-16 16:03:53.109 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:03:53.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.7669ms
2025-07-16 16:04:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:04:52.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:04:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:04:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:04:53.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:04:53.019 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:04:53.019 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:04:53.019 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:04:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:04:53.027 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:04:53.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:04:53.027 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:04:53.053 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:04:53.055 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:04:53.055 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:04:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.2232ms
2025-07-16 16:04:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:04:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:04:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.1886ms
2025-07-16 16:04:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.4501ms
2025-07-16 16:04:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:04:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.478ms
2025-07-16 16:04:53.077 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:04:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:04:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 72.9114ms
2025-07-16 16:04:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:04:53.103 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.2668ms
2025-07-16 16:05:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:05:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:05:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:05:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:05:52.986 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:05:52.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:05:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:05:52.986 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:05:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:05:52.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:05:52.988 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:05:52.988 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:05:53.018 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:05:53.018 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:05:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:05:53.019 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:05:53.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.3595ms
2025-07-16 16:05:53.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7079ms
2025-07-16 16:05:53.024 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:05:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:05:53.044 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:05:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.6907ms
2025-07-16 16:05:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:05:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.0868ms
2025-07-16 16:05:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.1143ms
2025-07-16 16:05:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:05:53.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.3603ms
2025-07-16 16:06:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:06:53.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:06:53.006 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:06:53.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:06:53.047 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:06:53.049 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:06:53.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:06:53.051 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:06:53.051 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:06:53.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:06:53.052 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:06:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:06:53.052 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:06:53.053 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:06:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.8517ms
2025-07-16 16:06:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:06:53.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.371ms
2025-07-16 16:06:53.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:06:53.072 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:06:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:06:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:06:53.074 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4707ms
2025-07-16 16:06:53.074 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:06:53.077 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.4036ms
2025-07-16 16:06:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:06:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.4993ms
2025-07-16 16:06:53.077 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6378ms
2025-07-16 16:07:53.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:07:53.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:07:53.017 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:07:53.017 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:07:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:07:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:07:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:07:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:07:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:07:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:07:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:07:53.045 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:07:53.056 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:07:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:07:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.7558ms
2025-07-16 16:07:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:07:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.2782ms
2025-07-16 16:07:53.069 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:07:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:07:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.8676ms
2025-07-16 16:07:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:07:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.9081ms
2025-07-16 16:07:53.089 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:07:53.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:07:53.112 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.346ms
2025-07-16 16:07:53.112 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:07:53.112 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.0624ms
2025-07-16 16:08:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:08:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:08:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:08:53.025 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:08:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:08:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:08:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:08:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:08:53.054 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:08:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:08:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.8253ms
2025-07-16 16:08:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:08:53.060 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:08:53.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.2318ms
2025-07-16 16:08:53.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:08:53.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.7434ms
2025-07-16 16:08:53.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:08:53.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.5326ms
2025-07-16 16:08:53.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:08:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:08:53.098 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:08:53.100 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:08:53.107 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:08:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:08:53.110 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 10.0959ms
2025-07-16 16:08:53.110 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:08:53.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.9807ms
2025-07-16 16:09:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:09:53.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:09:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:09:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:09:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:09:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:09:53.032 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:09:53.033 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:09:53.058 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:09:53.059 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:09:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:09:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:09:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.7277ms
2025-07-16 16:09:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1428ms
2025-07-16 16:09:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:09:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:09:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1853ms
2025-07-16 16:09:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.086ms
2025-07-16 16:09:53.078 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:09:53.120 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:09:53.120 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:09:53.123 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:09:53.138 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:09:53.138 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:09:53.138 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.0514ms
2025-07-16 16:09:53.138 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:09:53.138 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.561ms
2025-07-16 16:10:52.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:10:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:10:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:10:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:10:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:10:52.999 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:10:52.999 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:10:53.002 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:10:53.022 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:10:53.022 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:10:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:10:53.022 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:10:53.022 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.1208ms
2025-07-16 16:10:53.022 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:10:53.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.9664ms
2025-07-16 16:10:53.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:10:53.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3482ms
2025-07-16 16:10:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:10:53.032 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8236ms
2025-07-16 16:10:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:10:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:10:53.032 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:10:53.050 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:10:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:10:53.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.3638ms
2025-07-16 16:10:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:10:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.5611ms
2025-07-16 16:11:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:11:53.011 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:11:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:11:53.012 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:11:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:11:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:11:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:11:53.033 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:11:53.033 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:11:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:11:53.034 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:11:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:11:53.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.7431ms
2025-07-16 16:11:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:11:53.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:11:53.034 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:11:53.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.2556ms
2025-07-16 16:11:53.036 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:11:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:11:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.1728ms
2025-07-16 16:11:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:11:53.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.3085ms
2025-07-16 16:11:53.068 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:11:53.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:11:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.7745ms
2025-07-16 16:11:53.070 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:11:53.070 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.4867ms
2025-07-16 16:12:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:12:53.002 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:12:53.003 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:12:53.003 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:12:53.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:12:53.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:12:53.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:12:53.012 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:12:53.020 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:12:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:12:53.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:12:53.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:12:53.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2118ms
2025-07-16 16:12:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:12:53.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:12:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:12:53.029 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.147ms
2025-07-16 16:12:53.035 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:12:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:12:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.3812ms
2025-07-16 16:12:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:12:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.812ms
2025-07-16 16:12:53.063 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:12:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:12:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.6813ms
2025-07-16 16:12:53.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:12:53.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.4763ms
2025-07-16 16:13:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:13:53.017 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:13:53.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:13:53.020 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:13:53.041 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:13:53.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:13:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.0526ms
2025-07-16 16:13:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:13:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1612ms
2025-07-16 16:13:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:13:53.055 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:13:53.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:13:53.055 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:13:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:13:53.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:13:53.055 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:13:53.055 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:13:53.066 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:13:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:13:53.069 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:13:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:13:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.7906ms
2025-07-16 16:13:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:13:53.074 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.572ms
2025-07-16 16:13:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4254ms
2025-07-16 16:13:53.077 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:13:53.078 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.1216ms
2025-07-16 16:14:53.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:14:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:14:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:14:53.018 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:14:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:14:53.036 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:14:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:14:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:14:53.040 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:14:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:14:53.064 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:14:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:14:53.065 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:14:53.065 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:14:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:14:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:14:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.2945ms
2025-07-16 16:14:53.069 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.0224ms
2025-07-16 16:14:53.069 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:14:53.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7911ms
2025-07-16 16:14:53.082 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:14:53.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.1418ms
2025-07-16 16:14:53.090 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:14:53.096 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:14:53.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.4739ms
2025-07-16 16:14:53.097 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:14:53.097 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.8081ms
2025-07-16 16:15:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:15:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:15:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:15:53.034 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:15:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:15:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:15:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:15:53.046 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:15:53.066 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:15:53.067 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:15:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:15:53.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:15:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.869ms
2025-07-16 16:15:53.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.67ms
2025-07-16 16:15:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:15:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:15:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.927ms
2025-07-16 16:15:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3199ms
2025-07-16 16:15:53.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:15:53.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:15:53.069 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:15:53.071 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:15:53.127 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:15:53.127 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:15:53.127 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.6215ms
2025-07-16 16:15:53.127 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:15:53.127 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.4514ms
2025-07-16 16:16:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:16:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:16:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:16:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:16:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:16:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:16:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:16:53.034 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:16:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:16:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:16:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:16:53.034 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:16:53.045 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:16:53.053 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:16:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:16:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:16:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.651ms
2025-07-16 16:16:53.055 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.7933ms
2025-07-16 16:16:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:16:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:16:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5184ms
2025-07-16 16:16:53.084 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:16:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.7018ms
2025-07-16 16:16:53.099 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:16:53.100 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.5894ms
2025-07-16 16:16:53.100 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:16:53.100 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.5281ms
2025-07-16 16:17:53.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:17:53.046 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:17:53.046 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:17:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:17:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:17:53.046 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:17:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:17:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:17:53.046 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:17:53.046 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:17:53.046 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:17:53.046 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:17:53.068 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:17:53.069 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:17:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:17:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.3264ms
2025-07-16 16:17:53.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:17:53.081 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:17:53.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.756ms
2025-07-16 16:17:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:17:53.092 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:17:53.099 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.3089ms
2025-07-16 16:17:53.105 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.5915ms
2025-07-16 16:17:53.106 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:17:53.106 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.5988ms
2025-07-16 16:17:53.106 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:17:53.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.9797ms
2025-07-16 16:18:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:18:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:18:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:18:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:18:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:18:53.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:18:53.033 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:18:53.033 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:18:53.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:18:53.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:18:53.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:18:53.036 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:18:53.070 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:18:53.078 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:18:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:18:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:18:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.3304ms
2025-07-16 16:18:53.078 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:18:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.5204ms
2025-07-16 16:18:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.2466ms
2025-07-16 16:18:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:18:53.080 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.5224ms
2025-07-16 16:18:53.115 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:18:53.133 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:18:53.133 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 97.3531ms
2025-07-16 16:18:53.133 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:18:53.133 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.0111ms
2025-07-16 16:19:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:19:53.027 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:19:53.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:19:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:19:53.028 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:19:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:19:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:19:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:19:53.032 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:19:53.032 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:19:53.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:19:53.032 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:19:53.042 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:19:53.042 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:19:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:19:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.421ms
2025-07-16 16:19:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:19:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:19:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.2368ms
2025-07-16 16:19:53.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.9988ms
2025-07-16 16:19:53.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:19:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.2097ms
2025-07-16 16:19:53.064 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:19:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:19:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.9236ms
2025-07-16 16:19:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:19:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.4709ms
2025-07-16 16:20:53.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:20:53.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:20:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:20:53.030 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:20:53.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:20:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:20:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:20:53.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:20:53.037 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:20:53.037 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:20:53.037 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:20:53.037 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:20:53.064 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:20:53.071 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:20:53.071 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:20:53.071 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.6452ms
2025-07-16 16:20:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:20:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:20:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.925ms
2025-07-16 16:20:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:20:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.5542ms
2025-07-16 16:20:53.093 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.314ms
2025-07-16 16:20:53.101 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:20:53.107 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:20:53.107 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 70.3474ms
2025-07-16 16:20:53.107 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:20:53.107 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.8389ms
2025-07-16 16:21:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:21:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:21:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:21:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:21:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:21:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:21:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:21:53.058 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:21:53.058 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:21:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:21:53.060 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:21:53.061 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:21:53.069 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:21:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:21:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.2666ms
2025-07-16 16:21:53.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:21:53.081 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:21:53.082 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.3248ms
2025-07-16 16:21:53.085 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:21:53.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.7271ms
2025-07-16 16:21:53.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:21:53.101 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:21:53.115 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.8571ms
2025-07-16 16:21:53.115 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:21:53.116 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.8832ms
2025-07-16 16:21:53.117 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:21:53.117 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.9836ms
2025-07-16 16:22:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:22:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:22:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:22:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:22:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:22:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:22:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:22:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:22:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:22:53.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:22:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:22:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:22:53.044 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:22:53.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:22:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.2892ms
2025-07-16 16:22:53.046 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:22:53.051 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:22:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:22:53.052 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:22:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9232ms
2025-07-16 16:22:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4368ms
2025-07-16 16:22:53.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:22:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4693ms
2025-07-16 16:22:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:22:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.1449ms
2025-07-16 16:22:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:22:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.4126ms
2025-07-16 16:23:53.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:23:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:23:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:23:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:23:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:23:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:23:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:23:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:23:53.058 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:23:53.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:23:53.059 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:23:53.059 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:23:53.083 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:23:53.096 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:23:53.096 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:23:53.096 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.7384ms
2025-07-16 16:23:53.099 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:23:53.099 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:23:53.106 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:23:53.106 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:23:53.106 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.2787ms
2025-07-16 16:23:53.106 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.4606ms
2025-07-16 16:23:53.106 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:23:53.106 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:23:53.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.1263ms
2025-07-16 16:23:53.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.125ms
2025-07-16 16:23:53.109 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.6111ms
2025-07-16 16:24:53.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:24:53.075 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:24:53.075 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:24:53.075 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:24:53.075 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:24:53.075 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:24:53.075 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:24:53.075 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:24:53.076 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:24:53.079 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:24:53.079 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:24:53.079 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:24:53.097 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:24:53.101 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:24:53.104 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:24:53.113 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.4799ms
2025-07-16 16:24:53.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:24:53.113 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:24:53.117 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:24:53.120 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.5623ms
2025-07-16 16:24:53.120 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:24:53.121 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.3748ms
2025-07-16 16:24:53.121 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.1963ms
2025-07-16 16:24:53.122 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:24:53.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.7564ms
2025-07-16 16:24:53.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:24:53.136 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.5331ms
2025-07-16 16:25:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:25:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:25:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:25:53.024 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:25:53.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:25:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:25:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:25:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:25:53.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:25:53.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:25:53.039 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:25:53.039 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:25:53.049 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:25:53.050 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:25:53.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.5146ms
2025-07-16 16:25:53.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:25:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.4189ms
2025-07-16 16:25:53.054 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:25:53.083 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:25:53.091 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:25:53.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 57.43ms
2025-07-16 16:25:53.097 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:25:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.1874ms
2025-07-16 16:25:53.098 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:25:53.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.5221ms
2025-07-16 16:25:53.098 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:25:53.098 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.5778ms
2025-07-16 16:26:53.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:26:53.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:26:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:26:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:26:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:26:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:26:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:26:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:26:53.016 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:26:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:26:53.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:26:53.016 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:26:53.029 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:26:53.033 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:26:53.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:26:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.7588ms
2025-07-16 16:26:53.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:26:53.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:26:53.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.5405ms
2025-07-16 16:26:53.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:26:53.038 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:26:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.4337ms
2025-07-16 16:26:53.052 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3658ms
2025-07-16 16:26:53.053 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:26:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.5426ms
2025-07-16 16:26:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:26:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.5429ms
2025-07-16 16:27:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:27:53.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:27:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:27:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:27:53.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:27:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:27:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:27:53.031 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:27:53.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:27:53.031 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:27:53.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:27:53.031 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:27:53.051 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:27:53.052 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:27:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:27:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:27:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.3225ms
2025-07-16 16:27:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.2508ms
2025-07-16 16:27:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:27:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:27:53.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.9139ms
2025-07-16 16:27:53.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.0675ms
2025-07-16 16:27:53.071 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:27:53.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:27:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.737ms
2025-07-16 16:27:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:27:53.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.4743ms
2025-07-16 16:28:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:28:53.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:28:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:28:53.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:28:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:28:53.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:28:53.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:28:53.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:28:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:28:53.021 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:28:53.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:28:53.021 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:28:53.034 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:28:53.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:28:53.035 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.4435ms
2025-07-16 16:28:53.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:28:53.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.4569ms
2025-07-16 16:28:53.037 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:28:53.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:28:53.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.4692ms
2025-07-16 16:28:53.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:28:53.052 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:28:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.9803ms
2025-07-16 16:28:53.054 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:28:53.054 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.9084ms
2025-07-16 16:28:53.055 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:28:53.055 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.2259ms
2025-07-16 16:29:53.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:29:53.039 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:29:53.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:29:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:29:53.040 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:29:53.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:29:53.040 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:29:53.040 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:29:53.040 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:29:53.041 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:29:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:29:53.041 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:29:53.073 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:29:53.073 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:29:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:29:53.075 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:29:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.9176ms
2025-07-16 16:29:53.076 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.0564ms
2025-07-16 16:29:53.076 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:29:53.080 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:29:53.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.9877ms
2025-07-16 16:29:53.113 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:29:53.136 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:29:53.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 102.997ms
2025-07-16 16:29:53.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:29:53.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.2626ms
2025-07-16 16:29:53.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 103.5254ms
2025-07-16 16:30:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:30:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:30:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:30:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:30:53.000 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:30:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:30:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:30:53.000 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:30:53.001 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:30:53.001 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:30:53.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:30:53.002 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:30:53.057 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:30:53.057 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:30:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:30:53.057 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:30:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.7303ms
2025-07-16 16:30:53.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 55.2386ms
2025-07-16 16:30:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:30:53.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:30:53.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.1435ms
2025-07-16 16:30:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.69ms
2025-07-16 16:30:53.090 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:30:53.092 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:30:53.092 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 89.3889ms
2025-07-16 16:30:53.092 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:30:53.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 92.4129ms
2025-07-16 16:31:53.021 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:31:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:31:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:31:53.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:31:53.041 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:31:53.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:31:53.042 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:31:53.043 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:31:53.043 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:31:53.043 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:31:53.043 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:31:53.043 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:31:53.052 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:31:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:31:53.053 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.3622ms
2025-07-16 16:31:53.053 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:31:53.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.3712ms
2025-07-16 16:31:53.068 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:31:53.068 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:31:53.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1258ms
2025-07-16 16:31:53.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:31:53.078 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:31:53.093 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.4547ms
2025-07-16 16:31:53.094 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:31:53.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.2109ms
2025-07-16 16:31:53.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:31:53.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.0984ms
2025-07-16 16:32:53.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:32:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:32:53.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:32:53.011 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:32:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:32:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:32:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:32:53.029 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:32:53.038 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:32:53.042 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:32:53.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.0935ms
2025-07-16 16:32:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:32:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.8321ms
2025-07-16 16:32:53.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:32:53.057 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:32:53.057 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:32:53.057 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:32:53.077 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:32:53.083 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:32:53.084 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 72.6068ms
2025-07-16 16:32:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:32:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.653ms
2025-07-16 16:32:53.100 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:32:53.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:32:53.102 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.5497ms
2025-07-16 16:32:53.102 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:32:53.102 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1358ms
2025-07-16 16:33:52.978 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:33:52.981 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:33:52.986 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:33:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:33:52.988 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:33:52.988 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:33:52.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:33:52.993 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:33:53.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:33:53.037 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:33:53.037 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:33:53.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:33:53.041 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:33:53.041 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:33:53.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.8228ms
2025-07-16 16:33:53.042 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:33:53.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:33:53.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.0604ms
2025-07-16 16:33:53.058 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:33:53.059 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 65.3453ms
2025-07-16 16:33:53.059 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:33:53.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 80.6594ms
2025-07-16 16:33:53.090 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:33:53.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:33:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.7628ms
2025-07-16 16:33:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:33:53.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.4781ms
2025-07-16 16:34:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:34:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:34:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:34:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:34:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:34:53.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:34:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:34:53.025 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:34:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:34:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:34:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:34:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:34:53.041 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:34:53.043 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:34:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:34:53.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:34:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.7499ms
2025-07-16 16:34:53.066 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.9744ms
2025-07-16 16:34:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:34:53.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:34:53.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.8462ms
2025-07-16 16:34:53.071 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:34:53.084 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.5915ms
2025-07-16 16:34:53.085 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:34:53.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.1595ms
2025-07-16 16:34:53.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:34:53.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.2366ms
2025-07-16 16:35:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:35:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:35:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:35:53.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:35:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:35:53.004 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:35:53.004 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:35:53.004 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:35:53.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:35:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:35:53.007 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:35:53.007 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:35:53.071 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:35:53.071 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:35:53.072 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:35:53.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 68.0127ms
2025-07-16 16:35:53.072 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:35:53.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.2781ms
2025-07-16 16:35:53.113 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:35:53.115 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:35:53.115 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 107.914ms
2025-07-16 16:35:53.115 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:35:53.116 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:35:53.118 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 114.2057ms
2025-07-16 16:35:53.119 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 114.3103ms
2025-07-16 16:35:53.119 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:35:53.119 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 115.6998ms
2025-07-16 16:36:03.148 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 16:36:03.148 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 16:36:03.149 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.149 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.149 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.1429ms
2025-07-16 16:36:03.149 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.1442ms
2025-07-16 16:36:03.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 16:36:03.153 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.153 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:36:03.154 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:36:03.155 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:36:03.155 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.3293ms
2025-07-16 16:36:03.155 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:36:03.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.0897ms
2025-07-16 16:36:03.157 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 16:36:03.157 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.158 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:36:03.158 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:36:03.158 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:36:03.158 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2184ms
2025-07-16 16:36:03.158 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:36:03.158 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.0123ms
2025-07-16 16:36:03.629 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:36:03.631 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 16:36:03.631 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.631 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.632 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 2.6529ms
2025-07-16 16:36:03.632 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.2479ms
2025-07-16 16:36:03.634 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 16:36:03.634 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.634 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.2942ms
2025-07-16 16:36:03.635 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:36:03.637 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.637 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 2.028ms
2025-07-16 16:36:03.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:36:03.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:36:03.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 16:36:03.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 16:36:03.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:36:03.657 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.657 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.657 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:36:03.657 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:36:03.657 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:36:03.657 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:36:03.657 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:03.661 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 16:36:03.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:36:03.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:36:03.662 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:36:03.662 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:36:03.676 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 16:36:03.677 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 16:36:03.689 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.691 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:36:03.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 29.89ms
2025-07-16 16:36:03.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:36:03.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 35.9325ms
2025-07-16 16:36:03.692 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:36:03.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.0861ms
2025-07-16 16:36:03.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:03.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.3654ms
2025-07-16 16:36:03.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 16:36:03.696 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.696 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:36:03.696 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 16:36:03.713 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 16:36:03.714 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:36:03.716 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.716 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:03.719 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:36:03.730 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 16:36:03.735 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.735 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:36:03.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 74.2306ms
2025-07-16 16:36:03.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:36:03.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 80.8552ms
2025-07-16 16:36:03.738 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 16:36:03.738 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 42.227ms
2025-07-16 16:36:03.739 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:36:03.739 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.739 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.739 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:36:03.740 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 78.0389ms
2025-07-16 16:36:03.740 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:36:03.740 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.740 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:36:03.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 84.0193ms
2025-07-16 16:36:03.741 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:36:03.741 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:36:03.746 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:36:03.751 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:03.751 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 55.4225ms
2025-07-16 16:36:03.751 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:36:03.752 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:36:03.764 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.3306ms
2025-07-16 16:36:03.764 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:03.765 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.780 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 16:36:03.780 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 16:36:03.791 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.792 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.2673ms
2025-07-16 16:36:03.793 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.794 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 53.0704ms
2025-07-16 16:36:03.794 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:36:03.799 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 60.3096ms
2025-07-16 16:36:03.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.800 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 47.8261ms
2025-07-16 16:36:03.800 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:36:03.801 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 54.1064ms
2025-07-16 16:36:03.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.804 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.814 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.821 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.822 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.824 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.830 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.832 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.835 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.837 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.839 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.840 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.842 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.845 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.849 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.854 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.856 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.857 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.858 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.860 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.861 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.866 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.869 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.871 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.873 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.874 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.883 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.886 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.888 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.889 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.892 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.894 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.896 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.899 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.903 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.905 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.909 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.915 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.918 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.923 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.924 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.927 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.935 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.937 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.939 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.942 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.943 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.949 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.954 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.957 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.961 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.971 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.973 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.976 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.980 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.989 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:03.991 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:03.995 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 337.9706ms
2025-07-16 16:36:03.995 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:36:03.995 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 338.7185ms
2025-07-16 16:36:04.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 16:36:04.001 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:04.002 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:36:04.002 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:36:04.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 16:36:04.007 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.017 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.020 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.022 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.023 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.026 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.029 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.033 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.036 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.038 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.040 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.045 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.049 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.051 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.063 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.069 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.077 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.083 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.089 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.092 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.095 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.100 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.102 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.109 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.111 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.116 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.119 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.122 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.126 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.128 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.137 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.139 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.142 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.150 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.157 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.158 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.160 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.163 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.166 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.168 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.173 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.175 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.179 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.183 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.185 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.186 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.188 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.191 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.192 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.194 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.201 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.205 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.210 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.222 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.224 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.230 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.234 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.238 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.240 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.242 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.250 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.253 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:36:04.253 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:04.256 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 254.0444ms
2025-07-16 16:36:04.256 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:36:04.256 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 255.6301ms
2025-07-16 16:36:33.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:36:33.990 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:36:33.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:33.991 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:33.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:36:33.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:33.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:36:33.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:36:33.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:36:33.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:36:33.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:36:33.992 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:36:34.006 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:36:34.010 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:34.010 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.6996ms
2025-07-16 16:36:34.011 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:36:34.011 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:36:34.013 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:36:34.014 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.9509ms
2025-07-16 16:36:34.015 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:36:34.015 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.3576ms
2025-07-16 16:36:34.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.9275ms
2025-07-16 16:36:34.026 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:36:34.031 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:36:34.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.6401ms
2025-07-16 16:36:34.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:36:34.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.4465ms
2025-07-16 16:37:04.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:04.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:04.036 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:04.036 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:04.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:37:04.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:37:04.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:04.036 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:37:04.036 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:37:04.037 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:04.037 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:37:04.037 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:37:04.058 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:37:04.059 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:37:04.059 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:37:04.060 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:37:04.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.8811ms
2025-07-16 16:37:04.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8091ms
2025-07-16 16:37:04.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:37:04.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:37:04.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7757ms
2025-07-16 16:37:04.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7624ms
2025-07-16 16:37:04.072 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:37:04.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:37:04.086 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.9289ms
2025-07-16 16:37:04.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:37:04.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.304ms
2025-07-16 16:37:33.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:33.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:33.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:33.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:33.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:37:33.993 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:37:33.993 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:37:33.993 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:37:33.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:37:33.993 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:37:33.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:37:33.995 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:37:34.005 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:37:34.010 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:37:34.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:37:34.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.6109ms
2025-07-16 16:37:34.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:37:34.017 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:37:34.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.3501ms
2025-07-16 16:37:34.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:37:34.019 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.9871ms
2025-07-16 16:37:34.021 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:37:34.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.9925ms
2025-07-16 16:37:34.038 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:37:34.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.6448ms
2025-07-16 16:37:34.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:37:34.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.9764ms
2025-07-16 16:38:03.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:03.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:03.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:03.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:03.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:38:03.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:38:03.992 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:38:03.992 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:03.992 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:38:03.992 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:03.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:38:03.996 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:38:04.007 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:38:04.007 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:38:04.018 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:38:04.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:38:04.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2215ms
2025-07-16 16:38:04.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.7392ms
2025-07-16 16:38:04.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:38:04.019 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:38:04.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.3294ms
2025-07-16 16:38:04.022 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.8028ms
2025-07-16 16:38:04.042 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:38:04.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:38:04.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.8009ms
2025-07-16 16:38:04.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:38:04.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.1216ms
2025-07-16 16:38:34.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:34.007 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:34.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:34.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:34.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:38:34.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:38:34.008 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:38:34.008 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:38:34.008 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:38:34.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:38:34.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:38:34.008 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:38:34.022 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:38:34.027 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:38:34.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:38:34.038 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:38:34.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.5683ms
2025-07-16 16:38:34.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:38:34.039 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:38:34.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1968ms
2025-07-16 16:38:34.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:38:34.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:38:34.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2848ms
2025-07-16 16:38:34.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3413ms
2025-07-16 16:38:34.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.7414ms
2025-07-16 16:38:34.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:38:34.056 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.263ms
2025-07-16 16:39:03.995 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:03.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:03.996 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:03.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:39:03.997 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:39:03.997 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:03.997 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:39:03.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:03.997 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:39:03.998 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:03.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:39:03.998 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:39:04.006 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:39:04.016 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:39:04.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:39:04.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.4316ms
2025-07-16 16:39:04.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:39:04.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:39:04.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4414ms
2025-07-16 16:39:04.018 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.2241ms
2025-07-16 16:39:04.018 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:39:04.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.9802ms
2025-07-16 16:39:04.021 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:39:04.026 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:39:04.026 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.6389ms
2025-07-16 16:39:04.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:39:04.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.5986ms
2025-07-16 16:39:53.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:53.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:53.065 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:39:53.065 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:39:53.065 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:39:53.065 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:39:53.069 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:39:53.069 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:39:53.069 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:39:53.069 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:39:53.088 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:39:53.093 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:39:53.093 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.2214ms
2025-07-16 16:39:53.093 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:39:53.094 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:39:53.111 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:39:53.113 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:39:53.114 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.6257ms
2025-07-16 16:39:53.114 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:39:53.114 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.0587ms
2025-07-16 16:39:53.115 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.8909ms
2025-07-16 16:39:53.116 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:39:53.116 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.7441ms
2025-07-16 16:39:53.118 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:39:53.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.4383ms
2025-07-16 16:40:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:40:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:40:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:40:53.024 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:40:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:40:53.024 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:40:53.025 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:40:53.025 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:40:53.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:40:53.025 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:40:53.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:40:53.025 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:40:53.034 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:40:53.038 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:40:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:40:53.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.2701ms
2025-07-16 16:40:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:40:53.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:40:53.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.5051ms
2025-07-16 16:40:53.049 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.0153ms
2025-07-16 16:40:53.049 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:40:53.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.2097ms
2025-07-16 16:40:53.063 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:40:53.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:40:53.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.9761ms
2025-07-16 16:40:53.066 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:40:53.067 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.7922ms
2025-07-16 16:41:53.091 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:41:53.092 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:41:53.092 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:41:53.093 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:41:53.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:41:53.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:41:53.094 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:41:53.094 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:41:53.094 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:41:53.094 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:41:53.094 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:41:53.095 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:41:53.115 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:41:53.123 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:41:53.123 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:41:53.124 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:41:53.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.9784ms
2025-07-16 16:41:53.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:41:53.136 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.8689ms
2025-07-16 16:41:53.144 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:41:53.146 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:41:53.152 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.5569ms
2025-07-16 16:41:53.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:41:53.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.5211ms
2025-07-16 16:41:53.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.7628ms
2025-07-16 16:41:53.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:41:53.156 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.6857ms
2025-07-16 16:42:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:42:53.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:42:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:42:53.058 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:42:53.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:42:53.059 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:42:53.059 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:42:53.059 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:42:53.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:42:53.066 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:42:53.066 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:42:53.066 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:42:53.076 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:42:53.081 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:42:53.087 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:42:53.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.9644ms
2025-07-16 16:42:53.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:42:53.096 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:42:53.097 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.1762ms
2025-07-16 16:42:53.097 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:42:53.114 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:42:53.123 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.7527ms
2025-07-16 16:42:53.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.1023ms
2025-07-16 16:42:53.124 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:42:53.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.572ms
2025-07-16 16:42:53.125 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:42:53.126 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.9542ms
2025-07-16 16:55:00.462 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:00.463 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:00.463 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:55:00.463 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:00.507 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:00.510 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:00.510 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:00.510 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:00.513 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:55:00.514 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:00.514 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:00.515 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.0107ms
2025-07-16 16:55:00.523 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:00.523 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:55:00.524 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:55:00.524 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:55:00.524 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:55:00.568 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:00.570 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.6564ms
2025-07-16 16:55:00.573 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 110.9839ms
2025-07-16 16:55:00.574 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:00.576 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 109.6961ms
2025-07-16 16:55:00.583 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:55:00.584 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:00.584 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.4041ms
2025-07-16 16:55:00.584 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:55:00.584 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.4726ms
2025-07-16 16:55:05.923 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 16:55:05.923 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-16 16:55:05.924 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:05.924 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:05.924 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.5837ms
2025-07-16 16:55:05.924 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.5791ms
2025-07-16 16:55:05.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 16:55:05.927 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:05.927 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:55:05.927 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:55:05.927 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:05.928 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.0851ms
2025-07-16 16:55:05.928 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:55:05.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.0494ms
2025-07-16 16:55:05.934 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-16 16:55:05.934 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:05.934 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:55:05.934 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:55:05.934 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:05.934 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2456ms
2025-07-16 16:55:05.934 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-16 16:55:05.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.3193ms
2025-07-16 16:55:06.254 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-16 16:55:06.254 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:55:06.255 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.255 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.255 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.7175ms
2025-07-16 16:55:06.255 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.7417ms
2025-07-16 16:55:06.255 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-16 16:55:06.255 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:55:06.256 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.256 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.256 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.6175ms
2025-07-16 16:55:06.256 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.7872ms
2025-07-16 16:55:06.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:55:06.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 16:55:06.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 16:55:06.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:06.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:55:06.268 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.268 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.268 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.268 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.268 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:06.268 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:55:06.268 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:55:06.268 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:06.268 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.268 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 16:55:06.268 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:55:06.268 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:55:06.272 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:55:06.273 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:55:06.272 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:55:06.284 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:55:06.285 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 16:55:06.286 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:06.286 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8918ms
2025-07-16 16:55:06.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:06.289 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.7485ms
2025-07-16 16:55:06.289 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 16:55:06.290 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.295 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 27.0916ms
2025-07-16 16:55:06.295 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:55:06.295 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 30.0269ms
2025-07-16 16:55:06.296 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:06.296 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.296 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:06.297 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:06.308 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 16:55:06.322 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 16:55:06.326 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.334 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 56.0591ms
2025-07-16 16:55:06.334 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.334 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.334 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:55:06.334 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 66.777ms
2025-07-16 16:55:06.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 66.605ms
2025-07-16 16:55:06.335 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:55:06.342 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.342 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-16 16:55:06.342 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-16 16:55:06.351 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.351 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.351 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:55:06.351 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:55:06.351 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-16 16:55:06.351 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:55:06.358 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-16 16:55:06.358 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.358 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:55:06.358 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-16 16:55:06.375 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:55:06.376 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-16 16:55:06.385 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.387 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:06.388 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 91.0465ms
2025-07-16 16:55:06.388 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:06.390 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.7643ms
2025-07-16 16:55:06.393 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 124.9836ms
2025-07-16 16:55:06.397 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.398 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 46.5882ms
2025-07-16 16:55:06.398 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-16 16:55:06.398 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 55.5365ms
2025-07-16 16:55:06.398 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.413 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-16 16:55:06.414 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.415 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-16 16:55:06.422 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 64.0012ms
2025-07-16 16:55:06.431 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.435 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-16 16:55:06.449 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 86.3786ms
2025-07-16 16:55:06.450 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.450 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 99.2446ms
2025-07-16 16:55:06.450 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-16 16:55:06.451 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 108.3224ms
2025-07-16 16:55:06.452 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.455 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.457 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.459 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.461 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.466 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.472 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.474 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.476 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.491 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.502 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.510 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.514 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.524 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.527 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.530 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.533 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.540 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.548 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.558 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.561 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.564 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.571 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.573 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.584 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.589 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.593 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.595 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.602 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.606 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.608 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.609 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.616 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.618 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.624 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.626 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.628 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.634 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.636 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.639 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.646 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.649 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.652 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.654 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.665 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.668 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.674 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.676 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 403.3858ms
2025-07-16 16:55:06.676 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:55:06.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 408.6365ms
2025-07-16 16:55:06.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-16 16:55:06.678 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:06.678 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:55:06.679 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-16 16:55:06.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-16 16:55:06.685 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.698 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.700 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.702 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.718 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.734 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.737 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.750 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.765 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.767 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.771 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.775 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.788 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.791 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.799 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.809 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.818 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.821 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.823 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.826 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.832 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.838 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.840 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.842 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.848 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.851 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.856 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.858 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.860 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.867 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.870 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.874 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.876 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.879 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.884 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.889 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.892 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.894 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.898 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.911 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.915 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.918 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.924 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.926 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.928 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-16 16:55:06.934 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:06.937 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 258.584ms
2025-07-16 16:55:06.937 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-16 16:55:06.937 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 259.745ms
2025-07-16 16:55:37.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:37.010 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:37.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:37.010 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:37.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:55:37.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:37.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:55:37.014 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:37.014 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:55:37.014 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:55:37.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:55:37.014 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:55:37.027 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:55:37.032 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:55:37.033 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5364ms
2025-07-16 16:55:37.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:55:37.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.6585ms
2025-07-16 16:55:37.036 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:55:37.040 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:37.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.8138ms
2025-07-16 16:55:37.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:55:37.043 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6684ms
2025-07-16 16:55:37.061 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:55:37.070 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:55:37.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.1367ms
2025-07-16 16:55:37.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:55:37.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 61.216ms
2025-07-16 16:56:07.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:07.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:07.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:07.015 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:07.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:07.015 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:56:07.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:56:07.015 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:07.016 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:56:07.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:56:07.016 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:56:07.016 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:56:07.060 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:56:07.088 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:56:07.091 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:56:07.103 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 86.8215ms
2025-07-16 16:56:07.104 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:56:07.119 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:56:07.124 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:56:07.124 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:56:07.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 108.3554ms
2025-07-16 16:56:07.125 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:56:07.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 109.0019ms
2025-07-16 16:56:07.125 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:56:07.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 111.3271ms
2025-07-16 16:56:07.134 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 119.4389ms
2025-07-16 16:56:07.135 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 119.5199ms
2025-07-16 16:56:37.020 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:37.020 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:37.020 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:56:37.020 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:56:37.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:37.029 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:37.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:56:37.030 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:56:37.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:56:37.035 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:56:37.035 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:56:37.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:56:37.037 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:56:37.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:56:37.038 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.8725ms
2025-07-16 16:56:37.038 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:56:37.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.6088ms
2025-07-16 16:56:37.054 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:56:37.056 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:56:37.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.2176ms
2025-07-16 16:56:37.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:56:37.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9222ms
2025-07-16 16:56:37.063 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:56:37.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:56:37.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.0284ms
2025-07-16 16:56:37.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:56:37.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4045ms
2025-07-16 16:57:07.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:07.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:07.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:07.004 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:07.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:57:07.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:57:07.006 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:57:07.006 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:57:07.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:07.008 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:07.008 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:57:07.013 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:57:07.015 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:57:07.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:57:07.024 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0699ms
2025-07-16 16:57:07.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:57:07.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.361ms
2025-07-16 16:57:07.035 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:57:07.035 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:57:07.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:57:07.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.7727ms
2025-07-16 16:57:07.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:57:07.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.6679ms
2025-07-16 16:57:07.057 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:57:07.058 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.8984ms
2025-07-16 16:57:07.058 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:57:07.059 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.465ms
2025-07-16 16:57:37.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:37.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:37.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:37.005 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:37.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:57:37.005 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:57:37.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:57:37.011 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:57:37.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:57:37.012 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:57:37.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:57:37.015 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:57:37.020 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:57:37.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:57:37.023 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.441ms
2025-07-16 16:57:37.023 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:57:37.029 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:57:37.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.605ms
2025-07-16 16:57:37.040 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:57:37.039 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:57:37.041 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1417ms
2025-07-16 16:57:37.041 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:57:37.042 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:57:37.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.309ms
2025-07-16 16:57:37.042 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.167ms
2025-07-16 16:57:37.042 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:57:37.042 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1845ms
2025-07-16 16:58:07.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:07.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:07.038 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:07.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:58:07.042 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:58:07.042 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:07.042 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:07.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:58:07.044 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:58:07.044 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:07.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:58:07.045 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:58:07.049 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:58:07.049 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:58:07.062 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:58:07.063 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:58:07.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.3858ms
2025-07-16 16:58:07.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:58:07.066 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:58:07.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:58:07.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.3881ms
2025-07-16 16:58:07.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.7521ms
2025-07-16 16:58:07.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:58:07.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:58:07.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8656ms
2025-07-16 16:58:07.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.8017ms
2025-07-16 16:58:07.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.5557ms
2025-07-16 16:58:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:53.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:58:53.007 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:58:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:58:53.009 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:58:53.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:58:53.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:58:53.009 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:58:53.010 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:58:53.024 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:58:53.029 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:58:53.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:58:53.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.2488ms
2025-07-16 16:58:53.032 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:58:53.037 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0913ms
2025-07-16 16:58:53.047 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:58:53.047 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:58:53.047 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.6534ms
2025-07-16 16:58:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:58:53.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.6067ms
2025-07-16 16:58:53.051 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:58:53.052 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.0778ms
2025-07-16 16:58:53.054 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:58:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.1749ms
2025-07-16 16:59:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:59:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:59:53.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 16:59:53.023 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:59:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:59:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:59:53.028 +00:00 [INF] CORS policy execution successful.
2025-07-16 16:59:53.028 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:59:53.029 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:59:53.029 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:59:53.029 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 16:59:53.028 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 16:59:53.039 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 16:59:53.039 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 16:59:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 16:59:53.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:59:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.4767ms
2025-07-16 16:59:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.6341ms
2025-07-16 16:59:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 16:59:53.044 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 16:59:53.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.0093ms
2025-07-16 16:59:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1456ms
2025-07-16 16:59:53.051 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 16:59:53.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 16:59:53.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.7449ms
2025-07-16 16:59:53.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 16:59:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.8811ms
2025-07-16 17:00:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:00:53.018 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:00:53.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:00:53.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:00:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:00:53.022 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:00:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:00:53.022 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:00:53.022 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 17:00:53.022 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:00:53.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:00:53.022 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:00:53.037 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 17:00:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:00:53.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.7863ms
2025-07-16 17:00:53.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:00:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.5396ms
2025-07-16 17:00:53.048 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 17:00:53.052 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 17:00:53.062 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.4386ms
2025-07-16 17:00:53.062 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:00:53.062 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.9929ms
2025-07-16 17:00:53.069 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 17:00:53.078 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:00:53.078 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.7679ms
2025-07-16 17:00:53.078 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:00:53.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.7741ms
2025-07-16 17:01:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:01:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:01:53.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:01:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:01:53.033 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:01:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:01:53.034 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 17:01:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:01:53.034 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:01:53.036 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:01:53.036 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:01:53.036 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:01:53.067 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 17:01:53.069 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 17:01:53.070 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.5897ms
2025-07-16 17:01:53.071 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:01:53.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.3626ms
2025-07-16 17:01:53.078 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 17:01:53.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:01:53.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.1437ms
2025-07-16 17:01:53.084 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:01:53.087 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.8546ms
2025-07-16 17:01:53.111 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 17:01:53.115 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:01:53.115 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 78.8383ms
2025-07-16 17:01:53.115 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:01:53.115 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 93.8897ms
2025-07-16 17:02:52.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:02:52.987 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:02:52.987 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:02:52.987 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:02:52.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:02:52.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:02:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:02:52.999 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:02:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:02:53.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:02:53.000 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 17:02:53.000 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:02:53.010 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 17:02:53.013 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:02:53.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.63ms
2025-07-16 17:02:53.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:02:53.013 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.636ms
2025-07-16 17:02:53.021 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 17:02:53.031 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 17:02:53.032 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:02:53.032 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.7883ms
2025-07-16 17:02:53.033 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:02:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0657ms
2025-07-16 17:02:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 17:02:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.4619ms
2025-07-16 17:02:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:02:53.054 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.075ms
2025-07-16 17:03:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:03:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:03:53.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:03:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:03:53.016 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:03:53.016 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:03:53.016 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:03:53.018 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-16 17:03:53.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-16 17:03:53.034 +00:00 [INF] CORS policy execution successful.
2025-07-16 17:03:53.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:03:53.041 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-16 17:03:53.043 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-16 17:03:53.043 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-16 17:03:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:03:53.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.822ms
2025-07-16 17:03:53.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-16 17:03:53.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-16 17:03:53.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6731ms
2025-07-16 17:03:53.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.6355ms
2025-07-16 17:03:53.047 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-16 17:03:53.047 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7524ms
2025-07-16 17:03:53.060 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-16 17:03:53.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-16 17:03:53.061 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.7905ms
2025-07-16 17:03:53.061 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-16 17:03:53.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3085ms
