2025-07-18 09:24:04.983 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-18 09:24:06.024 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-18 09:24:06.076 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:06.077 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-18 09:24:07.188 +00:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-18 09:24:07.285 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-18 09:24:07.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-18 09:24:07.658 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-18 09:24:07.658 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-18 09:24:07.836 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-18 09:24:07.837 +00:00 [INF] Hosting environment: Development
2025-07-18 09:24:07.837 +00:00 [INF] Content root path: C:\Users\pc\source\repos\papa-kwame\PersonaXFleet
2025-07-18 09:24:08.530 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-18 09:24:08.906 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 397.1981ms
2025-07-18 09:24:08.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-18 09:24:08.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-18 09:24:08.936 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 10.6032ms
2025-07-18 09:24:09.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.2108ms
2025-07-18 09:24:09.105 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-18 09:24:09.222 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.1803ms
2025-07-18 09:33:17.916 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 09:33:17.916 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 09:33:17.941 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:17.941 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:17.946 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 30.7073ms
2025-07-18 09:33:17.946 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 30.7071ms
2025-07-18 09:33:17.950 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 09:33:17.955 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:17.989 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 09:33:18.025 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:18.043 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:18.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 09:33:18.056 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.057 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 09:33:18.058 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:18.058 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 27.671ms
2025-07-18 09:33:18.059 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 09:33:18.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 111.5742ms
2025-07-18 09:33:18.072 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:18.073 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 14.7467ms
2025-07-18 09:33:18.073 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 09:33:18.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 18.0514ms
2025-07-18 09:33:18.278 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-18 09:33:18.279 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:33:18.281 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.282 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:33:18.282 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 3.9503ms
2025-07-18 09:33:18.283 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:33:18.283 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.284 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 5.3655ms
2025-07-18 09:33:18.286 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.286 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.286 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 3.1056ms
2025-07-18 09:33:18.286 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 5.4261ms
2025-07-18 09:33:18.286 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:33:18.286 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:33:18.286 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-18 09:33:18.286 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:33:18.292 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.292 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 5.8019ms
2025-07-18 09:33:18.299 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.299 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.300 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 13.7023ms
2025-07-18 09:33:18.300 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:18.300 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 13.6186ms
2025-07-18 09:33:18.313 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.313 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 26.9259ms
2025-07-18 09:33:18.313 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.321 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-18 09:33:18.321 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:33:18.321 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:33:18.321 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:33:18.322 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.322 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.322 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.324 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.337 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:33:18.337 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:33:18.337 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:33:18.337 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:33:18.337 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:18.353 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:18.353 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:33:18.353 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:18.353 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:18.364 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:33:18.564 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:33:18.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:18.839 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:33:18.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:18.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 496.5311ms
2025-07-18 09:33:18.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:18.865 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:18.865 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.865 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:18.866 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:33:18.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 572.3189ms
2025-07-18 09:33:18.876 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:33:18.879 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:18.879 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.4196ms
2025-07-18 09:33:18.879 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:18.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.6135ms
2025-07-18 09:33:18.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 530.4052ms
2025-07-18 09:33:18.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:33:18.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 562.9624ms
2025-07-18 09:33:18.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-18 09:33:18.887 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:18.887 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:33:18.887 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:33:18.893 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:33:18.896 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:18.897 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 9.2644ms
2025-07-18 09:33:18.897 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:33:18.897 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 10.9929ms
2025-07-18 09:33:19.002 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:33:19.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.015 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:33:19.018 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 686.1878ms
2025-07-18 09:33:19.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:33:19.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 718.8498ms
2025-07-18 09:33:19.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:33:19.044 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-18 09:33:19.044 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:33:19.044 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.045 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.045 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 692.0494ms
2025-07-18 09:33:19.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 724.7499ms
2025-07-18 09:33:19.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:33:19.049 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.049 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.049 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:33:19.056 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.057 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 12.2965ms
2025-07-18 09:33:19.057 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:33:19.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 14.2159ms
2025-07-18 09:33:19.062 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:33:19.063 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 13.9345ms
2025-07-18 09:33:19.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 15.7982ms
2025-07-18 09:33:19.072 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 719.1868ms
2025-07-18 09:33:19.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:33:19.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 752.109ms
2025-07-18 09:33:19.077 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:33:19.079 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.079 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:33:19.079 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.086 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-18 09:33:19.087 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.087 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 8.1598ms
2025-07-18 09:33:19.087 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:33:19.088 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 11.4199ms
2025-07-18 09:33:19.169 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:19.169 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:33:19.171 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.171 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.171 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 2.3638ms
2025-07-18 09:33:19.171 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.447ms
2025-07-18 09:33:19.172 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:33:19.172 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:19.173 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.174 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.1642ms
2025-07-18 09:33:19.175 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:19.175 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:33:19.176 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.177 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.177 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 5.7989ms
2025-07-18 09:33:19.177 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.178 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:33:19.178 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:33:19.185 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.185 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-18 09:33:19.222 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-18 09:33:19.222 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-18 09:33:19.222 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-18 09:33:19.222 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.222 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.222 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.222 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:33:19.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:33:19.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:33:19.238 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.238 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.240 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-18 09:33:19.241 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.242 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.245 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-18 09:33:19.246 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 60.6686ms
2025-07-18 09:33:19.246 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:33:19.246 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 71.7246ms
2025-07-18 09:33:19.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:33:19.249 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:33:19.250 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.256 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-18 09:33:19.257 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.258 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 7.7609ms
2025-07-18 09:33:19.258 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:33:19.258 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 9.3213ms
2025-07-18 09:33:19.280 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-18 09:33:19.283 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.291 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 51.5788ms
2025-07-18 09:33:19.291 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:33:19.291 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 70.5451ms
2025-07-18 09:33:19.300 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-18 09:33:19.304 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.305 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:33:19.306 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.346 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-18 09:33:19.352 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.364 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-18 09:33:19.365 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.365 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 122.6616ms
2025-07-18 09:33:19.365 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:33:19.366 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 59.0605ms
2025-07-18 09:33:19.366 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:33:19.366 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 144.0505ms
2025-07-18 09:33:19.366 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 67.1506ms
2025-07-18 09:33:19.374 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-18 09:33:19.375 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.378 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:33:19.387 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.387 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-18 09:33:19.395 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-18 09:33:19.395 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-18 09:33:19.395 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.395 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:19.396 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 9.0856ms
2025-07-18 09:33:19.396 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:33:19.396 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 22.2692ms
2025-07-18 09:33:19.397 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:19.400 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 158.8759ms
2025-07-18 09:33:19.400 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.401 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 179.3224ms
2025-07-18 09:33:19.402 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 163.2576ms
2025-07-18 09:33:19.402 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:33:19.403 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-18 09:33:19.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 181.483ms
2025-07-18 09:33:19.403 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.403 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.403 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.404 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-18 09:33:19.405 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.405 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:33:19.405 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:19.412 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-18 09:33:19.413 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:19.413 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 9.7617ms
2025-07-18 09:33:19.413 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:33:19.414 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 11.4218ms
2025-07-18 09:33:19.416 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-18 09:33:19.417 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:19.418 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 12.8366ms
2025-07-18 09:33:19.418 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:33:19.419 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 14.5239ms
2025-07-18 09:33:19.452 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-18 09:33:19.453 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.454 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 268.8499ms
2025-07-18 09:33:19.454 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:33:19.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 279.5485ms
2025-07-18 09:33:19.457 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:19.457 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:19.457 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:33:19.457 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:33:19.466 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-18 09:33:19.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-18 09:33:19.469 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:19.469 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 11.486ms
2025-07-18 09:33:19.469 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:33:19.469 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.8097ms
2025-07-18 09:33:48.318 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:48.318 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:48.320 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:33:48.323 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:48.323 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:48.323 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:48.324 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:33:48.324 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:33:48.324 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:48.324 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:33:48.348 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:33:48.355 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:33:48.355 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:33:48.356 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:33:48.358 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.5875ms
2025-07-18 09:33:48.358 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:33:48.359 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.5062ms
2025-07-18 09:33:48.377 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:33:48.379 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:48.396 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.3438ms
2025-07-18 09:33:48.396 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:33:48.396 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.8334ms
2025-07-18 09:33:48.402 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:33:48.402 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:48.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.8701ms
2025-07-18 09:33:48.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:33:48.403 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.7734ms
2025-07-18 09:33:58.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/roles - null null
2025-07-18 09:33:58.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-18 09:33:58.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:33:58.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:58.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:58.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:58.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:33:58.838 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:33:58.838 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-18 09:33:58.840 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:33:58.840 +00:00 [INF] Route matched with {action = "GetAllRoles", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllRoles() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:58.841 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:58.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-18 09:33:58.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 3.072ms
2025-07-18 09:33:58.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:33:58.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 6.3143ms
2025-07-18 09:33:58.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-18 09:33:58.846 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:58.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:33:58.847 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:33:58.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-18 09:33:58.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 3.4627ms
2025-07-18 09:33:58.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:33:58.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 5.3195ms
2025-07-18 09:33:58.857 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2025-07-18 09:33:58.857 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:33:58.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-07-18 09:33:58.865 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet) in 25.1737ms
2025-07-18 09:33:58.865 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-18 09:33:58.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/roles - 200 null application/json; charset=utf-8 28.6661ms
2025-07-18 09:33:58.869 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/roles - null null
2025-07-18 09:33:58.869 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:58.869 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-18 09:33:58.869 +00:00 [INF] Route matched with {action = "GetAllRoles", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAllRoles() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:58.871 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
2025-07-18 09:33:58.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Microsoft.AspNetCore.Identity.IdentityRole, Microsoft.Extensions.Identity.Stores, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-07-18 09:33:58.872 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet) in 2.4809ms
2025-07-18 09:33:58.872 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllRoles (PersonaXFleet)'
2025-07-18 09:33:58.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/roles - 200 null application/json; charset=utf-8 4.0808ms
2025-07-18 09:33:58.894 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.904 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.913 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.918 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.922 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.925 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.928 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.940 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.944 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.946 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.952 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.954 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.956 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.958 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.960 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.964 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.968 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.970 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.974 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.976 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.977 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.979 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.982 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.986 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.988 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.990 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.992 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.994 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:58.997 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.001 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.006 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.008 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.012 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.014 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.018 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.020 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.022 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.024 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.025 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.029 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.031 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.035 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.037 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.039 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.043 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.045 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.047 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.051 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.057 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.059 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.065 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.069 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.072 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.076 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.078 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.080 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.084 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.089 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.091 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.094 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.097 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.102 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.105 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.108 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.111 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.114 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.118 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.121 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.124 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.126 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.128 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.131 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.137 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.139 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.140 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:59.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:33:59.153 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:33:59.153 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:33:59.154 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:33:59.154 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 312.186ms
2025-07-18 09:33:59.154 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:33:59.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 316.9539ms
2025-07-18 09:33:59.156 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:33:59.164 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.172 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.183 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.185 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.190 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.192 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.194 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.198 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.201 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.206 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.217 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.222 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.223 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.227 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.231 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.233 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.241 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.247 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.250 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.252 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.254 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.255 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.258 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.265 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.267 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.282 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.285 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.318 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.321 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.324 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.327 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.330 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.331 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.333 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.337 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.338 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.340 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.342 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.347 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.349 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.351 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.357 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.359 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.365 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.367 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:33:59.368 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:33:59.375 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 221.3828ms
2025-07-18 09:33:59.375 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:33:59.375 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 222.867ms
2025-07-18 09:34:18.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:18.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:18.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:18.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:18.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:18.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:18.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:34:18.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:34:18.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:34:18.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:34:18.802 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:18.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:34:18.807 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:34:18.812 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:34:18.812 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:18.812 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:18.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6432ms
2025-07-18 09:34:18.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.8208ms
2025-07-18 09:34:18.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:34:18.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:34:18.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.2064ms
2025-07-18 09:34:18.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.042ms
2025-07-18 09:34:18.815 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:34:18.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:18.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.9391ms
2025-07-18 09:34:18.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:34:18.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.1265ms
2025-07-18 09:34:33.108 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:34:33.109 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-18 09:34:33.109 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:34:33.109 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.109 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.109 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:34:33.110 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.5696ms
2025-07-18 09:34:33.109 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.109 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:34:33.110 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.4876ms
2025-07-18 09:34:33.110 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.110 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.110 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.2906ms
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.3593ms
2025-07-18 09:34:33.110 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.6182ms
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.1138ms
2025-07-18 09:34:33.110 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-18 09:34:33.110 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.5361ms
2025-07-18 09:34:33.113 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.118 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 7.2761ms
2025-07-18 09:34:33.129 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:34:33.129 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-18 09:34:33.129 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:34:33.129 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:34:33.130 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.130 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.130 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.130 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.130 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:34:33.130 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:33.130 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:34:33.130 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:34:33.130 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:34:33.130 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:33.131 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:33.130 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:33.148 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:34:33.148 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:34:33.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.150 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 19.3578ms
2025-07-18 09:34:33.150 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 19.4443ms
2025-07-18 09:34:33.150 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:34:33.150 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:33.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 21.3772ms
2025-07-18 09:34:33.151 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 21.2551ms
2025-07-18 09:34:33.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-18 09:34:33.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:34:33.154 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:34:33.154 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-18 09:34:33.154 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.154 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:34:33.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:33.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.154 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:34:33.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.154 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:33.154 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 23.6317ms
2025-07-18 09:34:33.154 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 23.6069ms
2025-07-18 09:34:33.154 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:34:33.154 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:34:33.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 25.6065ms
2025-07-18 09:34:33.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 25.5839ms
2025-07-18 09:34:33.157 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:34:33.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-18 09:34:33.159 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-18 09:34:33.159 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.159 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:33.159 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.159 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:34:33.159 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:34:33.159 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:33.159 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:33.160 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 5.3155ms
2025-07-18 09:34:33.160 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:33.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 6.9666ms
2025-07-18 09:34:33.163 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:34:33.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.206 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 51.3838ms
2025-07-18 09:34:33.206 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:34:33.206 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 52.8515ms
2025-07-18 09:34:33.224 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-18 09:34:33.228 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.232 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 73.2571ms
2025-07-18 09:34:33.233 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-18 09:34:33.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 75.6594ms
2025-07-18 09:34:33.240 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:34:33.240 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:33.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 81.3037ms
2025-07-18 09:34:33.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:34:33.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 83.2085ms
2025-07-18 09:34:35.195 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:34:35.195 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:35.195 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:35.195 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-18 09:34:35.196 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.6823ms
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 0.7323ms
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:34:35.196 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-18 09:34:35.196 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.196 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 0.316ms
2025-07-18 09:34:35.196 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:34:35.196 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.196 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.196 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:34:35.196 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.197 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.197 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:34:35.197 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.198 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.198 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.6921ms
2025-07-18 09:34:35.203 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:35.203 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.214 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:34:35.216 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.258 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-18 09:34:35.258 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-18 09:34:35.259 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.260 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 62.8541ms
2025-07-18 09:34:35.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:34:35.260 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:35.260 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 62.5147ms
2025-07-18 09:34:35.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:34:35.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 64.323ms
2025-07-18 09:34:35.269 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 73.5054ms
2025-07-18 09:34:35.269 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-18 09:34:35.269 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-18 09:34:35.270 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-18 09:34:35.270 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-18 09:34:35.270 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-18 09:34:35.270 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.271 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.271 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:34:35.271 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.271 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.271 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:34:35.271 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:34:35.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 80.2553ms
2025-07-18 09:34:35.272 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.286 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:34:35.286 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-18 09:34:35.272 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:35.286 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.286 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 90.1489ms
2025-07-18 09:34:35.286 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:34:35.286 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 89.9388ms
2025-07-18 09:34:35.286 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.286 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.286 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:34:35.287 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 69.0297ms
2025-07-18 09:34:35.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:34:35.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 91.337ms
2025-07-18 09:34:35.287 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-18 09:34:35.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.025ms
2025-07-18 09:34:35.288 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.288 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 16.9828ms
2025-07-18 09:34:35.294 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-18 09:34:35.301 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 31.5923ms
2025-07-18 09:34:35.306 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-18 09:34:35.311 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-18 09:34:35.311 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-18 09:34:35.311 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.311 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.311 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:35.311 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:34:35.311 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:34:35.312 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.312 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.312 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.312 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:34:35.312 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:34:35.320 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:35.320 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 34.4525ms
2025-07-18 09:34:35.321 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-18 09:34:35.321 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 51.1289ms
2025-07-18 09:34:35.329 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-18 09:34:35.332 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-18 09:34:35.332 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-18 09:34:35.334 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.334 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 48.6016ms
2025-07-18 09:34:35.335 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:34:35.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 65.0089ms
2025-07-18 09:34:35.336 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-18 09:34:35.337 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 24.9935ms
2025-07-18 09:34:35.337 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:35.338 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-18 09:34:35.338 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-18 09:34:35.338 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 26.1904ms
2025-07-18 09:34:35.338 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-18 09:34:35.338 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.338 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 27.1598ms
2025-07-18 09:34:35.338 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-18 09:34:35.338 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 26.0259ms
2025-07-18 09:34:35.338 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:35.338 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-18 09:34:35.338 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 27.5186ms
2025-07-18 09:34:35.339 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.5479ms
2025-07-18 09:34:35.339 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:34:35.339 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:35.348 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-18 09:34:35.349 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:35.349 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 10.4177ms
2025-07-18 09:34:35.349 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-18 09:34:35.349 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 11.5243ms
2025-07-18 09:34:36.586 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-18 09:34:36.586 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:36.586 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:36.587 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:34:36.622 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:34:36.623 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:36.624 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 36.7439ms
2025-07-18 09:34:36.624 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:34:36.624 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 38.218ms
2025-07-18 09:34:48.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:48.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:48.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:48.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:34:48.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:34:48.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:34:48.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:48.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:48.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:34:48.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:34:48.795 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:34:48.795 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:34:48.802 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:34:48.804 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:34:48.808 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:34:48.810 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:48.810 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.6887ms
2025-07-18 09:34:48.811 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.9693ms
2025-07-18 09:34:48.812 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:34:48.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:34:48.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.2153ms
2025-07-18 09:34:48.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.902ms
2025-07-18 09:34:48.822 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:34:48.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:48.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.839ms
2025-07-18 09:34:48.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:34:48.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.2965ms
2025-07-18 09:34:50.886 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:34:50.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-18 09:34:50.887 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:50.887 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:50.887 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-18 09:34:50.887 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:34:50.888 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-18 09:34:50.893 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:50.893 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:34:50.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:34:50.894 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:34:50.896 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-18 09:34:50.896 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 2.1863ms
2025-07-18 09:34:50.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:34:50.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 9.0076ms
2025-07-18 09:34:50.898 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:34:50.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-18 09:34:50.899 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:50.899 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:34:50.899 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:34:50.900 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:34:50.900 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-18 09:34:50.900 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.0523ms
2025-07-18 09:34:50.901 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-18 09:34:50.901 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 2.1427ms
2025-07-18 09:34:50.912 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.914 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.917 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.919 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.924 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.927 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.930 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.933 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.935 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.936 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.942 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.945 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.950 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.954 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.960 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.964 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.965 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.967 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.969 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.971 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.981 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.983 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.984 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.986 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.988 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.993 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.996 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:50.998 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.000 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.002 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.005 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.009 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.012 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.014 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.017 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.019 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.020 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.022 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.025 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.031 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.033 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.036 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.038 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.041 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.044 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.046 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.052 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.057 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.059 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.062 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.066 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.066 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-18 09:34:51.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.069 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.075 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.078 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.084 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.086 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.092 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.095 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.100 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.101 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.105 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.109 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.111 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.115 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.118 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.123 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.127 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.127 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:51.130 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 236.5259ms
2025-07-18 09:34:51.130 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:34:51.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 244.1059ms
2025-07-18 09:34:51.132 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:34:51.132 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:51.132 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:34:51.132 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:34:51.134 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:34:51.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.144 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.150 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.160 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.162 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.164 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.166 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.168 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.170 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.174 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.177 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.180 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.184 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.186 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.190 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.195 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.197 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.199 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.201 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.207 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.210 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.217 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.222 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.225 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.228 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.230 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:51.230 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.232 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.233 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.241 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.242 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 342.3722ms
2025-07-18 09:34:51.242 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-18 09:34:51.242 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 355.4919ms
2025-07-18 09:34:51.244 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.246 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-18 09:34:51.246 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:34:51.247 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-18 09:34:51.247 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-18 09:34:51.247 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-18 09:34:51.257 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.257 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:51.258 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 10.3528ms
2025-07-18 09:34:51.258 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-18 09:34:51.258 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 12.4372ms
2025-07-18 09:34:51.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.264 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.266 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.292 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.297 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.304 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.308 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.314 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.317 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.351 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.354 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.358 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.361 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.371 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.374 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.377 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.380 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.384 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.386 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.389 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.395 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:34:51.395 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:34:51.397 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 264.6078ms
2025-07-18 09:34:51.397 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:34:51.397 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 265.751ms
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:35:07.488 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.488 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.7378ms
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 09:35:07.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.868ms
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 09:35:07.488 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 09:35:07.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.9238ms
2025-07-18 09:35:07.488 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.488 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.488 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.1904ms
2025-07-18 09:35:07.489 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.2806ms
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 09:35:07.489 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.489 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.489 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.3211ms
2025-07-18 09:35:07.489 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.2915ms
2025-07-18 09:35:07.488 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:35:07.489 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.489 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.7653ms
2025-07-18 09:35:07.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:35:07.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:35:07.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 09:35:07.495 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.495 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 09:35:07.495 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:35:07.495 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.495 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:35:07.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:35:07.495 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:35:07.495 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:35:07.495 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:35:07.495 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:35:07.495 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:35:07.497 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:35:07.497 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:35:07.501 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.501 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 6.0685ms
2025-07-18 09:35:07.501 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:35:07.502 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 7.6155ms
2025-07-18 09:35:07.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:35:07.506 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:35:07.510 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.510 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 14.7906ms
2025-07-18 09:35:07.510 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:35:07.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 15.8682ms
2025-07-18 09:35:07.511 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 09:35:07.511 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.511 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:35:07.511 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 09:35:07.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.513 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 17.6316ms
2025-07-18 09:35:07.513 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:35:07.513 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 09:35:07.513 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 19.1478ms
2025-07-18 09:35:07.513 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.513 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:35:07.513 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:35:07.535 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 09:35:07.535 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 09:35:07.535 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 29.6397ms
2025-07-18 09:35:07.543 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 09:35:07.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 31.8624ms
2025-07-18 09:35:07.544 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 09:35:07.544 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.545 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:35:07.545 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 09:35:07.545 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 34.2229ms
2025-07-18 09:35:07.545 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 09:35:07.546 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 32.8971ms
2025-07-18 09:35:07.547 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 09:35:07.552 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.553 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 7.6826ms
2025-07-18 09:35:07.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.554 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 09:35:07.555 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 12.9129ms
2025-07-18 09:35:07.557 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.559 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.573 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.576 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.586 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.589 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.591 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.596 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.603 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.606 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.608 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.618 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.624 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.626 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.635 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.650 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.651 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.655 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.660 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.665 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.669 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.672 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.674 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.685 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.689 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.701 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.702 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 207.3044ms
2025-07-18 09:35:07.703 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:35:07.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 208.7082ms
2025-07-18 09:35:07.705 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 09:35:07.705 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:07.706 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:35:07.706 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 09:35:07.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 09:35:07.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.723 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.738 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.766 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.770 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.775 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.782 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.784 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.787 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.790 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.800 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.806 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.808 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.812 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.815 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.818 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.827 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.832 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.835 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.839 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.842 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.845 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.847 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.849 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.855 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.857 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.860 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.863 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.865 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.868 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.873 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.881 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.917 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.924 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.928 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.942 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.944 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.947 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.950 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.955 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.958 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 09:35:07.960 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:07.962 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 255.9464ms
2025-07-18 09:35:07.962 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 09:35:07.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 257.4976ms
2025-07-18 09:35:18.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:18.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:18.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:18.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:18.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:35:18.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:18.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:18.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:35:18.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:35:18.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:35:18.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:35:18.801 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:35:18.804 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:35:18.804 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:35:18.805 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:18.806 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.2585ms
2025-07-18 09:35:18.806 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:35:18.806 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:35:18.806 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 5.4639ms
2025-07-18 09:35:18.806 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.8555ms
2025-07-18 09:35:18.806 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:35:18.806 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.1122ms
2025-07-18 09:35:18.816 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:35:18.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:18.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.9239ms
2025-07-18 09:35:18.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:35:18.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.852ms
2025-07-18 09:35:48.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:48.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:48.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:35:48.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:48.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:48.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:35:48.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:35:48.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:35:48.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:35:48.797 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:35:48.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:35:48.797 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:35:48.800 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:35:48.804 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:35:48.805 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.6446ms
2025-07-18 09:35:48.806 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:35:48.807 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.1819ms
2025-07-18 09:35:48.809 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:35:48.814 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:48.814 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.9351ms
2025-07-18 09:35:48.814 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:35:48.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.2949ms
2025-07-18 09:35:48.824 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:35:48.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:35:48.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.6828ms
2025-07-18 09:35:48.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:35:48.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.958ms
2025-07-18 09:36:18.790 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:36:18.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:36:18.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:36:18.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:36:18.792 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:36:18.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:36:18.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:36:18.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:36:18.798 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:36:18.800 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:36:18.801 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.725ms
2025-07-18 09:36:18.801 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:36:18.801 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.5171ms
2025-07-18 09:36:18.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:36:18.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:36:18.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:36:18.806 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:36:18.814 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:36:18.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:36:18.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.4964ms
2025-07-18 09:36:18.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:36:18.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2204ms
2025-07-18 09:36:18.837 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:36:18.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:36:18.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.2401ms
2025-07-18 09:36:18.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:36:18.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2412ms
2025-07-18 09:37:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:37:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:37:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:37:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:37:39.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:37:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:37:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:37:39.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:37:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:37:39.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:37:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:37:39.814 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:37:39.827 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:37:39.830 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:37:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:37:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3401ms
2025-07-18 09:37:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:37:39.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.5973ms
2025-07-18 09:37:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:37:39.849 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:37:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:37:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.3841ms
2025-07-18 09:37:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:37:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.0302ms
2025-07-18 09:37:39.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.4541ms
2025-07-18 09:37:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:37:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0737ms
2025-07-18 09:38:02.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:02.994 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:02.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:02.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:02.999 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:38:02.999 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:02.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.1834ms
2025-07-18 09:38:02.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:02.999 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.4025ms
2025-07-18 09:38:03.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:03.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:03.005 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:03.005 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:03.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:03.005 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:03.005 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:03.005 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:38:03.014 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:38:03.016 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:38:03.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6857ms
2025-07-18 09:38:03.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:03.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.034ms
2025-07-18 09:38:03.033 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:38:03.033 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:03.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.1893ms
2025-07-18 09:38:03.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:03.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4412ms
2025-07-18 09:38:18.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:18.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:18.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:18.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:18.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:18.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:18.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:18.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:18.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:18.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:18.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:18.806 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:38:18.842 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:38:18.852 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:38:18.853 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:38:18.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:18.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:38:18.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.2084ms
2025-07-18 09:38:18.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:18.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:18.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.8989ms
2025-07-18 09:38:18.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:18.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.7602ms
2025-07-18 09:38:18.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.8521ms
2025-07-18 09:38:18.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:18.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.6002ms
2025-07-18 09:38:18.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.4827ms
2025-07-18 09:38:48.785 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:48.786 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:48.786 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:48.786 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:38:48.786 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:48.786 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:48.786 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:38:48.786 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:48.786 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:48.786 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:38:48.788 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:48.788 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:38:48.799 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:38:48.799 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:38:48.811 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:48.811 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:38:48.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.8443ms
2025-07-18 09:38:48.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.0594ms
2025-07-18 09:38:48.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:38:48.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:38:48.814 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:38:48.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:38:48.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.2646ms
2025-07-18 09:38:48.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6271ms
2025-07-18 09:38:48.823 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:38:48.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2972ms
2025-07-18 09:38:48.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.3008ms
2025-07-18 09:39:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:39:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:39:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:39:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:39:39.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:39:39.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:39:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:39:39.803 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:39:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:39:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:39:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:39:39.804 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:39:39.819 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:39:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:39:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.1616ms
2025-07-18 09:39:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:39:39.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5263ms
2025-07-18 09:39:39.830 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:39:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:39:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.219ms
2025-07-18 09:39:39.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:39:39.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.2617ms
2025-07-18 09:39:39.834 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:39:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:39:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.593ms
2025-07-18 09:39:39.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:39:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.8737ms
2025-07-18 09:40:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:40:39.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:40:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:40:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:40:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:40:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:40:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:40:39.845 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:40:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:40:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:40:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:40:39.854 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:40:39.858 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:40:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:40:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.8184ms
2025-07-18 09:40:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:40:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.9763ms
2025-07-18 09:40:39.869 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:40:39.872 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:40:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:40:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 63.6961ms
2025-07-18 09:40:39.879 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:40:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.4021ms
2025-07-18 09:40:39.895 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:40:39.896 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.0281ms
2025-07-18 09:40:39.897 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:40:39.899 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.1836ms
2025-07-18 09:41:40.275 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:41:40.275 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:41:40.275 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:41:40.275 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:41:40.276 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:41:40.276 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:41:40.277 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:41:40.277 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:41:40.296 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:41:40.296 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:41:40.296 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:41:40.297 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:41:40.297 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:41:40.297 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:41:40.297 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.5065ms
2025-07-18 09:41:40.297 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:41:40.297 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:41:40.299 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5919ms
2025-07-18 09:41:40.300 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:41:40.300 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.2291ms
2025-07-18 09:41:40.300 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:41:40.300 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1704ms
2025-07-18 09:41:40.317 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:41:40.318 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:41:40.318 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5167ms
2025-07-18 09:41:40.318 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:41:40.318 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.1921ms
2025-07-18 09:42:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:42:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:42:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:42:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:42:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:42:39.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:42:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:42:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:42:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:42:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:42:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:42:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:42:39.840 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:42:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:42:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.0746ms
2025-07-18 09:42:39.846 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:42:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:42:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.89ms
2025-07-18 09:42:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:42:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.6849ms
2025-07-18 09:42:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:42:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.7391ms
2025-07-18 09:42:39.857 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:42:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:42:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.1195ms
2025-07-18 09:42:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:42:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.307ms
2025-07-18 09:43:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:43:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:43:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:43:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:43:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:43:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:43:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:43:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:43:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:43:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:43:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:43:39.824 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:43:39.835 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:43:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:43:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.6401ms
2025-07-18 09:43:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:43:39.838 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:43:39.843 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:43:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.5274ms
2025-07-18 09:43:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:43:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.3082ms
2025-07-18 09:43:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6647ms
2025-07-18 09:43:39.851 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:43:39.851 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:43:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.4954ms
2025-07-18 09:43:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:43:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.5381ms
2025-07-18 09:44:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:44:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:44:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:44:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:44:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:44:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:44:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:44:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:44:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:44:39.838 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:44:39.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:44:39.838 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:44:39.853 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:44:39.854 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:44:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:44:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.8234ms
2025-07-18 09:44:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:44:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:44:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.8408ms
2025-07-18 09:44:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.4771ms
2025-07-18 09:44:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:44:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.4489ms
2025-07-18 09:44:39.867 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:44:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:44:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.4464ms
2025-07-18 09:44:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:44:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3865ms
2025-07-18 09:45:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:45:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:45:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:45:39.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:45:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:45:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:45:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:45:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:45:39.827 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:45:39.828 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:45:39.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:45:39.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.7497ms
2025-07-18 09:45:39.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:45:39.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.0555ms
2025-07-18 09:45:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:45:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.3776ms
2025-07-18 09:45:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:45:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:45:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7925ms
2025-07-18 09:45:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:45:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:45:39.843 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:45:39.854 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:45:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:45:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.92ms
2025-07-18 09:45:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:45:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.3531ms
2025-07-18 09:46:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:46:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:46:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:46:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:46:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:46:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:46:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:46:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:46:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:46:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:46:39.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:46:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:46:39.826 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:46:39.827 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:46:39.833 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:46:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:46:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:46:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.0021ms
2025-07-18 09:46:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.3114ms
2025-07-18 09:46:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:46:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:46:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.5702ms
2025-07-18 09:46:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:46:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0288ms
2025-07-18 09:46:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.5557ms
2025-07-18 09:46:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:46:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1891ms
2025-07-18 09:47:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:47:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:47:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:47:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:47:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:47:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:47:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:47:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:47:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:47:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:47:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:47:39.839 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:47:39.855 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:47:39.856 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:47:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:47:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:47:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.4614ms
2025-07-18 09:47:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.3401ms
2025-07-18 09:47:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:47:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:47:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.8796ms
2025-07-18 09:47:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.3159ms
2025-07-18 09:47:39.868 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:47:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:47:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.145ms
2025-07-18 09:47:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:47:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.7245ms
2025-07-18 09:48:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:48:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:48:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:48:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:48:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:48:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:48:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:48:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:48:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:48:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:48:39.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:48:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:48:39.823 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:48:39.827 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:48:39.828 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:48:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.1681ms
2025-07-18 09:48:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:48:39.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:48:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.2683ms
2025-07-18 09:48:39.831 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:48:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:48:39.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1777ms
2025-07-18 09:48:39.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.3288ms
2025-07-18 09:48:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:48:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.9148ms
2025-07-18 09:48:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:48:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1358ms
2025-07-18 09:49:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:49:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:49:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:49:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:49:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:49:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:49:39.795 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:49:39.795 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:49:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:49:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:49:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:49:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:49:39.817 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:49:39.819 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:49:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:49:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:49:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3515ms
2025-07-18 09:49:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.4431ms
2025-07-18 09:49:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:49:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:49:39.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.1565ms
2025-07-18 09:49:39.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.3529ms
2025-07-18 09:49:39.831 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:49:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:49:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.3649ms
2025-07-18 09:49:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:49:39.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.1976ms
2025-07-18 09:50:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:50:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:50:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:50:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:50:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:50:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:50:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:50:39.832 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:50:39.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:50:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:50:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:50:39.837 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:50:39.845 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:50:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:50:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.7994ms
2025-07-18 09:50:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:50:39.851 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:50:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.1664ms
2025-07-18 09:50:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:50:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.5137ms
2025-07-18 09:50:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:50:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.3522ms
2025-07-18 09:50:39.862 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:50:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:50:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.0866ms
2025-07-18 09:50:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:50:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.4766ms
2025-07-18 09:51:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:51:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:51:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:51:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:51:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:51:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:51:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:51:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:51:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:51:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:51:39.796 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:51:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:51:39.810 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:51:39.813 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:51:39.813 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:51:39.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.6466ms
2025-07-18 09:51:39.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:51:39.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.4441ms
2025-07-18 09:51:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:51:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.4407ms
2025-07-18 09:51:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:51:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0334ms
2025-07-18 09:51:39.827 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:51:39.827 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:51:39.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.7664ms
2025-07-18 09:51:39.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:51:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4047ms
2025-07-18 09:52:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:52:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:52:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:52:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:52:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:52:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:52:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:52:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:52:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:52:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:52:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:52:39.828 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:52:39.834 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:52:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:52:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.7762ms
2025-07-18 09:52:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:52:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.1494ms
2025-07-18 09:52:39.846 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:52:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:52:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 71.8349ms
2025-07-18 09:52:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:52:39.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.8923ms
2025-07-18 09:52:39.878 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:52:39.883 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:52:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.6996ms
2025-07-18 09:52:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:52:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.8622ms
2025-07-18 09:53:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:53:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:53:39.791 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:53:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:53:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:53:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:53:39.793 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:53:39.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:53:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:53:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:53:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:53:39.804 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:53:39.817 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:53:39.817 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:53:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:53:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.4076ms
2025-07-18 09:53:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:53:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6457ms
2025-07-18 09:53:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:53:39.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.5581ms
2025-07-18 09:53:39.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:53:39.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4009ms
2025-07-18 09:53:39.829 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:53:39.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:53:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.577ms
2025-07-18 09:53:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:53:39.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1173ms
2025-07-18 09:54:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:54:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:54:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:54:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:54:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:54:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:54:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:54:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:54:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:54:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:54:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:54:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:54:39.837 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:54:39.838 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:54:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:54:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:54:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.3974ms
2025-07-18 09:54:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.7891ms
2025-07-18 09:54:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:54:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:54:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3101ms
2025-07-18 09:54:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.2209ms
2025-07-18 09:54:39.854 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:54:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:54:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.524ms
2025-07-18 09:54:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:54:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.4173ms
2025-07-18 09:55:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:55:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:55:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:55:39.800 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:55:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:55:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:55:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:55:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:55:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:55:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:55:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:55:39.807 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:55:39.815 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:55:39.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:55:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:55:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:55:39.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.313ms
2025-07-18 09:55:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:55:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.3396ms
2025-07-18 09:55:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:55:39.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.6008ms
2025-07-18 09:55:39.829 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:55:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.036ms
2025-07-18 09:55:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:55:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.8971ms
2025-07-18 09:55:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:55:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.4336ms
2025-07-18 09:56:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:56:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:56:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:56:39.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:56:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:56:39.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:56:39.798 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:56:39.798 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:56:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:56:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:56:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:56:39.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:56:39.824 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:56:39.825 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:56:39.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:56:39.826 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.125ms
2025-07-18 09:56:39.826 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:56:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:56:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.6424ms
2025-07-18 09:56:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:56:39.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3788ms
2025-07-18 09:56:39.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.2966ms
2025-07-18 09:56:39.838 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:56:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:56:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.8507ms
2025-07-18 09:56:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:56:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4025ms
2025-07-18 09:57:39.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:57:39.789 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:57:39.789 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:57:39.790 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:57:39.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:57:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:57:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:57:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:57:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:57:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:57:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:57:39.802 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:57:39.817 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:57:39.817 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:57:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:57:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:57:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.9086ms
2025-07-18 09:57:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.4073ms
2025-07-18 09:57:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:57:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:57:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7555ms
2025-07-18 09:57:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.9608ms
2025-07-18 09:57:39.833 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:57:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:57:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.2737ms
2025-07-18 09:57:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:57:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.423ms
2025-07-18 09:58:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:58:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:58:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:58:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:58:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:58:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:58:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:58:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:58:39.817 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:58:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:58:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:58:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:58:39.836 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:58:39.841 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:58:39.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:58:39.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.8971ms
2025-07-18 09:58:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:58:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:58:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.8283ms
2025-07-18 09:58:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.0952ms
2025-07-18 09:58:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:58:39.864 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:58:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.2833ms
2025-07-18 09:58:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:58:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.1904ms
2025-07-18 09:58:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:58:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7491ms
2025-07-18 09:59:39.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:59:39.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:59:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:59:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:59:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:59:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:59:39.837 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:59:39.837 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 09:59:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 09:59:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 09:59:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:59:39.839 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 09:59:39.857 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 09:59:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:59:39.860 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 09:59:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.8345ms
2025-07-18 09:59:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 09:59:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.4809ms
2025-07-18 09:59:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 09:59:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 09:59:39.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.6596ms
2025-07-18 09:59:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.3833ms
2025-07-18 09:59:39.891 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 09:59:39.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 09:59:39.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.0712ms
2025-07-18 09:59:39.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 09:59:39.891 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8123ms
2025-07-18 10:00:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:00:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:00:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:00:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:00:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:00:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:00:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:00:39.816 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:00:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:00:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:00:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:00:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:00:39.849 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:00:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:00:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.471ms
2025-07-18 10:00:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:00:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0319ms
2025-07-18 10:00:39.860 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:00:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:00:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.7432ms
2025-07-18 10:00:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:00:39.865 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:00:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.7037ms
2025-07-18 10:00:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:00:39.886 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.2505ms
2025-07-18 10:00:39.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:00:39.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.0576ms
2025-07-18 10:01:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:01:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:01:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:01:39.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:01:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:01:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:01:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:01:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:01:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:01:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:01:39.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:01:39.804 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:01:39.820 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:01:39.820 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:01:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:01:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:01:39.823 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.872ms
2025-07-18 10:01:39.823 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6186ms
2025-07-18 10:01:39.823 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:01:39.823 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:01:39.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1951ms
2025-07-18 10:01:39.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.507ms
2025-07-18 10:01:39.833 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:01:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:01:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.1306ms
2025-07-18 10:01:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:01:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8574ms
2025-07-18 10:02:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:02:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:02:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:02:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:02:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:02:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:02:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:02:39.837 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:02:39.838 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:02:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:02:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:02:39.838 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:02:39.849 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:02:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:02:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.5942ms
2025-07-18 10:02:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:02:39.860 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:02:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.3683ms
2025-07-18 10:02:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:02:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.3725ms
2025-07-18 10:02:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:02:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.328ms
2025-07-18 10:02:39.867 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:02:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:02:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.2686ms
2025-07-18 10:02:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:02:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.5183ms
2025-07-18 10:03:39.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:03:39.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:03:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:03:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:03:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:03:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:03:39.837 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:03:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:03:39.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:03:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:03:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:03:39.838 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:03:39.844 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:03:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:03:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.3088ms
2025-07-18 10:03:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:03:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4195ms
2025-07-18 10:03:39.859 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:03:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:03:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2947ms
2025-07-18 10:03:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:03:39.867 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:03:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7364ms
2025-07-18 10:03:39.875 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:03:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.2862ms
2025-07-18 10:03:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:03:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.6132ms
2025-07-18 10:04:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:04:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:04:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:04:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:04:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:04:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:04:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:04:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:04:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:04:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:04:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:04:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:04:39.844 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:04:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:04:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.6956ms
2025-07-18 10:04:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:04:39.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1967ms
2025-07-18 10:04:39.854 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:04:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:04:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.4664ms
2025-07-18 10:04:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:04:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.5178ms
2025-07-18 10:04:39.863 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:04:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:04:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.491ms
2025-07-18 10:04:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:04:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.6862ms
2025-07-18 10:05:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:05:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:05:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:05:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:05:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:05:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:05:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:05:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:05:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:05:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:05:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:05:39.820 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:05:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:05:39.822 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:05:39.822 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:05:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:05:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5779ms
2025-07-18 10:05:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:05:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.7991ms
2025-07-18 10:05:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:05:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5804ms
2025-07-18 10:05:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4302ms
2025-07-18 10:05:39.842 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:05:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:05:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.2336ms
2025-07-18 10:05:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:05:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.6576ms
2025-07-18 10:06:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:06:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:06:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:06:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:06:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:06:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:06:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:06:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:06:39.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:06:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:06:39.858 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:06:39.860 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:06:39.889 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:06:39.892 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:06:39.892 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:06:39.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 72.5198ms
2025-07-18 10:06:39.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:06:39.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.3939ms
2025-07-18 10:06:39.900 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:06:39.901 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 80.0146ms
2025-07-18 10:06:39.901 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:06:39.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.6263ms
2025-07-18 10:06:39.922 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:06:39.927 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:06:39.928 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.8223ms
2025-07-18 10:06:39.928 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:06:39.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.6895ms
2025-07-18 10:09:59.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:09:59.965 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:09:59.965 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:09:59.965 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:00.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:00.013 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:00.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:10:00.013 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:10:00.072 +00:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:10:00.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:00.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 107.7329ms
2025-07-18 10:10:00.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:10:00.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 108.4146ms
2025-07-18 10:10:00.075 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:10:00.086 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:00.089 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 76.0618ms
2025-07-18 10:10:00.090 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:10:00.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.4267ms
2025-07-18 10:10:00.093 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:00.093 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:00.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:00.093 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:00.119 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:10:00.123 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:00.123 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.7737ms
2025-07-18 10:10:00.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:00.147 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.5588ms
2025-07-18 10:10:02.425 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 10:10:02.425 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.425 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.4746ms
2025-07-18 10:10:02.430 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 10:10:02.431 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.431 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 10:10:02.431 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 10:10:02.431 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:02.432 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.7967ms
2025-07-18 10:10:02.432 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 10:10:02.432 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.772ms
2025-07-18 10:10:02.444 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 10:10:02.444 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.445 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 10:10:02.445 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 10:10:02.445 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:02.445 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2845ms
2025-07-18 10:10:02.445 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 10:10:02.445 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.05ms
2025-07-18 10:10:02.814 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 10:10:02.814 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 10:10:02.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.814 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.8657ms
2025-07-18 10:10:02.814 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.9815ms
2025-07-18 10:10:02.821 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 10:10:02.822 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 10:10:02.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.823 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 2.0751ms
2025-07-18 10:10:02.823 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.6537ms
2025-07-18 10:10:02.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 10:10:02.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 10:10:02.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 10:10:02.824 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 10:10:02.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 10:10:02.824 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 10:10:02.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 10:10:02.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 10:10:02.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 10:10:02.830 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 10:10:02.830 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 10:10:02.830 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 10:10:02.842 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 10:10:02.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:02.858 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.858 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:02.858 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:02.858 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 10:10:02.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 38.1345ms
2025-07-18 10:10:02.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 38.1151ms
2025-07-18 10:10:02.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 10:10:02.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 10:10:02.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 47.6239ms
2025-07-18 10:10:02.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 47.3591ms
2025-07-18 10:10:02.870 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 10:10:02.870 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 10:10:02.871 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.871 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 10:10:02.878 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.878 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 10:10:02.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 10:10:02.878 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 10:10:02.878 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 10:10:02.883 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.883 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 10:10:02.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 53.027ms
2025-07-18 10:10:02.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 10:10:02.884 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:10:02.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 55.1226ms
2025-07-18 10:10:02.886 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:02.886 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.237ms
2025-07-18 10:10:02.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:02.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 10:10:02.889 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.6945ms
2025-07-18 10:10:02.890 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 10:10:02.890 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:02.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.891 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.891 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:02.891 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 10:10:02.891 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:02.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 13.3643ms
2025-07-18 10:10:02.892 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:02.892 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 10:10:02.892 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 10:10:02.892 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 10:10:02.892 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 21.9683ms
2025-07-18 10:10:02.893 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 15.3386ms
2025-07-18 10:10:02.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 10:10:02.893 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 22.7514ms
2025-07-18 10:10:02.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:10:02.896 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:02.897 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 4.6232ms
2025-07-18 10:10:02.897 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:02.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.2509ms
2025-07-18 10:10:02.898 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 10:10:02.900 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:02.900 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 8.4731ms
2025-07-18 10:10:02.901 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 10:10:02.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 11.7442ms
2025-07-18 10:10:02.903 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.909 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.917 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.918 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.919 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.924 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.928 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.932 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.933 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.937 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.939 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.941 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.943 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.950 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.953 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.957 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.958 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.960 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.961 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.965 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.967 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.968 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.971 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.973 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.975 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.977 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.979 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.980 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.982 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.984 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.986 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.988 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.990 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.995 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.997 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:02.999 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.000 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.002 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.004 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.006 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.008 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.009 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.011 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.013 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.014 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.016 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.017 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.018 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.022 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.024 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.027 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.031 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.032 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.037 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.039 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.040 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.043 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.053 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.056 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.061 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.061 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:03.064 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 233.4099ms
2025-07-18 10:10:03.064 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 10:10:03.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 234.0256ms
2025-07-18 10:10:03.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 10:10:03.068 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:03.068 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 10:10:03.068 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 10:10:03.074 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 10:10:03.078 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.083 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.089 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.092 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.095 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.099 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.104 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.108 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.112 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.114 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.115 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.120 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.122 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.126 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.129 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.131 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.139 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.145 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.149 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.151 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.161 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.164 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.174 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.179 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.184 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.198 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.204 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.206 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.211 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.217 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.218 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.221 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.224 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.231 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.232 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.234 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.236 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.248 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.253 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.254 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.259 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.262 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.264 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.266 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.269 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.287 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.290 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.298 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 10:10:03.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:03.300 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 231.8168ms
2025-07-18 10:10:03.300 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 10:10:03.301 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 233.6727ms
2025-07-18 10:10:33.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:33.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:33.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:33.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:10:33.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:33.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:33.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:10:33.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:10:33.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:10:33.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:10:33.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:33.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:10:33.836 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:10:33.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:10:33.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.7414ms
2025-07-18 10:10:33.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:10:33.842 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:10:33.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1027ms
2025-07-18 10:10:33.843 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:33.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.135ms
2025-07-18 10:10:33.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:10:33.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3133ms
2025-07-18 10:10:33.884 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:10:33.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:10:33.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 63.7107ms
2025-07-18 10:10:33.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:10:33.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 77.2964ms
2025-07-18 10:11:03.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:03.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:03.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:11:03.798 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:11:03.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:03.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:03.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:03.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:03.798 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:11:03.798 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:11:03.799 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:11:03.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:11:03.814 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:11:03.815 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:11:03.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:11:03.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5509ms
2025-07-18 10:11:03.816 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:11:03.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:11:03.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.1697ms
2025-07-18 10:11:03.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.0654ms
2025-07-18 10:11:03.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:11:03.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7901ms
2025-07-18 10:11:03.828 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:11:03.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:11:03.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.0334ms
2025-07-18 10:11:03.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:11:03.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.7742ms
2025-07-18 10:11:33.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:33.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:33.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:11:33.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:33.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:11:33.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:33.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:11:33.811 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:11:33.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:11:33.840 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:11:33.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:11:33.843 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:11:33.875 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:11:33.877 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:11:33.879 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 68.5669ms
2025-07-18 10:11:33.879 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:11:33.880 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:11:33.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.1723ms
2025-07-18 10:11:33.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:11:33.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 74.4657ms
2025-07-18 10:11:33.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:11:33.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.3166ms
2025-07-18 10:11:33.908 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:11:33.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:11:33.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 71.7878ms
2025-07-18 10:11:33.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:11:33.917 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.8383ms
2025-07-18 10:12:03.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:03.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:03.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:12:03.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:12:03.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:03.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:03.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:03.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:12:03.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:03.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:12:03.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:12:03.813 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:12:03.835 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:12:03.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:12:03.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.7389ms
2025-07-18 10:12:03.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:12:03.839 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:12:03.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:12:03.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.379ms
2025-07-18 10:12:03.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:12:03.848 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:12:03.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.6315ms
2025-07-18 10:12:03.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:12:03.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.3552ms
2025-07-18 10:12:03.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.7567ms
2025-07-18 10:12:03.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:12:03.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.1766ms
2025-07-18 10:12:33.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:33.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:33.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:33.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:12:33.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:12:33.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:33.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:12:33.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:12:33.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:12:33.808 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:12:33.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:12:33.808 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:12:33.825 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:12:33.830 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:12:33.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:12:33.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.9326ms
2025-07-18 10:12:33.836 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:12:33.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.2994ms
2025-07-18 10:12:33.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:12:33.847 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:12:33.859 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.4714ms
2025-07-18 10:12:33.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:12:33.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:12:33.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.6764ms
2025-07-18 10:12:33.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.7014ms
2025-07-18 10:12:33.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:12:33.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.7021ms
2025-07-18 10:13:03.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:03.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:03.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:13:03.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:03.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:13:03.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:03.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:03.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:03.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:13:03.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:13:03.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:13:03.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:13:03.854 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:13:03.860 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:13:03.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.5725ms
2025-07-18 10:13:03.860 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:13:03.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:13:03.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.4776ms
2025-07-18 10:13:03.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:13:03.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:13:03.882 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:13:03.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.763ms
2025-07-18 10:13:03.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.4967ms
2025-07-18 10:13:03.890 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:13:03.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 72.5292ms
2025-07-18 10:13:03.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:13:03.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.25ms
2025-07-18 10:13:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:13:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:13:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:13:39.822 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:13:39.822 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:13:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:13:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:13:39.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:13:39.844 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:13:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:13:39.847 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:13:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3683ms
2025-07-18 10:13:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:13:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:13:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0834ms
2025-07-18 10:13:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.7808ms
2025-07-18 10:13:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:13:39.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.11ms
2025-07-18 10:13:39.863 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:13:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:13:39.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.0195ms
2025-07-18 10:13:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:13:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.3311ms
2025-07-18 10:14:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:14:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:14:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 10:14:39.839 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:14:39.839 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:14:39.839 +00:00 [INF] CORS policy execution successful.
2025-07-18 10:14:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:14:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:14:39.839 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:14:39.848 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 10:14:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:14:39.851 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 10:14:39.865 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 10:14:39.867 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 10:14:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 10:14:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.1859ms
2025-07-18 10:14:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 10:14:39.877 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:14:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.7873ms
2025-07-18 10:14:39.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 10:14:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.2191ms
2025-07-18 10:14:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.0979ms
2025-07-18 10:14:39.888 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 10:14:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 10:14:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.8645ms
2025-07-18 10:14:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 10:14:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.582ms
2025-07-18 11:43:56.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:43:56.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:43:56.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:43:56.652 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:56.652 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:56.652 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:43:56.652 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:56.652 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:43:56.652 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:43:56.652 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:43:56.652 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 11:43:56.652 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:43:56.671 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 11:43:56.671 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:43:56.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.9693ms
2025-07-18 11:43:56.671 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:43:56.671 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.1585ms
2025-07-18 11:43:56.675 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:43:56.675 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:43:56.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.792ms
2025-07-18 11:43:56.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:43:56.675 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.963ms
2025-07-18 11:43:56.682 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 11:43:56.683 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:43:56.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.9924ms
2025-07-18 11:43:56.683 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:43:56.683 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2457ms
2025-07-18 11:43:59.045 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 11:43:59.045 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 11:43:59.045 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:59.045 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:59.045 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.2872ms
2025-07-18 11:43:59.045 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 4.0102ms
2025-07-18 11:43:59.056 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 11:43:59.057 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:59.057 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:43:59.057 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:43:59.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:43:59.060 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 3.1763ms
2025-07-18 11:43:59.060 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:43:59.061 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 4.2711ms
2025-07-18 11:43:59.082 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 11:43:59.082 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:43:59.083 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:43:59.083 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:43:59.083 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:43:59.083 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5998ms
2025-07-18 11:43:59.083 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:43:59.083 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.2366ms
2025-07-18 11:44:00.397 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:44:00.397 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 11:44:00.397 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.397 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.7162ms
2025-07-18 11:44:00.397 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.397 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.3573ms
2025-07-18 11:44:00.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:44:00.400 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 11:44:00.400 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.400 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:44:00.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:44:00.400 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:44:00.400 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 11:44:00.407 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 11:44:00.408 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.409 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.512ms
2025-07-18 11:44:00.409 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:44:00.409 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 9.536ms
2025-07-18 11:44:00.412 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 11:44:00.412 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.412 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 11.9905ms
2025-07-18 11:44:00.412 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:44:00.413 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 13.4125ms
2025-07-18 11:44:00.435 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 11:44:00.435 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.435 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.7969ms
2025-07-18 11:44:00.437 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:44:00.437 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 11:44:00.437 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.437 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.437 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.6181ms
2025-07-18 11:44:00.437 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.6587ms
2025-07-18 11:44:00.438 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:44:00.439 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.439 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.0255ms
2025-07-18 11:44:00.443 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:44:00.444 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.444 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:44:00.444 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:44:00.445 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 11:44:00.446 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:44:00.446 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 11:44:00.447 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.447 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.447 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:00.447 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:44:00.447 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:44:00.447 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:44:00.447 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.447 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:44:00.447 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 11:44:00.451 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 11:44:00.452 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:44:00.453 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:44:00.453 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.1987ms
2025-07-18 11:44:00.453 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:00.453 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 11:44:00.453 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.8885ms
2025-07-18 11:44:00.454 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 11:44:00.456 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.456 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.456 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 11.3557ms
2025-07-18 11:44:00.456 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:44:00.456 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.9972ms
2025-07-18 11:44:00.456 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:44:00.456 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 12.9795ms
2025-07-18 11:44:00.456 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 11.741ms
2025-07-18 11:44:00.457 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:44:00.461 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.461 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:44:00.465 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:44:00.465 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:44:00.465 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.467 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:00.467 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:44:00.480 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.488 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:44:00.489 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:44:00.490 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.0972ms
2025-07-18 11:44:00.490 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:00.492 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.492 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 11:44:00.492 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.3073ms
2025-07-18 11:44:00.492 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.494 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 29.4576ms
2025-07-18 11:44:00.494 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:44:00.494 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 37.8215ms
2025-07-18 11:44:00.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:44:00.501 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.505 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.505 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:44:00.505 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:44:00.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 11:44:00.510 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.510 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 4.5942ms
2025-07-18 11:44:00.510 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:44:00.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 9.5144ms
2025-07-18 11:44:00.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.519 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.540 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.541 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.550 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.557 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.558 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.562 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.572 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.573 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.576 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.585 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.588 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.590 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.603 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.606 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.608 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.623 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.626 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.629 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.631 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.633 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.635 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.640 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.650 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.652 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.655 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 208.4676ms
2025-07-18 11:44:00.655 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:44:00.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 209.2715ms
2025-07-18 11:44:00.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 11:44:00.659 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:00.659 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:44:00.659 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:44:00.660 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 11:44:00.666 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.669 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.688 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.723 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.735 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.748 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.763 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.766 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.788 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.790 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.792 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.798 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.800 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.811 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.820 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.823 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.838 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.840 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.842 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.848 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:44:00.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:00.851 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 192.0574ms
2025-07-18 11:44:00.851 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:44:00.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 193.3979ms
2025-07-18 11:44:30.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:44:30.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:30.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:44:30.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:44:30.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:44:30.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:30.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:30.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:44:30.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:44:30.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:44:30.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:44:30.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 11:44:30.847 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 11:44:30.847 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:44:30.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:30.849 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:44:30.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.7316ms
2025-07-18 11:44:30.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.2354ms
2025-07-18 11:44:30.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:44:30.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:44:30.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.9787ms
2025-07-18 11:44:30.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7756ms
2025-07-18 11:44:30.855 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 11:44:30.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:44:30.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.9983ms
2025-07-18 11:44:30.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:44:30.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.8214ms
2025-07-18 11:45:00.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:00.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:00.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:00.795 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:00.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:00.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:00.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:45:00.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:00.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:00.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:00.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:45:00.803 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 11:45:00.820 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 11:45:00.823 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:45:00.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:00.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.3925ms
2025-07-18 11:45:00.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:45:00.846 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:00.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 51.8039ms
2025-07-18 11:45:00.848 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 11:45:00.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:00.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:00.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.785ms
2025-07-18 11:45:00.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.5103ms
2025-07-18 11:45:00.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.017ms
2025-07-18 11:45:00.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:45:00.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8022ms
2025-07-18 11:45:11.346 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 11:45:11.346 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 11:45:11.347 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.347 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.347 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.0313ms
2025-07-18 11:45:11.347 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.1463ms
2025-07-18 11:45:11.351 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 11:45:11.351 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.351 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:45:11.351 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:45:11.352 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:11.352 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3517ms
2025-07-18 11:45:11.352 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:45:11.352 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.2679ms
2025-07-18 11:45:11.355 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 11:45:11.355 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.355 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:45:11.355 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:45:11.356 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:11.356 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3382ms
2025-07-18 11:45:11.356 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 11:45:11.356 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.8064ms
2025-07-18 11:45:11.539 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:45:11.539 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 11:45:11.539 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.539 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.539 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.0435ms
2025-07-18 11:45:11.539 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 11:45:11.539 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.0843ms
2025-07-18 11:45:11.540 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:45:11.540 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.540 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.540 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.98ms
2025-07-18 11:45:11.540 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.9845ms
2025-07-18 11:45:11.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 11:45:11.546 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:45:11.546 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.546 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 11:45:11.546 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:45:11.546 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.547 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:45:11.547 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:45:11.547 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.547 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:45:11.547 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:45:11.547 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 11:45:11.548 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:45:11.548 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.548 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:45:11.549 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:45:11.564 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 11:45:11.564 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:11.565 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 11:45:11.565 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.566 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:11.566 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:11.579 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 11:45:11.581 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.581 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 33.6775ms
2025-07-18 11:45:11.581 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:45:11.588 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 11:45:11.589 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.589 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:45:11.589 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 11:45:11.600 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:45:11.600 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 55.2233ms
2025-07-18 11:45:11.601 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 11:45:11.607 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.607 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.608 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 58.9126ms
2025-07-18 11:45:11.608 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:45:11.608 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 59.7821ms
2025-07-18 11:45:11.629 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.631 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.631 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 11:45:11.631 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 84.7042ms
2025-07-18 11:45:11.632 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.632 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:45:11.632 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:45:11.632 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:45:11.639 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 11:45:11.642 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 11:45:11.642 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:11.643 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 77.2611ms
2025-07-18 11:45:11.643 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.643 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:45:11.644 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 11:45:11.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 100.2368ms
2025-07-18 11:45:11.647 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:11.646 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:11.649 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.649 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:11.650 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.650 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:11.651 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 62.4724ms
2025-07-18 11:45:11.652 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 11:45:11.652 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.654 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.7029ms
2025-07-18 11:45:11.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 67.5036ms
2025-07-18 11:45:11.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.660 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 11:45:11.661 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:45:11.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.662 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:11.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 11:45:11.663 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.4754ms
2025-07-18 11:45:11.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:11.663 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 30.598ms
2025-07-18 11:45:11.664 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 11:45:11.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 33.6993ms
2025-07-18 11:45:11.667 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7131ms
2025-07-18 11:45:11.667 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 22.8762ms
2025-07-18 11:45:11.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 11:45:11.669 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 27.7612ms
2025-07-18 11:45:11.670 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.674 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.683 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.688 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.723 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.749 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.753 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.758 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.767 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.777 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.782 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.784 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.786 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.788 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.796 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.798 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 251.0905ms
2025-07-18 11:45:11.798 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:45:11.799 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 252.5082ms
2025-07-18 11:45:11.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 11:45:11.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:11.801 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:45:11.801 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 11:45:11.811 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 11:45:11.815 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.820 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.822 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.823 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.832 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.838 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.840 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.845 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.847 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.848 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.850 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.856 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.858 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.859 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.861 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.865 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.868 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.871 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.873 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.874 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.875 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.880 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.882 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.886 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.888 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.890 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.892 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.896 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.897 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.902 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.905 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.909 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.915 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.916 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.917 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.918 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.923 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.924 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.927 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.933 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.934 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.935 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.937 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.941 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.942 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.944 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.946 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.950 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 11:45:11.950 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:11.952 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 150.9198ms
2025-07-18 11:45:11.952 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 11:45:11.952 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 152.0997ms
2025-07-18 11:45:41.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:41.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:41.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:45:41.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:41.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:41.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:45:41.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:41.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:45:41.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:45:41.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:41.822 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 11:45:41.822 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:45:41.843 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:45:41.844 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 11:45:41.879 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 11:45:41.883 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:45:41.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 62.1259ms
2025-07-18 11:45:41.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:45:41.889 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:41.892 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.9925ms
2025-07-18 11:45:41.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:45:41.897 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.6261ms
2025-07-18 11:45:41.897 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:45:41.903 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 80.6205ms
2025-07-18 11:45:41.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:45:41.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 129.5398ms
2025-07-18 11:45:41.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 129.5533ms
2025-07-18 11:46:11.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:46:11.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:46:11.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 11:46:11.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:46:11.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:46:11.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:46:11.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 11:46:11.793 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:46:11.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:46:11.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:46:11.793 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 11:46:11.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 11:46:11.806 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 11:46:11.808 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:46:11.808 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.1624ms
2025-07-18 11:46:11.808 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 11:46:11.809 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 11:46:11.809 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.6628ms
2025-07-18 11:46:11.809 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 11:46:11.809 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 11:46:11.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 11:46:11.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 11:46:11.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.6652ms
2025-07-18 11:46:11.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 11:46:11.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6399ms
2025-07-18 11:46:11.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4525ms
2025-07-18 11:46:11.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.0044ms
2025-07-18 12:42:21.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:21.258 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:21.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:42:21.258 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:21.272 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:21.272 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:21.272 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:42:21.272 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:42:21.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:21.273 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:21.274 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:21.274 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:21.683 +00:00 [INF] Executed DbCommand (408ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:42:21.697 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:21.697 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 423.7962ms
2025-07-18 12:42:21.697 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:21.698 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 424.3513ms
2025-07-18 12:42:21.714 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:42:21.714 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:21.745 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:42:21.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:21.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 625.7163ms
2025-07-18 12:42:21.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 611.6597ms
2025-07-18 12:42:21.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:42:21.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:42:21.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 499 null application/json; charset=utf-8 626.4306ms
2025-07-18 12:42:21.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 499 null application/json; charset=utf-8 612.828ms
2025-07-18 12:42:23.930 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 12:42:23.930 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:23.930 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.1976ms
2025-07-18 12:42:23.932 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 12:42:23.933 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:23.933 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 12:42:23.933 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 12:42:23.933 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:23.933 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4763ms
2025-07-18 12:42:23.933 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 12:42:23.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 0.87ms
2025-07-18 12:42:23.937 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 12:42:23.937 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:23.937 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 12:42:23.937 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 12:42:23.938 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:23.938 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2787ms
2025-07-18 12:42:23.938 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 12:42:23.938 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.0692ms
2025-07-18 12:42:24.402 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 12:42:24.402 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.402 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.3712ms
2025-07-18 12:42:24.403 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 12:42:24.403 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.403 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.1143ms
2025-07-18 12:42:24.403 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 12:42:24.403 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.403 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.0541ms
2025-07-18 12:42:24.409 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 12:42:24.409 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.409 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 3.2353ms
2025-07-18 12:42:24.414 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 12:42:24.414 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.414 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 12:42:24.414 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 12:42:24.414 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.414 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 12:42:24.414 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 12:42:24.414 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 12:42:24.414 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 12:42:24.415 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.415 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 12:42:24.415 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 12:42:24.421 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 12:42:24.424 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 12:42:24.425 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 12:42:24.426 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:24.426 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 12:42:24.426 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 12:42:24.428 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:24.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.556ms
2025-07-18 12:42:24.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 12:42:24.429 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 15.1568ms
2025-07-18 12:42:24.435 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 12:42:24.436 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:24.436 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 21.5036ms
2025-07-18 12:42:24.436 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 12:42:24.436 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 21.9762ms
2025-07-18 12:42:24.438 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.440 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.442 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 12:42:24.442 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.442 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:24.442 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 16.2693ms
2025-07-18 12:42:24.442 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 12:42:24.442 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 20.6098ms
2025-07-18 12:42:24.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.447 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.448 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.449 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.451 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.453 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.454 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.469 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.472 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.475 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.481 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.485 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.494 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.507 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.521 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.523 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.529 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.547 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.557 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.559 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.561 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.564 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.567 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.579 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.582 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.597 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.628 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.659 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.672 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.800 +00:00 [INF] Executed DbCommand (127ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.881 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:24.973 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.009 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.021 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.029 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.035 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.042 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.045 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.050 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.052 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.057 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.060 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.066 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.070 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.074 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.078 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.082 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.083 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.087 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.095 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.097 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.100 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.109 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.112 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.125 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.136 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.142 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.144 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.148 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.151 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.154 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.158 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.160 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:25.161 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:25.162 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 747.7578ms
2025-07-18 12:42:25.162 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 12:42:25.163 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 748.1488ms
2025-07-18 12:42:26.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 12:42:26.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:26.720 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.720 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:26.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 12:42:26.720 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.720 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.720 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 12:42:26.720 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 12:42:26.720 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 12:42:26.720 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 12:42:26.747 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 12:42:26.748 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.748 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 12:42:26.748 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 12:42:26.748 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 12:42:26.748 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:26.749 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:26.749 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 26.2474ms
2025-07-18 12:42:26.749 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 12:42:26.750 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 12:42:26.750 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.750 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 12:42:26.750 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 12:42:26.754 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 12:42:26.754 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 33.9018ms
2025-07-18 12:42:26.765 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:42:26.766 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:26.766 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.4423ms
2025-07-18 12:42:26.766 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:26.766 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.6645ms
2025-07-18 12:42:26.769 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 12:42:26.774 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 12:42:26.774 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:26.775 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 24.8136ms
2025-07-18 12:42:26.775 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 12:42:26.776 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 26.0217ms
2025-07-18 12:42:26.776 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:26.776 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 55.847ms
2025-07-18 12:42:26.776 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 12:42:26.776 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 57.6439ms
2025-07-18 12:42:26.779 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.782 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:26.782 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:26.782 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:26.782 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:26.790 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.798 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:42:26.800 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:26.800 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.9315ms
2025-07-18 12:42:26.800 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:26.800 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.6569ms
2025-07-18 12:42:26.801 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.805 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.807 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.809 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.814 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.816 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.825 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.832 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.834 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.836 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.840 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.842 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.845 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.849 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.850 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.855 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.859 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.864 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.873 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.876 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.880 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.882 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.885 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.889 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.892 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.894 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.896 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.898 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.905 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.908 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.916 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.918 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.923 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.928 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.934 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.936 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.939 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.941 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.943 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.946 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.953 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.956 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.960 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.963 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.964 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.967 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.969 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.970 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.974 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.975 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.977 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.979 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.981 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.983 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.985 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.987 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.989 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.991 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.993 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.995 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:26.999 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:27.001 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:27.005 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:27.007 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:27.009 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 12:42:27.009 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:27.011 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 263.0204ms
2025-07-18 12:42:27.012 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 12:42:27.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 264.5713ms
2025-07-18 12:42:54.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:54.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:54.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:42:54.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:54.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:54.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:42:54.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:54.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:42:54.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:42:54.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:54.813 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:42:54.813 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:42:54.823 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:42:54.832 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:42:54.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:42:54.835 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:42:54.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:54.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.7802ms
2025-07-18 12:42:54.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.091ms
2025-07-18 12:42:54.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:42:54.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:42:54.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:42:54.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.6289ms
2025-07-18 12:42:54.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:42:54.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.5915ms
2025-07-18 12:42:54.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.079ms
2025-07-18 12:42:54.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.9552ms
2025-07-18 12:43:24.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:24.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:24.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:24.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:43:24.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:24.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:43:24.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:43:24.800 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:43:24.818 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:43:24.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:43:24.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6558ms
2025-07-18 12:43:24.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:43:24.822 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:43:24.822 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:43:24.822 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.8049ms
2025-07-18 12:43:24.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:43:24.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:24.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4519ms
2025-07-18 12:43:24.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.293ms
2025-07-18 12:43:24.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:24.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:43:24.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:43:24.884 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:43:24.886 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:43:24.886 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.7114ms
2025-07-18 12:43:24.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:43:24.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.7638ms
2025-07-18 12:43:54.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:54.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:54.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:43:54.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:54.798 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:43:54.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:54.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:43:54.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:43:54.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:43:54.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:43:54.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:43:54.814 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:43:54.829 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:43:54.829 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:43:54.829 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:43:54.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:43:54.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.2598ms
2025-07-18 12:43:54.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.5413ms
2025-07-18 12:43:54.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:43:54.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:43:54.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8746ms
2025-07-18 12:43:54.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8099ms
2025-07-18 12:43:54.844 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:43:54.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:43:54.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.1849ms
2025-07-18 12:43:54.845 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:43:54.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.3172ms
2025-07-18 12:44:24.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:24.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:24.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:44:24.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:24.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:44:24.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:24.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:44:24.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:44:24.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:24.848 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:24.848 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:44:24.848 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:44:24.853 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:44:24.853 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:44:24.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.7608ms
2025-07-18 12:44:24.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:44:24.859 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:44:24.859 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.9013ms
2025-07-18 12:44:24.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:44:24.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 56.9835ms
2025-07-18 12:44:24.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:44:24.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.606ms
2025-07-18 12:44:24.869 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:44:24.877 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:44:24.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.1881ms
2025-07-18 12:44:24.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:44:24.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6357ms
2025-07-18 12:44:54.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:54.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:54.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:44:54.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:54.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:44:54.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:54.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:44:54.794 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:44:54.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:44:54.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:44:54.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:44:54.795 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:44:54.809 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:44:54.811 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:44:54.812 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:44:54.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.7827ms
2025-07-18 12:44:54.813 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:44:54.814 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:44:54.814 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.9777ms
2025-07-18 12:44:54.814 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:44:54.814 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.2022ms
2025-07-18 12:44:54.814 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.6618ms
2025-07-18 12:44:54.848 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:44:54.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:44:54.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.0005ms
2025-07-18 12:44:54.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:44:54.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.4576ms
2025-07-18 12:45:24.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:45:24.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:45:24.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:45:24.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:45:24.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:45:24.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:45:24.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:45:24.808 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:45:24.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:45:24.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:45:24.827 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:45:24.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:45:24.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:45:24.827 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:45:24.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:45:24.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.1557ms
2025-07-18 12:45:24.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:45:24.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:45:24.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.768ms
2025-07-18 12:45:24.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:45:24.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2946ms
2025-07-18 12:45:24.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.8922ms
2025-07-18 12:45:24.850 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:45:24.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:45:24.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.8977ms
2025-07-18 12:45:24.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:45:24.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.9513ms
2025-07-18 12:46:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:46:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:46:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:46:39.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:46:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:46:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:46:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:46:39.824 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:46:39.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:46:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:46:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:46:39.830 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:46:39.836 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:46:39.836 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:46:39.867 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:46:39.868 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.1291ms
2025-07-18 12:46:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:46:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.241ms
2025-07-18 12:46:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:46:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.439ms
2025-07-18 12:46:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:46:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.9558ms
2025-07-18 12:46:39.896 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:46:39.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:46:39.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.9205ms
2025-07-18 12:46:39.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:46:39.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.3776ms
2025-07-18 12:47:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:47:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:47:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:47:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:47:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:47:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:47:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:47:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:47:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:47:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:47:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:47:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:47:39.818 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:47:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:47:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.123ms
2025-07-18 12:47:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:47:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.8975ms
2025-07-18 12:47:39.831 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:47:39.832 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:47:39.833 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:47:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:47:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.7283ms
2025-07-18 12:47:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.9797ms
2025-07-18 12:47:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:47:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:47:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.9148ms
2025-07-18 12:47:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9197ms
2025-07-18 12:48:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:48:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:48:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:48:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:48:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:48:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:48:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:48:39.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:48:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:48:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:48:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:48:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:48:39.849 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:48:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:48:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.0721ms
2025-07-18 12:48:39.857 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:48:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:48:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.9023ms
2025-07-18 12:48:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:48:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:48:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.9076ms
2025-07-18 12:48:39.865 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:48:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:48:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.3428ms
2025-07-18 12:48:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:48:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.1584ms
2025-07-18 12:48:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.6023ms
2025-07-18 12:49:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:49:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:49:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:49:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:49:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:49:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:49:39.837 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:49:39.837 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:49:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:49:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:49:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:49:39.842 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:49:39.850 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:49:39.853 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:49:39.858 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:49:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:49:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:49:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.4487ms
2025-07-18 12:49:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.6278ms
2025-07-18 12:49:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:49:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:49:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:49:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.445ms
2025-07-18 12:49:39.876 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:49:39.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6989ms
2025-07-18 12:49:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.33ms
2025-07-18 12:49:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.6297ms
2025-07-18 12:50:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:50:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:50:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:50:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:50:39.827 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:50:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:50:39.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:50:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:50:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.4572ms
2025-07-18 12:50:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:50:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:50:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:50:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.8079ms
2025-07-18 12:50:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:50:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:50:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:50:39.830 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:50:39.843 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:50:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:50:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.4657ms
2025-07-18 12:50:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:50:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.7984ms
2025-07-18 12:50:39.862 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:50:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:50:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.8052ms
2025-07-18 12:50:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:50:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.2652ms
2025-07-18 12:51:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:51:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:51:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:51:39.818 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:51:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:51:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:51:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:51:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:51:39.839 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:51:39.839 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:51:39.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:51:39.840 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:51:39.848 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:51:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:51:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1229ms
2025-07-18 12:51:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:51:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.5109ms
2025-07-18 12:51:39.853 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:51:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:51:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.8564ms
2025-07-18 12:51:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:51:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.7838ms
2025-07-18 12:51:39.864 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:51:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:51:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.3863ms
2025-07-18 12:51:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:51:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.9455ms
2025-07-18 12:52:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:52:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:52:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:52:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:52:39.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:52:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:52:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:52:39.834 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:52:39.871 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:52:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:52:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.6016ms
2025-07-18 12:52:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:52:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.4078ms
2025-07-18 12:52:39.874 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:52:39.874 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:52:39.874 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:52:39.874 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:52:39.886 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:52:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:52:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.8282ms
2025-07-18 12:52:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:52:39.889 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.8085ms
2025-07-18 12:52:39.902 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:52:39.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:52:39.903 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.4113ms
2025-07-18 12:52:39.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:52:39.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0206ms
2025-07-18 12:53:39.840 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:53:39.840 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:53:39.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:53:39.844 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:53:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:53:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:53:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:53:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:53:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:53:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:53:39.845 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:53:39.845 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:53:39.854 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:53:39.854 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:53:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:53:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5175ms
2025-07-18 12:53:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:53:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:53:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.7897ms
2025-07-18 12:53:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:53:39.876 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:53:39.878 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:53:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.5223ms
2025-07-18 12:53:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:53:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.9516ms
2025-07-18 12:53:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.6178ms
2025-07-18 12:53:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.178ms
2025-07-18 12:54:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:54:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:54:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:54:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:54:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:54:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:54:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:54:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:54:39.825 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:54:39.829 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:54:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.0299ms
2025-07-18 12:54:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:54:39.829 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:54:39.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:54:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.0134ms
2025-07-18 12:54:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:54:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.2946ms
2025-07-18 12:54:39.847 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:54:39.847 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:54:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1352ms
2025-07-18 12:54:39.847 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:54:39.851 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:54:39.870 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:54:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:54:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.7295ms
2025-07-18 12:54:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:54:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1083ms
2025-07-18 12:55:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:55:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:55:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:55:39.809 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:55:39.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:55:39.853 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:55:39.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:55:39.853 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:55:39.859 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:55:39.860 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:55:39.861 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:55:39.861 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:55:39.875 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:55:39.875 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:55:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:55:39.878 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:55:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 68.9229ms
2025-07-18 12:55:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.764ms
2025-07-18 12:55:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:55:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:55:39.878 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:55:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.8023ms
2025-07-18 12:55:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.2496ms
2025-07-18 12:55:39.889 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:55:39.890 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.8076ms
2025-07-18 12:55:39.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:55:39.892 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.6548ms
2025-07-18 12:56:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:56:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:56:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:56:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:56:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:56:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:56:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:56:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:56:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:56:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:56:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:56:39.809 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:56:39.831 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:56:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:56:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.2713ms
2025-07-18 12:56:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:56:39.839 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:56:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.7446ms
2025-07-18 12:56:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:56:39.841 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:56:39.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.8991ms
2025-07-18 12:56:39.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:56:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.4725ms
2025-07-18 12:56:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:56:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.8382ms
2025-07-18 12:56:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:56:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.5795ms
2025-07-18 12:57:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:57:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:57:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:57:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:57:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:57:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:57:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:57:39.811 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:57:39.811 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:57:39.812 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:57:39.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.1022ms
2025-07-18 12:57:39.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:57:39.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.0092ms
2025-07-18 12:57:39.816 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:57:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:57:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.2982ms
2025-07-18 12:57:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:57:39.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.9369ms
2025-07-18 12:57:39.842 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:57:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:57:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:57:39.842 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:57:39.849 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:57:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:57:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 6.449ms
2025-07-18 12:57:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:57:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.3786ms
2025-07-18 12:58:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:58:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:58:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:58:39.818 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:58:39.837 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:58:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:58:39.839 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:58:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:58:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:58:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:58:39.841 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:58:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:58:39.841 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:58:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:58:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.3144ms
2025-07-18 12:58:39.858 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:58:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:58:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.0089ms
2025-07-18 12:58:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:58:39.868 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.7665ms
2025-07-18 12:58:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:58:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.8422ms
2025-07-18 12:58:39.875 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:58:39.875 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:58:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.0461ms
2025-07-18 12:58:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:58:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.1857ms
2025-07-18 12:59:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:59:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:59:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:59:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:59:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:59:39.840 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:59:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:59:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 12:59:39.841 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 12:59:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 12:59:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:59:39.843 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 12:59:39.853 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 12:59:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:59:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.6302ms
2025-07-18 12:59:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 12:59:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.3136ms
2025-07-18 12:59:39.858 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 12:59:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 12:59:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.6976ms
2025-07-18 12:59:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 12:59:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.6151ms
2025-07-18 12:59:39.868 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 12:59:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 12:59:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.924ms
2025-07-18 12:59:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 12:59:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.6064ms
2025-07-18 13:00:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:00:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:00:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:00:39.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:00:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:00:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:00:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:00:39.850 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:00:39.855 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:00:39.856 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:00:39.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:00:39.856 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:00:39.866 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:00:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:00:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.4162ms
2025-07-18 13:00:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:00:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.5995ms
2025-07-18 13:00:39.866 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:00:39.871 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:00:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:00:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:00:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5308ms
2025-07-18 13:00:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6972ms
2025-07-18 13:00:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:00:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:00:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.7333ms
2025-07-18 13:00:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.1927ms
2025-07-18 13:01:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:01:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:01:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:01:39.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:01:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:01:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:01:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:01:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:01:39.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:01:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:01:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:01:39.829 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:01:39.831 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:01:39.831 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:01:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:01:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:01:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.342ms
2025-07-18 13:01:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.1599ms
2025-07-18 13:01:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:01:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:01:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3228ms
2025-07-18 13:01:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0865ms
2025-07-18 13:01:39.848 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:01:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:01:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.4329ms
2025-07-18 13:01:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:01:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.0315ms
2025-07-18 13:02:39.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:02:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:02:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:02:39.831 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:02:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:02:39.835 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:02:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:02:39.835 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:02:39.857 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:02:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:02:39.882 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:02:39.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.2873ms
2025-07-18 13:02:39.883 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:02:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:02:39.883 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:02:39.883 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:02:39.883 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:02:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.9101ms
2025-07-18 13:02:39.883 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:02:39.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.0895ms
2025-07-18 13:02:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:02:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.728ms
2025-07-18 13:02:39.912 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:02:39.919 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:02:39.920 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.317ms
2025-07-18 13:02:39.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:02:39.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.7138ms
2025-07-18 13:03:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:03:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:03:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:03:39.813 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:03:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:03:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:03:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:03:39.839 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:03:39.840 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:03:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:03:39.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.6231ms
2025-07-18 13:03:39.845 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:03:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.4973ms
2025-07-18 13:03:39.865 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:03:39.865 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:03:39.866 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:03:39.867 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:03:39.867 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:03:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.5563ms
2025-07-18 13:03:39.867 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:03:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:03:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6731ms
2025-07-18 13:03:39.890 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:03:39.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:03:39.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.8266ms
2025-07-18 13:03:39.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:03:39.891 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.8909ms
2025-07-18 13:04:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:04:39.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:04:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:04:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:04:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:04:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:04:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:04:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:04:39.831 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:04:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:04:39.831 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:04:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:04:39.877 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:04:39.879 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:04:39.880 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.3739ms
2025-07-18 13:04:39.880 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:04:39.880 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:04:39.880 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.9302ms
2025-07-18 13:04:39.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:04:39.898 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:04:39.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:04:39.901 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:04:39.906 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 74.8834ms
2025-07-18 13:04:39.907 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:04:39.908 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.1925ms
2025-07-18 13:04:39.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.5611ms
2025-07-18 13:04:39.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 80.4731ms
2025-07-18 13:05:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:05:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:05:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:05:39.835 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:05:39.846 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:05:39.846 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:05:39.847 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:05:39.847 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:05:39.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:05:39.860 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:05:39.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:05:39.860 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:05:39.868 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:05:39.868 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:05:39.868 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.9745ms
2025-07-18 13:05:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:05:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.8357ms
2025-07-18 13:05:39.878 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:05:39.880 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:05:39.880 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.0739ms
2025-07-18 13:05:39.880 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:05:39.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.005ms
2025-07-18 13:05:39.893 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:05:39.895 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:05:39.895 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.2666ms
2025-07-18 13:05:39.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:05:39.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.9354ms
2025-07-18 13:06:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:06:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:06:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:06:39.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:06:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:06:39.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:06:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:06:39.833 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:06:39.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:06:39.851 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:06:39.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:06:39.852 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:06:39.869 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:06:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:06:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.1607ms
2025-07-18 13:06:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:06:39.874 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:06:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:06:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.2948ms
2025-07-18 13:06:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:06:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.5489ms
2025-07-18 13:06:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.2536ms
2025-07-18 13:06:39.888 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:06:39.889 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:06:39.889 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.6284ms
2025-07-18 13:06:39.889 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:06:39.890 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.9828ms
2025-07-18 13:07:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:07:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:07:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:07:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:07:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:07:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:07:39.831 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:07:39.831 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:07:39.872 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:07:39.876 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:07:39.883 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:07:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:07:39.886 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:07:39.886 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:07:39.886 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.6078ms
2025-07-18 13:07:39.886 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:07:39.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:07:39.887 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:07:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 62.5341ms
2025-07-18 13:07:39.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:07:39.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.6654ms
2025-07-18 13:07:39.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.2707ms
2025-07-18 13:07:39.916 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:07:39.916 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:07:39.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.3473ms
2025-07-18 13:07:39.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:07:39.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8683ms
2025-07-18 13:08:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:08:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:08:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:08:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:08:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:08:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:08:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:08:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:08:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:08:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:08:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:08:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:08:39.848 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:08:39.852 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:08:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:08:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.6798ms
2025-07-18 13:08:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:08:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:08:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.0375ms
2025-07-18 13:08:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:08:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.526ms
2025-07-18 13:08:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 80.4651ms
2025-07-18 13:08:39.941 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:08:39.941 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:08:39.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 123.0187ms
2025-07-18 13:08:39.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:08:39.941 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 124.0528ms
2025-07-18 13:09:39.867 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:09:39.867 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:09:39.867 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:09:39.868 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:09:39.868 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:09:39.868 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:09:39.869 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:09:39.869 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:09:39.869 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:09:39.869 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:09:39.869 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:09:39.869 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:09:39.883 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:09:39.887 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:09:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.3566ms
2025-07-18 13:09:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:09:39.889 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:09:39.893 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:09:39.899 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.7809ms
2025-07-18 13:09:39.899 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:09:39.901 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6958ms
2025-07-18 13:09:39.902 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:09:39.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.5968ms
2025-07-18 13:09:39.906 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:09:39.906 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.7802ms
2025-07-18 13:09:39.906 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:09:39.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.181ms
2025-07-18 13:10:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:10:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:10:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:10:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:10:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:10:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:10:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:10:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:10:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:10:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:10:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:10:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:10:39.849 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:10:39.849 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:10:39.851 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:10:39.851 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:10:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.2474ms
2025-07-18 13:10:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.2222ms
2025-07-18 13:10:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:10:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:10:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.2562ms
2025-07-18 13:10:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.8797ms
2025-07-18 13:10:39.863 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:10:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:10:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.0643ms
2025-07-18 13:10:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:10:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3172ms
2025-07-18 13:11:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:11:39.844 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:11:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:11:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:11:39.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:11:39.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:11:39.847 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:11:39.847 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:11:39.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:11:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:11:39.850 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:11:39.850 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:11:39.888 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:11:39.894 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:11:39.894 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:11:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.8595ms
2025-07-18 13:11:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:11:39.894 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:11:39.895 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.608ms
2025-07-18 13:11:39.895 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:11:39.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.0399ms
2025-07-18 13:11:39.927 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:11:39.931 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:11:39.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.2102ms
2025-07-18 13:11:39.933 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 79.0414ms
2025-07-18 13:11:39.934 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:11:39.935 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 87.4696ms
2025-07-18 13:12:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:12:39.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:12:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:12:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:12:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:12:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:12:39.837 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:12:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:12:39.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:12:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:12:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:12:39.838 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:12:39.858 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:12:39.859 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:12:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:12:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:12:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.8693ms
2025-07-18 13:12:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.3108ms
2025-07-18 13:12:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:12:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:12:39.883 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:12:39.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.7442ms
2025-07-18 13:12:39.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:12:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.9264ms
2025-07-18 13:12:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.5421ms
2025-07-18 13:12:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:12:39.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.5473ms
2025-07-18 13:13:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:13:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:13:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:13:39.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:13:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:13:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:13:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:13:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:13:39.829 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:13:39.829 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:13:39.830 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:13:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:13:39.852 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:13:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:13:39.855 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:13:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.7259ms
2025-07-18 13:13:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:13:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:13:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.1159ms
2025-07-18 13:13:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3845ms
2025-07-18 13:13:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:13:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.7713ms
2025-07-18 13:13:39.869 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:13:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:13:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.6793ms
2025-07-18 13:13:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:13:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.1725ms
2025-07-18 13:14:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:14:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:14:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:14:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:14:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:14:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:14:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:14:39.825 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:14:39.825 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:14:39.825 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:14:39.826 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:14:39.826 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:14:39.856 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:14:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:14:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.4048ms
2025-07-18 13:14:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:14:39.865 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:14:39.868 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:14:39.868 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.4071ms
2025-07-18 13:14:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:14:39.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.9165ms
2025-07-18 13:14:39.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.518ms
2025-07-18 13:14:39.904 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:14:39.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:14:39.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 89.1011ms
2025-07-18 13:14:39.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:14:39.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.8343ms
2025-07-18 13:15:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:15:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:15:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:15:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:15:39.840 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:15:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:15:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:15:39.841 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:15:39.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:15:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:15:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:15:39.855 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:15:39.874 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:15:39.875 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:15:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:15:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:15:39.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.0981ms
2025-07-18 13:15:39.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.1359ms
2025-07-18 13:15:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:15:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:15:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.5473ms
2025-07-18 13:15:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.2066ms
2025-07-18 13:15:39.896 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:15:39.896 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:15:39.896 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.8201ms
2025-07-18 13:15:39.897 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:15:39.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.3174ms
2025-07-18 13:16:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:16:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:16:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:16:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:16:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:16:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:16:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:16:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:16:39.846 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:16:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:16:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.4432ms
2025-07-18 13:16:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:16:39.866 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:16:39.867 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:16:39.867 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:16:39.868 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:16:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8573ms
2025-07-18 13:16:39.868 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:16:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:16:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.4934ms
2025-07-18 13:16:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:16:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.1443ms
2025-07-18 13:16:39.894 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:16:39.901 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:16:39.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.849ms
2025-07-18 13:16:39.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:16:39.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4847ms
2025-07-18 13:17:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:17:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:17:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:17:39.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:17:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:17:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:17:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:17:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:17:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:17:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:17:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:17:39.833 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:17:39.835 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:17:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:17:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.8857ms
2025-07-18 13:17:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:17:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.0435ms
2025-07-18 13:17:39.849 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:17:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:17:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.5294ms
2025-07-18 13:17:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:17:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2444ms
2025-07-18 13:17:39.861 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:17:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:17:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.8055ms
2025-07-18 13:17:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:17:39.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.9779ms
2025-07-18 13:18:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:18:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:18:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:18:39.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:18:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:18:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:18:39.833 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:18:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:18:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:18:39.834 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:18:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:18:39.835 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:18:39.837 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:18:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:18:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.9917ms
2025-07-18 13:18:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:18:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.1441ms
2025-07-18 13:18:39.852 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:18:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:18:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4036ms
2025-07-18 13:18:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:18:39.859 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:18:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:18:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.8554ms
2025-07-18 13:18:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:18:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.8287ms
2025-07-18 13:18:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.491ms
2025-07-18 13:19:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:19:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:19:39.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:19:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:19:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:19:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:19:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:19:39.840 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:19:39.840 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:19:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:19:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:19:39.843 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:19:39.846 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:19:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:19:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.5513ms
2025-07-18 13:19:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:19:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.4878ms
2025-07-18 13:19:39.856 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:19:39.870 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:19:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:19:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.4584ms
2025-07-18 13:19:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:19:39.906 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:19:39.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.6761ms
2025-07-18 13:19:39.907 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 64.1292ms
2025-07-18 13:19:39.908 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:19:39.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.6487ms
2025-07-18 13:20:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:20:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:20:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:20:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:20:39.833 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:20:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:20:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:20:39.836 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:20:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:20:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:20:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:20:39.843 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:20:39.853 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:20:39.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:20:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.6185ms
2025-07-18 13:20:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:20:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.0896ms
2025-07-18 13:20:39.862 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:20:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:20:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.1544ms
2025-07-18 13:20:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:20:39.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.088ms
2025-07-18 13:20:39.884 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:20:39.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:20:39.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 78.2162ms
2025-07-18 13:20:39.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:20:39.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.234ms
2025-07-18 13:21:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:21:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:21:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:21:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:21:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:21:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:21:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:21:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:21:39.853 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:21:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:21:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.9235ms
2025-07-18 13:21:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:21:39.864 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:21:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:21:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.8951ms
2025-07-18 13:21:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:21:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.3834ms
2025-07-18 13:21:39.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:21:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.0572ms
2025-07-18 13:21:39.875 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:21:39.875 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:21:39.875 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:21:39.891 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:21:39.893 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:21:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.2523ms
2025-07-18 13:21:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:21:39.895 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.0096ms
2025-07-18 13:22:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:22:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:22:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:22:39.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:22:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:22:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:22:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:22:39.820 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:22:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:22:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:22:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:22:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:22:39.868 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:22:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:22:39.869 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 59.0013ms
2025-07-18 13:22:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:22:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.9595ms
2025-07-18 13:22:39.869 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:22:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:22:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.1601ms
2025-07-18 13:22:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:22:39.879 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:22:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.2776ms
2025-07-18 13:22:39.892 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:22:39.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.9098ms
2025-07-18 13:22:39.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:22:39.899 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.231ms
2025-07-18 13:23:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:23:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:23:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:23:39.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:23:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:23:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:23:39.829 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:23:39.829 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:23:39.838 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:23:39.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:23:39.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.1181ms
2025-07-18 13:23:39.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:23:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0343ms
2025-07-18 13:23:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:23:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:23:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:23:39.843 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:23:39.858 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:23:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:23:39.861 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:23:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.2588ms
2025-07-18 13:23:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:23:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2199ms
2025-07-18 13:23:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:23:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.5763ms
2025-07-18 13:23:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:23:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0446ms
2025-07-18 13:24:39.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:24:39.789 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:24:39.791 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:24:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:24:39.791 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:24:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:24:39.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:24:39.792 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:24:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:24:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:24:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:24:39.806 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:24:39.815 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:24:39.815 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:24:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:24:39.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.1442ms
2025-07-18 13:24:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:24:39.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:24:39.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.0838ms
2025-07-18 13:24:39.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.0052ms
2025-07-18 13:24:39.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:24:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.779ms
2025-07-18 13:24:39.827 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:24:39.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:24:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.9023ms
2025-07-18 13:24:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:24:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.9783ms
2025-07-18 13:25:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:25:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:25:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:25:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:25:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:25:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:25:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:25:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:25:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:25:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:25:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:25:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:25:39.839 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:25:39.843 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:25:39.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8334ms
2025-07-18 13:25:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:25:39.844 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:25:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:25:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.0627ms
2025-07-18 13:25:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:25:39.852 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:25:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.4582ms
2025-07-18 13:25:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.2687ms
2025-07-18 13:25:39.867 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:25:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.3182ms
2025-07-18 13:25:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:25:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.3332ms
2025-07-18 13:26:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:26:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:26:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:26:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:26:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:26:39.798 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:26:39.798 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:26:39.798 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:26:39.816 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:26:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:26:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:26:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.544ms
2025-07-18 13:26:39.835 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:26:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:26:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.4633ms
2025-07-18 13:26:39.835 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:26:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:26:39.835 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:26:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:26:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.68ms
2025-07-18 13:26:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:26:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.7927ms
2025-07-18 13:26:39.858 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:26:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:26:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.1362ms
2025-07-18 13:26:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:26:39.859 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.6321ms
2025-07-18 13:27:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:27:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:27:39.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:27:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:27:39.846 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:27:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:27:39.850 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:27:39.851 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:27:39.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:27:39.854 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:27:39.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:27:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:27:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.7958ms
2025-07-18 13:27:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:27:39.856 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:27:39.888 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:27:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:27:39.888 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:27:39.905 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.815ms
2025-07-18 13:27:39.906 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:27:39.906 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:27:39.908 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.524ms
2025-07-18 13:27:39.908 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.5557ms
2025-07-18 13:27:39.908 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:27:39.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:27:39.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.5385ms
2025-07-18 13:27:39.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.5691ms
2025-07-18 13:28:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:28:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:28:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:28:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:28:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:28:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:28:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:28:39.835 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:28:39.835 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:28:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:28:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.2337ms
2025-07-18 13:28:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:28:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:28:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:28:39.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:28:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.1595ms
2025-07-18 13:28:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:28:39.858 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:28:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:28:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.1027ms
2025-07-18 13:28:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:28:39.877 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:28:39.879 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:28:39.880 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.85ms
2025-07-18 13:28:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:28:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.0184ms
2025-07-18 13:28:39.906 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.3508ms
2025-07-18 13:29:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:29:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:29:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:29:39.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:29:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:29:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:29:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:29:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:29:39.844 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:29:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:29:39.849 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:29:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:29:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.1986ms
2025-07-18 13:29:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:29:39.862 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:29:39.864 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:29:39.864 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:29:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.245ms
2025-07-18 13:29:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.8478ms
2025-07-18 13:29:39.864 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:29:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:29:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.3674ms
2025-07-18 13:29:39.880 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:29:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:29:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.4182ms
2025-07-18 13:29:39.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:29:39.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7528ms
2025-07-18 13:30:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:30:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:30:39.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:30:39.824 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:30:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:30:39.844 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:30:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:30:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:30:39.845 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:30:39.846 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:30:39.847 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:30:39.849 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:30:39.866 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:30:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:30:39.867 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:30:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6801ms
2025-07-18 13:30:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:30:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:30:39.869 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.8851ms
2025-07-18 13:30:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:30:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.8773ms
2025-07-18 13:30:39.875 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:30:39.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2526ms
2025-07-18 13:30:39.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:30:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.8341ms
2025-07-18 13:30:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:30:39.900 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.1217ms
2025-07-18 13:31:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:31:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:31:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:31:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:31:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:31:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:31:39.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:31:39.815 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:31:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:31:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:31:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:31:39.839 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:31:39.861 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:31:39.861 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:31:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:31:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:31:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.085ms
2025-07-18 13:31:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.1481ms
2025-07-18 13:31:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:31:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:31:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.4976ms
2025-07-18 13:31:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.3945ms
2025-07-18 13:31:39.879 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:31:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:31:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.9218ms
2025-07-18 13:31:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:31:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.0709ms
2025-07-18 13:32:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:32:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:32:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:32:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:32:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:32:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:32:39.837 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:32:39.837 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:32:39.850 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:32:39.852 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:32:39.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:32:39.854 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:32:39.874 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:32:39.875 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:32:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.4638ms
2025-07-18 13:32:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:32:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.4527ms
2025-07-18 13:32:39.881 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:32:39.883 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:32:39.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.6037ms
2025-07-18 13:32:39.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:32:39.891 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.9745ms
2025-07-18 13:32:39.892 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:32:39.892 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:32:39.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.5679ms
2025-07-18 13:32:39.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:32:39.912 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.485ms
2025-07-18 13:33:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:33:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:33:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:33:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:33:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:33:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:33:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:33:39.814 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:33:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:33:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:33:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:33:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:33:39.829 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:33:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:33:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.1473ms
2025-07-18 13:33:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:33:39.836 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:33:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:33:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8965ms
2025-07-18 13:33:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:33:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.0465ms
2025-07-18 13:33:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.3543ms
2025-07-18 13:33:39.872 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:33:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:33:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.6281ms
2025-07-18 13:33:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:33:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.3596ms
2025-07-18 13:34:39.842 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:34:39.842 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:34:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:34:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:34:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:34:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:34:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:34:39.843 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:34:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:34:39.843 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:34:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:34:39.843 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:34:39.852 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:34:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:34:39.861 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:34:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.5605ms
2025-07-18 13:34:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:34:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:34:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.0304ms
2025-07-18 13:34:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:34:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.109ms
2025-07-18 13:34:39.885 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:34:39.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.0783ms
2025-07-18 13:34:39.887 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:34:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.8483ms
2025-07-18 13:34:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:34:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.04ms
2025-07-18 13:35:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:35:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:35:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:35:39.818 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:35:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:35:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:35:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:35:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:35:39.823 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:35:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:35:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:35:39.823 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:35:39.841 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:35:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:35:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.5334ms
2025-07-18 13:35:39.844 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:35:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:35:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6398ms
2025-07-18 13:35:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:35:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.9209ms
2025-07-18 13:35:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:35:39.859 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2001ms
2025-07-18 13:35:39.860 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:35:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:35:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.9006ms
2025-07-18 13:35:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:35:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.5934ms
2025-07-18 13:36:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:36:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:36:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:36:39.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:36:39.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:36:39.825 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:36:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:36:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:36:39.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:36:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:36:39.829 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:36:39.829 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:36:39.849 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:36:39.850 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:36:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:36:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.0106ms
2025-07-18 13:36:39.851 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:36:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:36:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.5137ms
2025-07-18 13:36:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.0835ms
2025-07-18 13:36:39.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:36:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6811ms
2025-07-18 13:36:39.871 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:36:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:36:39.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.8825ms
2025-07-18 13:36:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:36:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.0057ms
2025-07-18 13:37:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:37:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:37:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:37:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:37:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:37:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:37:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:37:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:37:39.823 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:37:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:37:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.3473ms
2025-07-18 13:37:39.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:37:39.826 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:37:39.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:37:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.6351ms
2025-07-18 13:37:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:37:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0437ms
2025-07-18 13:37:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.3552ms
2025-07-18 13:37:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:37:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:37:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:37:39.838 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:37:39.855 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:37:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:37:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.4296ms
2025-07-18 13:37:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:37:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.0696ms
2025-07-18 13:38:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:38:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:38:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:38:39.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:38:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:38:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:38:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:38:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:38:39.816 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:38:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:38:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.7736ms
2025-07-18 13:38:39.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:38:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.1409ms
2025-07-18 13:38:39.829 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:38:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:38:39.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.3494ms
2025-07-18 13:38:39.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:38:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1591ms
2025-07-18 13:38:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:38:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:38:39.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:38:39.841 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:38:39.890 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:38:39.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:38:39.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.2205ms
2025-07-18 13:38:39.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:38:39.891 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.1178ms
2025-07-18 13:39:42.325 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:39:42.325 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:39:42.325 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:39:42.325 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:39:42.326 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:39:42.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:39:42.326 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:39:42.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:39:42.326 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:39:42.326 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:39:42.326 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:39:42.326 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:39:42.340 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:39:42.343 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:39:42.348 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:39:42.348 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.6397ms
2025-07-18 13:39:42.348 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:39:42.348 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0037ms
2025-07-18 13:39:42.355 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:39:42.359 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.8835ms
2025-07-18 13:39:42.360 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:39:42.364 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:39:42.366 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.2719ms
2025-07-18 13:39:42.366 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:39:42.368 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.8285ms
2025-07-18 13:39:42.368 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:39:42.368 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.4493ms
2025-07-18 13:40:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:40:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:40:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:40:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:40:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:40:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:40:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:40:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:40:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:40:39.824 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:40:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:40:39.828 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:40:39.846 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:40:39.845 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:40:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:40:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.3388ms
2025-07-18 13:40:39.851 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:40:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:40:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.1707ms
2025-07-18 13:40:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:40:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.7019ms
2025-07-18 13:40:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.698ms
2025-07-18 13:40:39.888 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:40:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:40:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.178ms
2025-07-18 13:40:39.889 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:40:39.889 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.9813ms
2025-07-18 13:41:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:41:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:41:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:41:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:41:39.826 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:41:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:41:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:41:39.827 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:41:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:41:39.840 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:41:39.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:41:39.843 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:41:39.858 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:41:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:41:39.862 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:41:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.3257ms
2025-07-18 13:41:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:41:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:41:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.1556ms
2025-07-18 13:41:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:41:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.2331ms
2025-07-18 13:41:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.5415ms
2025-07-18 13:41:39.878 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:41:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:41:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.0643ms
2025-07-18 13:41:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:41:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.0434ms
2025-07-18 13:42:39.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:42:39.879 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:42:39.879 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:42:39.879 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:42:39.879 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:42:39.879 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:42:39.879 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:42:39.880 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:42:39.880 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:42:39.880 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:42:39.880 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:42:39.880 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:42:39.883 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:42:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:42:39.889 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.7205ms
2025-07-18 13:42:39.890 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:42:39.890 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:42:39.895 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.8461ms
2025-07-18 13:42:39.896 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:42:39.896 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.8432ms
2025-07-18 13:42:39.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:42:39.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.655ms
2025-07-18 13:42:39.904 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:42:39.912 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:42:39.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.8487ms
2025-07-18 13:42:39.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:42:39.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5897ms
2025-07-18 13:43:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:43:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:43:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:43:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:43:39.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:43:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:43:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:43:39.826 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:43:39.844 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:43:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:43:39.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:43:39.847 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:43:39.865 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:43:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:43:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.0034ms
2025-07-18 13:43:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:43:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.6584ms
2025-07-18 13:43:39.870 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:43:39.872 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:43:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:43:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.1695ms
2025-07-18 13:43:39.877 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:43:39.877 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:43:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.1222ms
2025-07-18 13:43:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:43:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6461ms
2025-07-18 13:43:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.8442ms
2025-07-18 13:44:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:44:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:44:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:44:39.833 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:44:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:44:39.835 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:44:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:44:39.835 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:44:39.857 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:44:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:44:39.861 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:44:39.867 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:44:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.8033ms
2025-07-18 13:44:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:44:39.879 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:44:39.880 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:44:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.4135ms
2025-07-18 13:44:39.881 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:44:39.881 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.4298ms
2025-07-18 13:44:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:44:39.881 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:44:39.881 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.2605ms
2025-07-18 13:44:39.904 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:44:39.909 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:44:39.909 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.0005ms
2025-07-18 13:44:39.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:44:39.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.9642ms
2025-07-18 13:45:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:45:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:45:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:45:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:45:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:45:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:45:39.849 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:45:39.852 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:45:39.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:45:39.853 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:45:39.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:45:39.853 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:45:39.862 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:45:39.862 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:45:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:45:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:45:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.7565ms
2025-07-18 13:45:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.152ms
2025-07-18 13:45:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:45:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:45:39.875 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:45:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.4161ms
2025-07-18 13:45:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:45:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.7172ms
2025-07-18 13:45:39.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.4009ms
2025-07-18 13:45:39.877 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:45:39.878 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.1038ms
2025-07-18 13:46:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:46:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:46:39.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:46:39.813 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:46:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:46:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:46:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:46:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:46:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:46:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:46:39.846 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:46:39.846 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:46:39.869 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:46:39.874 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:46:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:46:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.845ms
2025-07-18 13:46:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:46:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.0212ms
2025-07-18 13:46:39.881 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:46:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:46:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.9771ms
2025-07-18 13:46:39.886 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:46:39.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.5176ms
2025-07-18 13:46:39.911 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:46:39.912 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.2708ms
2025-07-18 13:46:39.912 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:46:39.912 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.2969ms
2025-07-18 13:47:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:47:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:47:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:47:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:47:39.858 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:47:39.860 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:47:39.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:47:39.860 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:47:39.868 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:47:39.869 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:47:39.871 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:47:39.871 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:47:39.883 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:47:39.883 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:47:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:47:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:47:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.745ms
2025-07-18 13:47:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.4972ms
2025-07-18 13:47:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:47:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:47:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.616ms
2025-07-18 13:47:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5834ms
2025-07-18 13:47:39.908 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:47:39.910 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:47:39.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.9731ms
2025-07-18 13:47:39.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:47:39.911 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.2017ms
2025-07-18 13:48:39.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:48:39.824 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:48:39.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:48:39.824 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:48:39.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:48:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:48:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:48:39.849 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:48:39.879 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:48:39.880 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:48:39.880 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:48:39.881 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:48:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 56.418ms
2025-07-18 13:48:39.881 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:48:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:48:39.883 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:48:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.0661ms
2025-07-18 13:48:39.889 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:48:39.925 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:48:39.926 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 77.3512ms
2025-07-18 13:48:39.926 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:48:39.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.6849ms
2025-07-18 13:48:39.932 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:48:39.932 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:48:39.932 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.3665ms
2025-07-18 13:48:39.932 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:48:39.938 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.1757ms
2025-07-18 13:49:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:49:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:49:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:49:39.846 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:49:39.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:49:39.861 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:49:39.861 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:49:39.861 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:49:39.861 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:49:39.862 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:49:39.862 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:49:39.863 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:49:39.863 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:49:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:49:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0413ms
2025-07-18 13:49:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:49:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.7803ms
2025-07-18 13:49:39.870 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:49:39.877 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:49:39.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.965ms
2025-07-18 13:49:39.877 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:49:39.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:49:39.879 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:49:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.0843ms
2025-07-18 13:49:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:49:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.9186ms
2025-07-18 13:49:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.5672ms
2025-07-18 13:50:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:50:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:50:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:50:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:50:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:50:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:50:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:50:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:50:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:50:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:50:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:50:39.839 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:50:39.841 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:50:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:50:39.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.0603ms
2025-07-18 13:50:39.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:50:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.2209ms
2025-07-18 13:50:39.849 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:50:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:50:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.8476ms
2025-07-18 13:50:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:50:39.861 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:50:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:50:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.0364ms
2025-07-18 13:50:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:50:39.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.7279ms
2025-07-18 13:50:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5045ms
2025-07-18 13:51:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:51:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:51:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:51:39.803 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:51:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:51:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:51:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:51:39.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:51:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:51:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:51:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:51:39.820 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:51:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:51:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:51:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.6529ms
2025-07-18 13:51:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:51:39.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7329ms
2025-07-18 13:51:39.822 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:51:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:51:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.2079ms
2025-07-18 13:51:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:51:39.835 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:51:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:51:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6421ms
2025-07-18 13:51:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:51:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8647ms
2025-07-18 13:51:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.4221ms
2025-07-18 13:52:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:52:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:52:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:52:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:52:39.806 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:52:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:52:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:52:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:52:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:52:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:52:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:52:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:52:39.852 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:52:39.852 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:52:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:52:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.4551ms
2025-07-18 13:52:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:52:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:52:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.5019ms
2025-07-18 13:52:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:52:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.8933ms
2025-07-18 13:52:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.4067ms
2025-07-18 13:52:39.870 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:52:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:52:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.297ms
2025-07-18 13:52:39.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:52:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.2581ms
2025-07-18 13:53:39.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:53:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:53:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:53:39.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:53:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:53:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:53:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:53:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:53:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:53:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:53:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:53:39.816 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:53:39.819 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:53:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:53:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.637ms
2025-07-18 13:53:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:53:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.2129ms
2025-07-18 13:53:39.826 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:53:39.832 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:53:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.1675ms
2025-07-18 13:53:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:53:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7107ms
2025-07-18 13:53:39.840 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:53:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:53:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 39.9113ms
2025-07-18 13:53:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:53:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.7876ms
2025-07-18 13:54:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:54:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:54:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:54:39.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:54:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:54:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:54:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:54:39.822 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:54:39.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:54:39.857 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:54:39.859 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:54:39.866 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:54:39.890 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:54:39.890 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:54:39.892 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:54:39.892 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:54:39.892 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 79.5052ms
2025-07-18 13:54:39.892 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 70.1621ms
2025-07-18 13:54:39.892 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:54:39.892 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:54:39.893 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 83.7084ms
2025-07-18 13:54:39.893 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.4002ms
2025-07-18 13:54:39.902 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:54:39.911 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:54:39.911 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.0549ms
2025-07-18 13:54:39.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:54:39.925 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.4713ms
2025-07-18 13:55:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:55:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:55:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:55:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:55:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:55:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:55:39.824 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:55:39.824 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:55:39.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:55:39.861 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:55:39.861 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:55:39.862 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:55:39.862 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:55:39.863 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:55:39.876 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:55:39.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:55:39.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 67.6811ms
2025-07-18 13:55:39.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:55:39.906 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.311ms
2025-07-18 13:55:39.907 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:55:39.907 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:55:39.907 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.302ms
2025-07-18 13:55:39.907 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 83.5187ms
2025-07-18 13:55:39.907 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:55:39.908 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:55:39.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.1095ms
2025-07-18 13:55:39.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 91.2267ms
2025-07-18 13:56:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:56:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:56:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:56:39.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:56:39.828 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:56:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:56:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:56:39.829 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:56:39.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:56:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:56:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:56:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:56:39.874 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:56:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:56:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.2466ms
2025-07-18 13:56:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:56:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.021ms
2025-07-18 13:56:39.878 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:56:39.882 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:56:39.886 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:56:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.1321ms
2025-07-18 13:56:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:56:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:56:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.1087ms
2025-07-18 13:56:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.7481ms
2025-07-18 13:56:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:56:39.893 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3863ms
2025-07-18 13:57:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:57:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:57:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:57:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:57:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:57:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:57:39.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:57:39.814 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:57:39.855 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:57:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:57:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.8593ms
2025-07-18 13:57:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:57:39.859 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:57:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:57:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.59ms
2025-07-18 13:57:39.870 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:57:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.9451ms
2025-07-18 13:57:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:57:39.870 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:57:39.871 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:57:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.4274ms
2025-07-18 13:57:39.871 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:57:39.887 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:57:39.887 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:57:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.6647ms
2025-07-18 13:57:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:57:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.1669ms
2025-07-18 13:58:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:58:39.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:58:39.825 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:58:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:58:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:58:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:58:39.830 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:58:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:58:39.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:58:39.853 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:58:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:58:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:58:39.871 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:58:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:58:39.874 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:58:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.7533ms
2025-07-18 13:58:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:58:39.875 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:58:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.7579ms
2025-07-18 13:58:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 44.7964ms
2025-07-18 13:58:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:58:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.9241ms
2025-07-18 13:58:39.886 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:58:39.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:58:39.899 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.6983ms
2025-07-18 13:58:39.899 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:58:39.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.6914ms
2025-07-18 13:59:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:59:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:59:39.845 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:59:39.845 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:59:39.859 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:59:39.860 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:59:39.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:59:39.860 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 13:59:39.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 13:59:39.862 +00:00 [INF] CORS policy execution successful.
2025-07-18 13:59:39.864 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:59:39.864 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 13:59:39.878 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 13:59:39.880 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 13:59:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.9823ms
2025-07-18 13:59:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 13:59:39.881 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 13:59:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5009ms
2025-07-18 13:59:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:59:39.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.3164ms
2025-07-18 13:59:39.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 13:59:39.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.6377ms
2025-07-18 13:59:39.903 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 13:59:39.910 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 13:59:39.911 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.6369ms
2025-07-18 13:59:39.912 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 13:59:39.912 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.1617ms
2025-07-18 14:00:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:00:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:00:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:00:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:00:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:00:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:00:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:00:39.826 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:00:39.854 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:00:39.854 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:00:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:00:39.855 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:00:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:00:39.857 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:00:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.9302ms
2025-07-18 14:00:39.857 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:00:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:00:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.3692ms
2025-07-18 14:00:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:00:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:00:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.1848ms
2025-07-18 14:00:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.853ms
2025-07-18 14:00:39.880 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:00:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:00:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.855ms
2025-07-18 14:00:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:00:39.881 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0643ms
2025-07-18 14:01:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:01:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:01:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:01:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:01:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:01:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:01:39.819 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:01:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:01:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:01:39.842 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:01:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:01:39.844 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:01:39.869 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:01:39.869 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:01:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:01:39.873 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:01:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.6048ms
2025-07-18 14:01:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.218ms
2025-07-18 14:01:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:01:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:01:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.913ms
2025-07-18 14:01:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.0601ms
2025-07-18 14:01:39.894 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:01:39.894 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:01:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.0477ms
2025-07-18 14:01:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:01:39.895 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.2012ms
2025-07-18 14:02:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:02:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:02:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:02:39.842 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:02:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:02:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:02:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:02:39.855 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:02:39.866 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:02:39.867 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:02:39.868 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:02:39.869 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:02:39.873 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:02:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:02:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.1337ms
2025-07-18 14:02:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:02:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.9768ms
2025-07-18 14:02:39.875 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:02:39.893 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:02:39.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.7069ms
2025-07-18 14:02:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:02:39.900 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.8546ms
2025-07-18 14:02:39.900 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:02:39.900 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:02:39.901 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.3927ms
2025-07-18 14:02:39.901 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:02:39.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.7386ms
2025-07-18 14:03:39.790 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:03:39.791 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:03:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:03:39.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:03:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:03:39.792 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:03:39.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:03:39.792 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:03:39.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:03:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:03:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:03:39.794 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:03:39.808 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:03:39.811 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:03:39.811 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.5992ms
2025-07-18 14:03:39.812 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:03:39.812 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:03:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.6672ms
2025-07-18 14:03:39.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:03:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:03:39.824 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:03:39.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5514ms
2025-07-18 14:03:39.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:03:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.1346ms
2025-07-18 14:03:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.1713ms
2025-07-18 14:03:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:03:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.5855ms
2025-07-18 14:04:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:04:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:04:39.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:04:39.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:04:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:04:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:04:39.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:04:39.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:04:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:04:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:04:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:04:39.801 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:04:39.819 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:04:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:04:39.823 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2984ms
2025-07-18 14:04:39.823 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:04:39.834 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:04:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:04:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.8851ms
2025-07-18 14:04:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:04:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.6693ms
2025-07-18 14:04:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.6185ms
2025-07-18 14:04:39.846 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:04:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:04:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.3583ms
2025-07-18 14:04:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:04:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.1082ms
2025-07-18 14:05:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:05:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:05:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:05:39.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:05:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:05:39.825 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:05:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:05:39.828 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:05:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:05:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:05:39.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:05:39.846 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:05:39.862 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:05:39.868 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:05:39.868 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 59.392ms
2025-07-18 14:05:39.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:05:39.868 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:05:39.893 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:05:39.895 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 90.2993ms
2025-07-18 14:05:39.895 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.0379ms
2025-07-18 14:05:39.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:05:39.899 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:05:39.900 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.3691ms
2025-07-18 14:05:39.901 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:05:39.903 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.3688ms
2025-07-18 14:05:39.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:05:39.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.2502ms
2025-07-18 14:06:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:06:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:06:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:06:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:06:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:06:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:06:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:06:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:06:39.824 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:06:39.824 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:06:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:06:39.830 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:06:39.856 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:06:39.862 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:06:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:06:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.8545ms
2025-07-18 14:06:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:06:39.879 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:06:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.0527ms
2025-07-18 14:06:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:06:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.4385ms
2025-07-18 14:06:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:06:39.889 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.4228ms
2025-07-18 14:06:39.897 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:06:39.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.577ms
2025-07-18 14:06:39.931 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:06:39.932 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 108.7495ms
2025-07-18 14:07:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:07:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:07:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:07:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:07:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:07:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:07:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:07:39.827 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:07:39.848 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:07:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:07:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.2669ms
2025-07-18 14:07:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:07:39.853 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:07:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:07:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.8246ms
2025-07-18 14:07:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:07:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.561ms
2025-07-18 14:07:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.1857ms
2025-07-18 14:07:39.870 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:07:39.871 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:07:39.871 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:07:39.871 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:07:39.894 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:07:39.894 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:07:39.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.2121ms
2025-07-18 14:07:39.894 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:07:39.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.9068ms
2025-07-18 14:08:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:08:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:08:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:08:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:08:39.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:08:39.857 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:08:39.857 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:08:39.857 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:08:39.861 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:08:39.880 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:08:39.880 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:08:39.881 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:08:39.881 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:08:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:08:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:08:39.882 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:08:39.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9278ms
2025-07-18 14:08:39.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.6922ms
2025-07-18 14:08:39.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:08:39.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:08:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.9237ms
2025-07-18 14:08:39.891 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9671ms
2025-07-18 14:08:39.940 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:08:39.942 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:08:39.943 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.322ms
2025-07-18 14:08:39.943 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:08:39.944 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.4392ms
2025-07-18 14:09:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:09:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:09:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:09:39.831 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:09:39.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:09:39.852 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:09:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:09:39.854 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:09:39.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:09:39.864 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:09:39.864 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:09:39.864 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:09:39.874 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:09:39.885 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:09:39.887 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:09:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:09:39.890 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 58.4856ms
2025-07-18 14:09:39.890 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.8154ms
2025-07-18 14:09:39.890 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:09:39.890 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:09:39.911 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:09:39.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.9182ms
2025-07-18 14:09:39.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.4809ms
2025-07-18 14:09:39.923 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:09:39.926 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 61.7915ms
2025-07-18 14:09:39.926 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:09:39.926 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.2801ms
2025-07-18 14:10:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:10:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:10:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:10:39.826 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:10:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:10:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:10:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:10:39.827 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:10:39.850 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:10:39.851 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:10:39.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:10:39.853 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:10:39.878 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:10:39.878 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:10:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:10:39.882 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:10:39.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 56.7744ms
2025-07-18 14:10:39.883 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.0754ms
2025-07-18 14:10:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:10:39.883 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:10:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.2998ms
2025-07-18 14:10:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.4164ms
2025-07-18 14:10:39.919 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:10:39.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:10:39.923 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.6499ms
2025-07-18 14:10:39.923 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:10:39.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.3472ms
2025-07-18 14:11:39.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:11:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:11:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:11:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:11:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:11:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:11:39.827 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:11:39.827 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:11:39.840 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:11:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:11:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:11:39.844 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:11:39.856 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:11:39.856 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:11:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:11:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:11:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.7581ms
2025-07-18 14:11:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.7191ms
2025-07-18 14:11:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:11:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:11:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.6761ms
2025-07-18 14:11:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.3459ms
2025-07-18 14:11:39.863 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:11:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:11:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.9775ms
2025-07-18 14:11:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:11:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.6187ms
2025-07-18 14:12:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:12:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:12:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 14:12:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:12:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:12:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 14:12:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:12:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:12:39.833 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:12:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:12:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 14:12:39.833 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 14:12:39.854 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 14:12:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:12:39.857 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 14:12:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.9445ms
2025-07-18 14:12:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 14:12:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.7672ms
2025-07-18 14:12:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 14:12:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.7058ms
2025-07-18 14:12:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 14:12:39.873 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 14:12:39.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.2415ms
2025-07-18 14:12:39.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 14:12:39.886 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 53.5482ms
2025-07-18 14:12:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 14:12:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.3822ms
2025-07-18 15:10:49.239 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 15:10:49.244 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:49.244 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 5.5449ms
2025-07-18 15:10:49.239 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 15:10:49.245 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:49.250 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 6.3301ms
2025-07-18 15:10:49.252 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 15:10:49.252 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:49.253 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:10:49.258 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:10:49.259 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:10:49.259 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.2967ms
2025-07-18 15:10:49.259 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:10:49.259 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 7.2929ms
2025-07-18 15:10:49.264 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 15:10:49.264 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:49.264 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:10:49.264 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:10:49.264 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:10:49.264 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3917ms
2025-07-18 15:10:49.264 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:10:49.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.0859ms
2025-07-18 15:10:50.027 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:10:50.028 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.028 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 15:10:50.028 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.9742ms
2025-07-18 15:10:50.028 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.028 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.2363ms
2025-07-18 15:10:50.031 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 15:10:50.032 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.032 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:10:50.032 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.033 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 2.445ms
2025-07-18 15:10:50.033 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.6114ms
2025-07-18 15:10:50.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 15:10:50.033 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:10:50.034 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.034 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:10:50.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:10:50.034 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:10:50.034 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 15:10:50.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 15:10:50.039 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.039 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:10:50.039 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:10:50.043 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:10:50.043 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.044 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:10:50.044 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:10:50.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:10:50.056 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.056 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:10:50.056 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:10:50.071 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 15:10:50.084 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 50.6108ms
2025-07-18 15:10:50.085 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:10:50.085 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 51.8703ms
2025-07-18 15:10:50.097 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 15:10:50.098 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.098 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 64.1009ms
2025-07-18 15:10:50.103 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:10:50.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 72.7351ms
2025-07-18 15:10:50.107 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 15:10:50.107 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.107 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:10:50.107 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 15:10:50.112 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 15:10:50.173 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:10:50.175 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:10:50.176 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 119.7421ms
2025-07-18 15:10:50.176 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:10:50.177 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 124.4095ms
2025-07-18 15:10:50.196 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 15:10:50.204 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.207 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 156.3425ms
2025-07-18 15:10:50.207 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:10:50.208 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 165.1117ms
2025-07-18 15:10:50.213 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.213 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 15:10:50.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:10:50.221 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.221 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.221 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:10:50.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:10:50.226 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.226 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:10:50.230 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:10:50.231 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.229 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 121.5147ms
2025-07-18 15:10:50.231 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.231 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:10:50.229 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:10:50.231 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:10:50.231 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:10:50.231 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:10:50.231 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 124.1655ms
2025-07-18 15:10:50.239 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 15:10:50.249 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:10:50.249 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 15:10:50.252 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.253 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 22.0303ms
2025-07-18 15:10:50.254 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:10:50.254 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:10:50.255 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.6193ms
2025-07-18 15:10:50.255 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:10:50.256 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 35.581ms
2025-07-18 15:10:50.257 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.8219ms
2025-07-18 15:10:50.266 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.266 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.266 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 35.4522ms
2025-07-18 15:10:50.267 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:10:50.267 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 46.4133ms
2025-07-18 15:10:50.281 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.289 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.299 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.309 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.311 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.313 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.316 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.369 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.370 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.374 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.384 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.389 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.393 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.399 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.403 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.410 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.418 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.420 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.426 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.435 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.439 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.443 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.448 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.454 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.461 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.465 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.469 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.472 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.485 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.493 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.535 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.550 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.557 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.559 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.564 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.572 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.574 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.580 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.584 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.586 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.588 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.593 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.605 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.607 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.618 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.620 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.624 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.626 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.644 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.651 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.653 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.655 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.657 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.660 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.663 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.667 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 627.4207ms
2025-07-18 15:10:50.667 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:10:50.667 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 629.1571ms
2025-07-18 15:10:50.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 15:10:50.669 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:10:50.669 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:10:50.669 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:10:50.671 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 15:10:50.679 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.686 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.688 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.690 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.693 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.707 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.723 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.726 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.730 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.732 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.741 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.749 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.751 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.753 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.757 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.761 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.763 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.769 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.771 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.775 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.790 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.793 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.800 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.807 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.809 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.822 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.824 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.833 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.835 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.837 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.839 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.844 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.848 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.850 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.851 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.855 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.857 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.859 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.860 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.865 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.868 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:10:50.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:10:50.872 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 202.8127ms
2025-07-18 15:10:50.872 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:10:50.873 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 204.1761ms
2025-07-18 15:11:20.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:20.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:20.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:11:20.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:11:20.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:20.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:20.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:11:20.803 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:11:20.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:20.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:20.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:11:20.814 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:11:20.814 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:11:20.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:11:20.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.2764ms
2025-07-18 15:11:20.815 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:11:20.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.6085ms
2025-07-18 15:11:20.821 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:11:20.832 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:11:20.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.4195ms
2025-07-18 15:11:20.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:11:20.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.0141ms
2025-07-18 15:11:20.845 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:11:20.851 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:11:20.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.4799ms
2025-07-18 15:11:20.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:11:20.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.1258ms
2025-07-18 15:11:52.294 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:52.295 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:52.295 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:11:52.295 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:11:52.298 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:52.298 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:11:52.298 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:52.299 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:11:52.299 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:11:52.299 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:11:52.299 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:11:52.299 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:11:52.307 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:11:52.307 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:11:52.315 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:11:52.316 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5142ms
2025-07-18 15:11:52.317 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:11:52.317 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:11:52.319 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:11:52.319 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.7254ms
2025-07-18 15:11:52.319 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:11:52.326 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:11:52.328 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.8135ms
2025-07-18 15:11:52.328 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8338ms
2025-07-18 15:11:52.328 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:11:52.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.6964ms
2025-07-18 15:11:52.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.7074ms
2025-07-18 15:12:20.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:20.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:20.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:20.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:20.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:12:20.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:12:20.813 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:12:20.813 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:12:20.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:20.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:20.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:12:20.817 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:12:20.825 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:12:20.828 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:12:20.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:12:20.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.3329ms
2025-07-18 15:12:20.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:12:20.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:12:20.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.8912ms
2025-07-18 15:12:20.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:12:20.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.1328ms
2025-07-18 15:12:20.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.1045ms
2025-07-18 15:12:20.840 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:12:20.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:12:20.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.425ms
2025-07-18 15:12:20.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:12:20.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0648ms
2025-07-18 15:12:50.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:50.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:50.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:50.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:50.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:12:50.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:12:50.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:12:50.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:12:50.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:12:50.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:12:50.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:12:50.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:12:50.818 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:12:50.818 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:12:50.824 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:12:50.826 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:12:50.827 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:12:50.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.7203ms
2025-07-18 15:12:50.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.1694ms
2025-07-18 15:12:50.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:12:50.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:12:50.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:12:50.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.4529ms
2025-07-18 15:12:50.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:12:50.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.6585ms
2025-07-18 15:12:50.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.9352ms
2025-07-18 15:12:50.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.973ms
2025-07-18 15:13:20.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:20.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:20.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:20.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:13:20.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:20.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:13:20.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:13:20.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:13:20.817 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:13:20.817 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:13:20.819 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:13:20.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:13:20.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.3991ms
2025-07-18 15:13:20.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:13:20.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.4298ms
2025-07-18 15:13:20.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:13:20.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0686ms
2025-07-18 15:13:20.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.8978ms
2025-07-18 15:13:20.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:20.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:20.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:13:20.824 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:13:20.836 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:13:20.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:13:20.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.9458ms
2025-07-18 15:13:20.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:13:20.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.5925ms
2025-07-18 15:13:50.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:50.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:50.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:50.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:50.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:13:50.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:13:50.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:13:50.797 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:13:50.810 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:13:50.812 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:13:50.812 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:13:50.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.8306ms
2025-07-18 15:13:50.812 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:13:50.812 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:13:50.812 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.921ms
2025-07-18 15:13:50.812 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:13:50.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.0217ms
2025-07-18 15:13:50.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.1883ms
2025-07-18 15:13:50.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:13:50.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:13:50.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:13:50.813 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:13:50.824 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:13:50.825 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:13:50.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.8981ms
2025-07-18 15:13:50.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:13:50.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.2127ms
2025-07-18 15:14:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:14:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:14:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:14:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:14:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:14:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:14:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:14:39.811 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:14:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:14:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:14:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:14:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:14:39.834 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:14:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:14:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.8957ms
2025-07-18 15:14:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:14:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8054ms
2025-07-18 15:14:39.836 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:14:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:14:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.0286ms
2025-07-18 15:14:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:14:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6121ms
2025-07-18 15:14:39.856 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:14:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:14:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.4678ms
2025-07-18 15:14:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:14:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.9883ms
2025-07-18 15:15:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:15:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:15:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:15:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:15:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:15:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:15:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:15:39.794 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:15:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:15:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:15:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:15:39.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:15:39.820 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:15:39.820 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:15:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:15:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:15:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.7385ms
2025-07-18 15:15:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.7848ms
2025-07-18 15:15:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:15:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:15:39.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.4504ms
2025-07-18 15:15:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9577ms
2025-07-18 15:15:39.836 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:15:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:15:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.2826ms
2025-07-18 15:15:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:15:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3048ms
2025-07-18 15:16:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:16:39.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:16:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:16:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:16:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:16:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:16:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:16:39.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:16:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:16:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:16:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:16:39.806 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:16:39.815 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:16:39.815 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:16:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2384ms
2025-07-18 15:16:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:16:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.1587ms
2025-07-18 15:16:39.822 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:16:39.822 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:16:39.822 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.6594ms
2025-07-18 15:16:39.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:16:39.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.0809ms
2025-07-18 15:16:39.835 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:16:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:16:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.2852ms
2025-07-18 15:16:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:16:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4867ms
2025-07-18 15:17:39.790 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:17:39.791 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:17:39.791 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:17:39.791 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:17:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:17:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:17:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:17:39.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:17:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:17:39.817 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:17:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:17:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:17:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:17:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.4717ms
2025-07-18 15:17:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:17:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:17:39.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4856ms
2025-07-18 15:17:39.828 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:17:39.830 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:17:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.0402ms
2025-07-18 15:17:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:17:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.1261ms
2025-07-18 15:17:39.842 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:17:39.843 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:17:39.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.9145ms
2025-07-18 15:17:39.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:17:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7273ms
2025-07-18 15:18:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:18:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:18:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:18:39.809 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:18:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:18:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:18:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:18:39.811 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:18:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:18:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:18:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:18:39.817 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:18:39.831 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:18:39.833 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:18:39.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.2963ms
2025-07-18 15:18:39.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:18:39.834 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:18:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:18:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.3875ms
2025-07-18 15:18:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.2189ms
2025-07-18 15:18:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:18:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.891ms
2025-07-18 15:18:39.853 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:18:39.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:18:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.241ms
2025-07-18 15:18:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:18:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.3794ms
2025-07-18 15:19:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:19:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:19:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:19:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:19:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:19:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:19:39.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:19:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:19:39.852 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:19:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:19:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.4217ms
2025-07-18 15:19:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:19:39.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:19:39.853 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:19:39.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:19:39.853 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:19:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.6056ms
2025-07-18 15:19:39.865 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:19:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:19:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 58.0917ms
2025-07-18 15:19:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:19:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.5708ms
2025-07-18 15:19:39.869 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:19:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:19:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.8334ms
2025-07-18 15:19:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:19:39.873 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.8731ms
2025-07-18 15:20:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:20:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:20:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:20:39.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:20:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:20:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:20:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:20:39.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:20:39.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:20:39.825 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:20:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:20:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:20:39.837 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:20:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:20:39.838 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:20:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.03ms
2025-07-18 15:20:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:20:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:20:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.371ms
2025-07-18 15:20:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:20:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4321ms
2025-07-18 15:20:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.2478ms
2025-07-18 15:20:39.852 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:20:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:20:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.3468ms
2025-07-18 15:20:39.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:20:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3551ms
2025-07-18 15:21:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:21:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:21:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:21:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:21:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:21:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:21:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:21:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:21:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:21:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:21:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:21:39.815 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:21:39.820 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:21:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:21:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.5355ms
2025-07-18 15:21:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:21:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.7717ms
2025-07-18 15:21:39.820 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:21:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:21:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.276ms
2025-07-18 15:21:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:21:39.825 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:21:39.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7913ms
2025-07-18 15:21:39.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:21:39.828 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.4877ms
2025-07-18 15:21:39.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:21:39.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.5749ms
2025-07-18 15:22:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:22:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:22:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:22:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:22:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:22:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:22:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:22:39.816 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:22:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:22:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:22:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:22:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:22:39.840 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:22:39.840 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:22:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:22:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.6783ms
2025-07-18 15:22:39.845 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:22:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:22:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9415ms
2025-07-18 15:22:39.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.4824ms
2025-07-18 15:22:39.845 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:22:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3709ms
2025-07-18 15:22:39.855 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:22:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:22:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.3875ms
2025-07-18 15:22:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:22:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.8109ms
2025-07-18 15:23:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:23:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:23:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:23:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:23:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:23:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:23:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:23:39.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:23:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:23:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:23:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:23:39.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:23:39.845 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:23:39.845 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:23:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:23:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.4097ms
2025-07-18 15:23:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:23:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:23:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.504ms
2025-07-18 15:23:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:23:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.0158ms
2025-07-18 15:23:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.7644ms
2025-07-18 15:23:39.861 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:23:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:23:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.3511ms
2025-07-18 15:23:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:23:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.411ms
2025-07-18 15:24:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:24:39.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:24:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:24:39.793 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:24:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:24:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:24:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:24:39.800 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:24:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:24:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:24:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:24:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:24:39.822 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:24:39.823 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:24:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:24:39.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8418ms
2025-07-18 15:24:39.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:24:39.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:24:39.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.3916ms
2025-07-18 15:24:39.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:24:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7105ms
2025-07-18 15:24:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.2388ms
2025-07-18 15:24:39.832 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:24:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:24:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.1498ms
2025-07-18 15:24:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:24:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.7435ms
2025-07-18 15:25:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:25:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:25:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:25:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:25:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:25:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:25:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:25:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:25:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:25:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:25:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:25:39.802 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:25:39.814 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:25:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:25:39.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.885ms
2025-07-18 15:25:39.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:25:39.816 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:25:39.821 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:25:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.9249ms
2025-07-18 15:25:39.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:25:39.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:25:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.2223ms
2025-07-18 15:25:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.1506ms
2025-07-18 15:25:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:25:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:25:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7259ms
2025-07-18 15:25:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.9536ms
2025-07-18 15:26:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:26:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:26:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:26:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:26:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:26:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:26:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:26:39.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:26:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:26:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:26:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:26:39.802 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:26:39.820 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:26:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:26:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.1181ms
2025-07-18 15:26:39.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:26:39.822 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:26:39.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.9801ms
2025-07-18 15:26:39.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:26:39.828 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.11ms
2025-07-18 15:26:39.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:26:39.830 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:26:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.114ms
2025-07-18 15:26:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:26:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.7569ms
2025-07-18 15:26:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:26:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.9844ms
2025-07-18 15:27:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:27:39.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:27:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:27:39.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:27:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:27:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:27:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:27:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:27:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:27:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:27:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:27:39.839 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:27:39.841 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:27:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:27:39.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 42.3566ms
2025-07-18 15:27:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:27:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.6937ms
2025-07-18 15:27:39.846 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:27:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:27:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.2747ms
2025-07-18 15:27:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:27:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.9966ms
2025-07-18 15:27:39.857 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:27:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:27:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.8817ms
2025-07-18 15:27:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:27:39.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.2503ms
2025-07-18 15:28:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:28:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:28:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:28:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:28:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:28:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:28:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:28:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:28:39.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:28:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:28:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:28:39.801 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:28:39.833 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:28:39.833 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:28:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:28:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:28:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.0071ms
2025-07-18 15:28:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:28:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.9576ms
2025-07-18 15:28:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:28:39.846 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:28:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:28:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.4931ms
2025-07-18 15:28:39.875 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 73.7305ms
2025-07-18 15:28:39.875 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:28:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.8965ms
2025-07-18 15:28:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.383ms
2025-07-18 15:29:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:29:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:29:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:29:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:29:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:29:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:29:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:29:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:29:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:29:39.816 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:29:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:29:39.816 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:29:39.823 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:29:39.828 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:29:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:29:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:29:39.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.9748ms
2025-07-18 15:29:39.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.0336ms
2025-07-18 15:29:39.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:29:39.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:29:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1412ms
2025-07-18 15:29:39.857 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:29:39.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.1347ms
2025-07-18 15:29:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:29:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.4384ms
2025-07-18 15:29:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:29:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.2486ms
2025-07-18 15:30:39.882 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:30:39.882 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:30:39.883 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:30:39.883 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:30:39.883 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:30:39.883 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:30:39.883 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:30:39.883 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:30:39.884 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:30:39.888 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:30:39.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:30:39.896 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:30:39.924 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:30:39.924 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:30:39.925 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:30:39.925 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.2279ms
2025-07-18 15:30:39.925 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:30:39.925 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.0112ms
2025-07-18 15:30:39.932 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:30:39.933 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.9177ms
2025-07-18 15:30:39.933 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:30:39.934 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.1285ms
2025-07-18 15:30:39.944 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:30:39.944 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:30:39.945 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 61.158ms
2025-07-18 15:30:39.945 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:30:39.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.7491ms
2025-07-18 15:31:40.768 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:31:40.768 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:31:40.768 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:31:40.768 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:31:40.768 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:31:40.768 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:31:40.768 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:31:40.768 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:31:40.769 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:31:40.769 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:31:40.769 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:31:40.770 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:31:40.783 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:31:40.786 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:31:40.786 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:31:40.786 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.9558ms
2025-07-18 15:31:40.786 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:31:40.810 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:31:40.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.7545ms
2025-07-18 15:31:40.811 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.876ms
2025-07-18 15:31:40.811 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:31:40.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6345ms
2025-07-18 15:31:40.819 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:31:40.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:31:40.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.2517ms
2025-07-18 15:31:40.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:31:40.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.5239ms
2025-07-18 15:32:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:32:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:32:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:32:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:32:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:32:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:32:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:32:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:32:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:32:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:32:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:32:39.823 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:32:39.829 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:32:39.835 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:32:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:32:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:32:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.8285ms
2025-07-18 15:32:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.2279ms
2025-07-18 15:32:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:32:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:32:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.3588ms
2025-07-18 15:32:39.851 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:32:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:32:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.5556ms
2025-07-18 15:32:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.2232ms
2025-07-18 15:32:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:32:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1917ms
2025-07-18 15:33:39.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:33:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:33:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:33:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:33:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:33:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:33:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:33:39.831 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:33:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:33:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:33:39.832 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:33:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:33:39.859 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:33:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:33:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.8597ms
2025-07-18 15:33:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:33:39.860 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:33:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:33:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.9314ms
2025-07-18 15:33:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:33:39.884 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:33:39.886 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.0209ms
2025-07-18 15:33:39.888 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:33:39.889 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.5946ms
2025-07-18 15:33:39.889 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:33:39.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.1008ms
2025-07-18 15:33:39.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.2162ms
2025-07-18 15:40:00.952 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 15:40:00.953 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:00.953 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 15:40:00.957 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 4.7952ms
2025-07-18 15:40:00.957 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:00.957 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 4.1867ms
2025-07-18 15:40:00.968 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 15:40:00.968 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:00.968 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:40:00.968 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:40:00.969 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:40:00.969 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6047ms
2025-07-18 15:40:00.969 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:40:00.969 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.3136ms
2025-07-18 15:40:00.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 15:40:00.990 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:00.990 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:40:00.990 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:40:00.991 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:40:00.992 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.6058ms
2025-07-18 15:40:00.992 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 15:40:00.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 5.0552ms
2025-07-18 15:40:01.201 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:40:01.201 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 15:40:01.202 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.202 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.202 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.5398ms
2025-07-18 15:40:01.202 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.6301ms
2025-07-18 15:40:01.202 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 15:40:01.202 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:40:01.203 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.203 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.203 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.4787ms
2025-07-18 15:40:01.203 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.5193ms
2025-07-18 15:40:01.210 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 15:40:01.210 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:40:01.210 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.210 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.210 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:40:01.210 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:40:01.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 15:40:01.213 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 15:40:01.213 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:40:01.214 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.214 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:40:01.214 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:40:01.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:40:01.219 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:40:01.219 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:40:01.226 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:40:01.227 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.227 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:01.227 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:40:01.230 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 15:40:01.232 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 15:40:01.233 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.235 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 21.7616ms
2025-07-18 15:40:01.235 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:40:01.236 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 26.1634ms
2025-07-18 15:40:01.242 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:40:01.248 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:40:01.248 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5048ms
2025-07-18 15:40:01.248 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:01.296 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.300 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 15:40:01.300 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 15:40:01.301 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.300 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:40:01.301 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:40:01.301 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 15:40:01.301 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.301 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 74.9301ms
2025-07-18 15:40:01.302 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 88.0192ms
2025-07-18 15:40:01.305 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:40:01.308 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 97.7562ms
2025-07-18 15:40:01.308 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 15:40:01.307 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.308 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.308 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:40:01.308 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:01.308 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:40:01.308 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:40:01.316 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 15:40:01.330 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.330 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 28.6277ms
2025-07-18 15:40:01.331 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 15:40:01.346 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 46.3104ms
2025-07-18 15:40:01.346 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:40:01.346 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:40:01.346 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.428ms
2025-07-18 15:40:01.346 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:01.347 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.8228ms
2025-07-18 15:40:01.362 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.389 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 15:40:01.389 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 15:40:01.390 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.390 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.407 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 99.0898ms
2025-07-18 15:40:01.407 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 15:40:01.408 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 100.0089ms
2025-07-18 15:40:01.408 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 189.1046ms
2025-07-18 15:40:01.408 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:40:01.409 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 193.6189ms
2025-07-18 15:40:01.410 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.423 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 15:40:01.423 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.423 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:40:01.423 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 15:40:01.437 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.446 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 15:40:01.446 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.446 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 23.4943ms
2025-07-18 15:40:01.447 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 15:40:01.447 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 23.9701ms
2025-07-18 15:40:01.452 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.459 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.461 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.463 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.465 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.466 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.476 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.481 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.482 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.483 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.484 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.491 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.497 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.502 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.503 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.506 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.509 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.519 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.525 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.530 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.538 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.539 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.540 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.549 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.551 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.555 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.560 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.562 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.564 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.571 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.572 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 358.5108ms
2025-07-18 15:40:01.572 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:40:01.573 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 359.3063ms
2025-07-18 15:40:01.578 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 15:40:01.578 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:01.578 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:40:01.578 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 15:40:01.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 15:40:01.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.591 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.595 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.603 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.605 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.618 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.622 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.625 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.630 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.636 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.641 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.643 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.645 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.650 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.654 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.657 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.660 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.662 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.670 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.674 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.684 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.689 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.692 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.734 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.744 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.748 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.750 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.753 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 15:40:01.754 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:01.756 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 177.4376ms
2025-07-18 15:40:01.756 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 15:40:01.756 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 178.579ms
2025-07-18 15:40:31.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:40:31.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:31.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:40:31.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:40:31.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:40:31.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:31.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:40:31.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:40:31.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:40:31.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:31.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:40:31.819 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:40:31.837 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:40:31.837 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:40:31.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:31.842 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:40:31.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2807ms
2025-07-18 15:40:31.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.5794ms
2025-07-18 15:40:31.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:40:31.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:40:31.844 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:40:31.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.9679ms
2025-07-18 15:40:31.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:40:31.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.4999ms
2025-07-18 15:40:31.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.9533ms
2025-07-18 15:40:31.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:40:31.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.9645ms
2025-07-18 15:41:01.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:01.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:01.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:01.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:01.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:01.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:01.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:41:01.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:41:01.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:41:01.799 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:41:01.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:41:01.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:41:01.813 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:41:01.814 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:41:01.814 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:41:01.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.6118ms
2025-07-18 15:41:01.815 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:41:01.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.3757ms
2025-07-18 15:41:01.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:41:01.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.8011ms
2025-07-18 15:41:01.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:41:01.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.9551ms
2025-07-18 15:41:01.822 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:41:01.822 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:41:01.826 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.0177ms
2025-07-18 15:41:01.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:41:01.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0678ms
2025-07-18 15:41:31.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:31.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:31.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:31.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:31.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:41:31.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:41:31.810 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:41:31.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:41:31.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:41:31.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:41:31.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:41:31.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.7583ms
2025-07-18 15:41:31.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:41:31.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:41:31.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:41:31.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:41:31.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7535ms
2025-07-18 15:41:31.829 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:41:31.829 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:41:31.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:41:31.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:41:31.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.0263ms
2025-07-18 15:41:31.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.9478ms
2025-07-18 15:41:31.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:41:31.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:41:31.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6673ms
2025-07-18 15:41:31.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4865ms
2025-07-18 15:42:01.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:01.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:01.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:01.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:01.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:42:01.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:42:01.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:42:01.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:42:01.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:01.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:01.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:42:01.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:42:01.818 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:42:01.823 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:42:01.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:42:01.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.7444ms
2025-07-18 15:42:01.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:42:01.827 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:42:01.827 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:42:01.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.3053ms
2025-07-18 15:42:01.828 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.2749ms
2025-07-18 15:42:01.828 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:42:01.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:42:01.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.7661ms
2025-07-18 15:42:01.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.7792ms
2025-07-18 15:42:01.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:42:01.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.9646ms
2025-07-18 15:42:31.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:31.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:31.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:31.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:31.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:42:31.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:42:31.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:42:31.801 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:42:31.816 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:42:31.816 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:42:31.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.6431ms
2025-07-18 15:42:31.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:42:31.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.8963ms
2025-07-18 15:42:31.817 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:42:31.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:42:31.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.0894ms
2025-07-18 15:42:31.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:42:31.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:42:31.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.9869ms
2025-07-18 15:42:31.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:42:31.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:42:31.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:42:31.837 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:42:31.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:42:31.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.1711ms
2025-07-18 15:42:31.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:42:31.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.067ms
2025-07-18 15:43:01.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:01.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:01.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:01.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:01.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:43:01.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:43:01.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:43:01.794 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:43:01.808 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:43:01.808 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:43:01.810 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:43:01.810 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:43:01.810 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.3042ms
2025-07-18 15:43:01.810 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.3899ms
2025-07-18 15:43:01.810 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:43:01.810 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:43:01.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.558ms
2025-07-18 15:43:01.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.6811ms
2025-07-18 15:43:01.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:01.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:01.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:43:01.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:43:01.825 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:43:01.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:43:01.826 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 15.5841ms
2025-07-18 15:43:01.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:43:01.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.1024ms
2025-07-18 15:43:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:43:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:43:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:43:39.816 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:43:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:43:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:43:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:43:39.822 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:43:39.833 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:43:39.836 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:43:39.837 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:43:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:43:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1159ms
2025-07-18 15:43:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:43:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:43:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.1686ms
2025-07-18 15:43:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:43:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:43:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.0649ms
2025-07-18 15:43:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.4361ms
2025-07-18 15:43:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:43:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.5647ms
2025-07-18 15:43:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6834ms
2025-07-18 15:44:39.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:44:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:44:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:44:39.800 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:44:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:44:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:44:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:44:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:44:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:44:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:44:39.807 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:44:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:44:39.819 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:44:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:44:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.9402ms
2025-07-18 15:44:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:44:39.825 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:44:39.827 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:44:39.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.7485ms
2025-07-18 15:44:39.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:44:39.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.9053ms
2025-07-18 15:44:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.75ms
2025-07-18 15:44:39.837 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:44:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:44:39.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.3769ms
2025-07-18 15:44:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:44:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2177ms
2025-07-18 15:45:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:45:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:45:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:45:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:45:39.800 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:45:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:45:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:45:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:45:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:45:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:45:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:45:39.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:45:39.812 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:45:39.813 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:45:39.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.9498ms
2025-07-18 15:45:39.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:45:39.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0522ms
2025-07-18 15:45:39.818 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:45:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:45:39.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.0375ms
2025-07-18 15:45:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:45:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.3377ms
2025-07-18 15:45:39.837 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:45:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:45:39.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.6054ms
2025-07-18 15:45:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:45:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9732ms
2025-07-18 15:46:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:46:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:46:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:46:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:46:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:46:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:46:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:46:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:46:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:46:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:46:39.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:46:39.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:46:39.833 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:46:39.834 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:46:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:46:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.2393ms
2025-07-18 15:46:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:46:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:46:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.9011ms
2025-07-18 15:46:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3082ms
2025-07-18 15:46:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:46:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4003ms
2025-07-18 15:46:39.851 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:46:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:46:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.3764ms
2025-07-18 15:46:39.852 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:46:39.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6509ms
2025-07-18 15:47:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:47:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:47:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:47:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:47:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:47:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:47:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:47:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:47:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:47:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:47:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:47:39.822 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:47:39.838 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:47:39.838 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:47:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:47:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:47:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7939ms
2025-07-18 15:47:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:47:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.0719ms
2025-07-18 15:47:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.1404ms
2025-07-18 15:47:39.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:47:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3492ms
2025-07-18 15:47:39.854 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:47:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:47:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.1773ms
2025-07-18 15:47:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:47:39.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.4858ms
2025-07-18 15:48:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:48:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:48:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:48:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:48:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:48:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:48:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:48:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:48:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:48:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:48:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:48:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:48:39.831 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:48:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:48:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.0274ms
2025-07-18 15:48:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:48:39.834 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:48:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:48:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.7398ms
2025-07-18 15:48:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:48:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7408ms
2025-07-18 15:48:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.3202ms
2025-07-18 15:48:39.845 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:48:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:48:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.1444ms
2025-07-18 15:48:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:48:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.6004ms
2025-07-18 15:49:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:49:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:49:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:49:39.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:49:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:49:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:49:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:49:39.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:49:39.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:49:39.813 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:49:39.814 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:49:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:49:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:49:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.9129ms
2025-07-18 15:49:39.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:49:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:49:39.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5531ms
2025-07-18 15:49:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:49:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:49:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.5365ms
2025-07-18 15:49:39.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:49:39.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.1698ms
2025-07-18 15:49:39.838 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:49:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:49:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.6646ms
2025-07-18 15:49:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:49:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5417ms
2025-07-18 15:50:39.791 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:50:39.791 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:50:39.791 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:50:39.791 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:50:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:50:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:50:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:50:39.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:50:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:50:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:50:39.806 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:50:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:50:39.808 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:50:39.808 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:50:39.811 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.6192ms
2025-07-18 15:50:39.811 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:50:39.812 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.7265ms
2025-07-18 15:50:39.812 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:50:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:50:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 48.8237ms
2025-07-18 15:50:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:50:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.3715ms
2025-07-18 15:50:39.854 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:50:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:50:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.3969ms
2025-07-18 15:50:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:50:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.8284ms
2025-07-18 15:51:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:51:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:51:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:51:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:51:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:51:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:51:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:51:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:51:39.815 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:51:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:51:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.231ms
2025-07-18 15:51:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:51:39.823 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:51:39.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:51:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.8511ms
2025-07-18 15:51:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.1992ms
2025-07-18 15:51:39.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:51:39.826 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.272ms
2025-07-18 15:51:39.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:51:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:51:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:51:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:51:39.847 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:51:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:51:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.1836ms
2025-07-18 15:51:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:51:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1431ms
2025-07-18 15:52:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:52:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:52:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:52:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:52:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:52:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:52:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:52:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:52:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:52:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:52:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:52:39.817 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:52:39.819 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:52:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:52:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.3035ms
2025-07-18 15:52:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:52:39.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.0557ms
2025-07-18 15:52:39.830 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:52:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:52:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.8123ms
2025-07-18 15:52:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:52:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.1677ms
2025-07-18 15:52:39.848 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:52:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:52:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.6291ms
2025-07-18 15:52:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:52:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.0594ms
2025-07-18 15:53:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:53:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:53:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:53:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:53:39.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:53:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:53:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:53:39.806 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:53:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:53:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:53:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:53:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:53:39.831 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:53:39.831 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:53:39.833 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:53:39.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.1714ms
2025-07-18 15:53:39.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:53:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0019ms
2025-07-18 15:53:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:53:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.0437ms
2025-07-18 15:53:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:53:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.0175ms
2025-07-18 15:53:39.872 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:53:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:53:39.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.8034ms
2025-07-18 15:53:39.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:53:39.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.2501ms
2025-07-18 15:54:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:54:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:54:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:54:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:54:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:54:39.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:54:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:54:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:54:39.810 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:54:39.813 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:54:39.813 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:54:39.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.9862ms
2025-07-18 15:54:39.813 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:54:39.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:54:39.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.1478ms
2025-07-18 15:54:39.813 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:54:39.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.2386ms
2025-07-18 15:54:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:54:39.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:54:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:54:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:54:39.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.0317ms
2025-07-18 15:54:39.832 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:54:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:54:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.1546ms
2025-07-18 15:54:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:54:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.6344ms
2025-07-18 15:55:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:55:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:55:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:55:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:55:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:55:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:55:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:55:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:55:39.795 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:55:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:55:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:55:39.797 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:55:39.813 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:55:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:55:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.5099ms
2025-07-18 15:55:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:55:39.817 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:55:39.827 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:55:39.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.5705ms
2025-07-18 15:55:39.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:55:39.833 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:55:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.9425ms
2025-07-18 15:55:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.6343ms
2025-07-18 15:55:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:55:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.9545ms
2025-07-18 15:55:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:55:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.2524ms
2025-07-18 15:56:39.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:56:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:56:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:56:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:56:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:56:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:56:39.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:56:39.797 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:56:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:56:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:56:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:56:39.799 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:56:39.813 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:56:39.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:56:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5518ms
2025-07-18 15:56:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:56:39.817 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:56:39.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.9016ms
2025-07-18 15:56:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:56:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8032ms
2025-07-18 15:56:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:56:39.835 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:56:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:56:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.8884ms
2025-07-18 15:56:39.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.4439ms
2025-07-18 15:56:39.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:56:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.6422ms
2025-07-18 15:57:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:57:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:57:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:57:39.795 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:57:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:57:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:57:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:57:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:57:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:57:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:57:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:57:39.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:57:39.819 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:57:39.820 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:57:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:57:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:57:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.5814ms
2025-07-18 15:57:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.6055ms
2025-07-18 15:57:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:57:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:57:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5038ms
2025-07-18 15:57:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.7199ms
2025-07-18 15:57:39.832 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:57:39.833 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:57:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.1923ms
2025-07-18 15:57:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:57:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5249ms
2025-07-18 15:58:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:58:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:58:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:58:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:58:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:58:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:58:39.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:58:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:58:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:58:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:58:39.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:58:39.813 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:58:39.814 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:58:39.814 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:58:39.814 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.8789ms
2025-07-18 15:58:39.814 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:58:39.815 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:58:39.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:58:39.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.271ms
2025-07-18 15:58:39.815 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:58:39.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7565ms
2025-07-18 15:58:39.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.2932ms
2025-07-18 15:58:39.827 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:58:39.828 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:58:39.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.7579ms
2025-07-18 15:58:39.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:58:39.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.4316ms
2025-07-18 15:59:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:59:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:59:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:59:39.809 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:59:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:59:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:59:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:59:39.830 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 15:59:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 15:59:39.837 +00:00 [INF] CORS policy execution successful.
2025-07-18 15:59:39.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:59:39.840 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 15:59:39.860 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 15:59:39.860 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 15:59:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 15:59:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:59:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.6687ms
2025-07-18 15:59:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 53.6428ms
2025-07-18 15:59:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 15:59:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 15:59:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.0036ms
2025-07-18 15:59:39.870 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 15:59:39.879 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.3067ms
2025-07-18 15:59:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 15:59:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.6826ms
2025-07-18 15:59:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 15:59:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.1008ms
2025-07-18 16:00:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:00:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:00:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:00:39.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:00:39.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:00:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:00:39.823 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:00:39.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:00:39.824 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:00:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:00:39.826 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.2348ms
2025-07-18 16:00:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:00:39.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:00:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:00:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5858ms
2025-07-18 16:00:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:00:39.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:00:39.849 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:00:39.850 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:00:39.857 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:00:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.633ms
2025-07-18 16:00:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:00:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:00:39.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.6338ms
2025-07-18 16:00:39.859 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:00:39.859 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.2714ms
2025-07-18 16:00:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.94ms
2025-07-18 16:01:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:01:39.823 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:01:39.823 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:01:39.826 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:01:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:01:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:01:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:01:39.831 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:01:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:01:39.854 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:01:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:01:39.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:01:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:01:39.857 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:01:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:01:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.5118ms
2025-07-18 16:01:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:01:39.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.8387ms
2025-07-18 16:01:39.878 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:01:39.879 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.556ms
2025-07-18 16:01:39.879 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:01:39.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.454ms
2025-07-18 16:01:39.883 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:01:39.886 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:01:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.5783ms
2025-07-18 16:01:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:01:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.3212ms
2025-07-18 16:02:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:02:39.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:02:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:02:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:02:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:02:39.795 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:02:39.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:02:39.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:02:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:02:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:02:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:02:39.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:02:39.824 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:02:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:02:39.825 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:02:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1714ms
2025-07-18 16:02:39.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:02:39.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.9502ms
2025-07-18 16:02:39.827 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:02:39.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.4481ms
2025-07-18 16:02:39.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:02:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.3329ms
2025-07-18 16:02:39.838 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:02:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:02:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.0592ms
2025-07-18 16:02:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:02:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.0529ms
2025-07-18 16:03:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:03:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:03:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:03:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:03:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:03:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:03:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:03:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:03:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:03:39.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:03:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:03:39.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:03:39.842 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:03:39.843 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:03:39.843 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:03:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.9129ms
2025-07-18 16:03:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:03:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7561ms
2025-07-18 16:03:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:03:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.659ms
2025-07-18 16:03:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:03:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.7304ms
2025-07-18 16:03:39.854 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:03:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:03:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1491ms
2025-07-18 16:03:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:03:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.7095ms
2025-07-18 16:04:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:04:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:04:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:04:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:04:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:04:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:04:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:04:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:04:39.816 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:04:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:04:39.816 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:04:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:04:39.841 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:04:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:04:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.4193ms
2025-07-18 16:04:39.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:04:39.853 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:04:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:04:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.8703ms
2025-07-18 16:04:39.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:04:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.1122ms
2025-07-18 16:04:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.6641ms
2025-07-18 16:04:39.861 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:04:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:04:39.862 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.3943ms
2025-07-18 16:04:39.862 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:04:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.2401ms
2025-07-18 16:05:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:05:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:05:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:05:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:05:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:05:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:05:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:05:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:05:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:05:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:05:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:05:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:05:39.844 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:05:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:05:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.8378ms
2025-07-18 16:05:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:05:39.848 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:05:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1854ms
2025-07-18 16:05:39.856 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:05:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:05:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:05:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 46.4527ms
2025-07-18 16:05:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.728ms
2025-07-18 16:05:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:05:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:05:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.3737ms
2025-07-18 16:05:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.139ms
2025-07-18 16:06:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:06:39.794 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:06:39.794 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:06:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:06:39.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:06:39.796 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:06:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:06:39.797 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:06:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:06:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:06:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:06:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:06:39.822 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:06:39.822 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:06:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:06:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:06:39.823 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.2386ms
2025-07-18 16:06:39.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:06:39.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.1796ms
2025-07-18 16:06:39.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:06:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6944ms
2025-07-18 16:06:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.7823ms
2025-07-18 16:06:39.840 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:06:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:06:39.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.1832ms
2025-07-18 16:06:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:06:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.4772ms
2025-07-18 16:07:39.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:07:39.792 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:07:39.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:07:39.792 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:07:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:07:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:07:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:07:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:07:39.816 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:07:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:07:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:07:39.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:07:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:07:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.7843ms
2025-07-18 16:07:39.819 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:07:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:07:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.8662ms
2025-07-18 16:07:39.835 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:07:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:07:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.6331ms
2025-07-18 16:07:39.856 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:07:39.872 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:07:39.873 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 68.4744ms
2025-07-18 16:07:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:07:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.5216ms
2025-07-18 16:07:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:07:39.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.6656ms
2025-07-18 16:08:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:08:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:08:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:08:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:08:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:08:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:08:39.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:08:39.807 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:08:39.825 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:08:39.829 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:08:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.7711ms
2025-07-18 16:08:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:08:39.835 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:08:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:08:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.8319ms
2025-07-18 16:08:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:08:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5132ms
2025-07-18 16:08:39.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:08:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:08:39.836 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:08:39.840 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:08:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.3791ms
2025-07-18 16:08:39.869 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:08:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:08:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.6703ms
2025-07-18 16:08:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:08:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9257ms
2025-07-18 16:09:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:09:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:09:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:09:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:09:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:09:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:09:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:09:39.819 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:09:39.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:09:39.840 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:09:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:09:39.849 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:09:39.849 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:09:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:09:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.5439ms
2025-07-18 16:09:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:09:39.858 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:09:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:09:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.6577ms
2025-07-18 16:09:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:09:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.9938ms
2025-07-18 16:09:39.870 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:09:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.7135ms
2025-07-18 16:09:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:09:39.872 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.9609ms
2025-07-18 16:09:39.872 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:09:39.873 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4066ms
2025-07-18 16:10:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:10:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:10:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:10:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:10:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:10:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:10:39.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:10:39.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:10:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:10:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:10:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:10:39.812 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:10:39.829 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:10:39.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:10:39.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.8279ms
2025-07-18 16:10:39.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:10:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6917ms
2025-07-18 16:10:39.840 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:10:39.862 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:10:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:10:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 63.6077ms
2025-07-18 16:10:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:10:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.8813ms
2025-07-18 16:10:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:10:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 68.5372ms
2025-07-18 16:10:39.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:10:39.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.9583ms
2025-07-18 16:11:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:11:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:11:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:11:39.832 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:11:39.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:11:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:11:39.838 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:11:39.838 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:11:39.850 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:11:39.850 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:11:39.850 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:11:39.850 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:11:39.857 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:11:39.858 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:11:39.860 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:11:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.8424ms
2025-07-18 16:11:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:11:39.862 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:11:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.8468ms
2025-07-18 16:11:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:11:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.4762ms
2025-07-18 16:11:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.6523ms
2025-07-18 16:11:39.871 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:11:39.886 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:11:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.4874ms
2025-07-18 16:11:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:11:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1257ms
2025-07-18 16:12:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:12:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:12:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:12:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:12:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:12:39.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:12:39.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:12:39.815 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:12:39.835 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:12:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:12:39.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.3254ms
2025-07-18 16:12:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:12:39.848 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:12:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:12:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.1485ms
2025-07-18 16:12:39.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:12:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.1474ms
2025-07-18 16:12:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.9623ms
2025-07-18 16:12:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:12:39.857 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:12:39.857 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:12:39.857 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:12:39.871 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:12:39.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:12:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.0715ms
2025-07-18 16:12:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:12:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.4613ms
2025-07-18 16:13:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:13:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:13:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:13:39.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:13:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:13:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:13:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:13:39.817 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:13:39.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:13:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:13:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:13:39.827 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:13:39.842 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:13:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:13:39.843 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:13:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.7911ms
2025-07-18 16:13:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:13:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:13:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7222ms
2025-07-18 16:13:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.8881ms
2025-07-18 16:13:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:13:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3747ms
2025-07-18 16:13:39.852 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:13:39.859 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:13:39.860 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.0759ms
2025-07-18 16:13:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:13:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.0823ms
2025-07-18 16:14:39.815 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:14:39.815 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:14:39.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:14:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:14:39.816 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:14:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:14:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:14:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:14:39.833 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:14:39.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:14:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:14:39.835 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:14:39.846 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:14:39.846 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:14:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:14:39.848 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:14:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.6805ms
2025-07-18 16:14:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:14:39.848 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.3969ms
2025-07-18 16:14:39.848 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:14:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.7922ms
2025-07-18 16:14:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.485ms
2025-07-18 16:14:39.858 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:14:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:14:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6902ms
2025-07-18 16:14:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:14:39.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.1944ms
2025-07-18 16:15:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:15:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:15:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:15:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:15:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:15:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:15:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:15:39.802 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:15:39.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:15:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:15:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:15:39.811 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:15:39.824 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:15:39.825 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:15:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:15:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.5683ms
2025-07-18 16:15:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:15:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.278ms
2025-07-18 16:15:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:15:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.2308ms
2025-07-18 16:15:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:15:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.149ms
2025-07-18 16:15:39.843 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:15:39.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:15:39.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.3816ms
2025-07-18 16:15:39.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:15:39.881 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.2952ms
2025-07-18 16:16:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:16:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:16:39.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:16:39.813 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:16:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:16:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:16:39.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:16:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:16:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:16:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:16:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:16:39.829 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:16:39.838 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:16:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:16:39.841 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:16:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:16:39.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.6123ms
2025-07-18 16:16:39.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:16:39.854 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:16:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.8402ms
2025-07-18 16:16:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:16:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:16:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.0953ms
2025-07-18 16:16:39.856 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.3146ms
2025-07-18 16:16:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:16:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.3019ms
2025-07-18 16:16:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.5223ms
2025-07-18 16:17:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:17:39.798 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:17:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:17:39.800 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:17:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:17:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:17:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:17:39.809 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:17:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:17:39.816 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:17:39.818 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:17:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:17:39.819 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:17:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:17:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.9051ms
2025-07-18 16:17:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:17:39.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.8569ms
2025-07-18 16:17:39.826 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:17:39.833 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:17:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.7312ms
2025-07-18 16:17:39.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:17:39.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.768ms
2025-07-18 16:17:39.843 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:17:39.858 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:17:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.6412ms
2025-07-18 16:17:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:17:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.7568ms
2025-07-18 16:18:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:18:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:18:39.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:18:39.801 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:18:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:18:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:18:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:18:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:18:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:18:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:18:39.804 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:18:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:18:39.813 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:18:39.814 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:18:39.815 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:18:39.815 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:18:39.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.9594ms
2025-07-18 16:18:39.816 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.49ms
2025-07-18 16:18:39.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:18:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:18:39.834 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:18:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.1026ms
2025-07-18 16:18:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:18:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.2719ms
2025-07-18 16:18:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.3972ms
2025-07-18 16:18:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:18:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.7849ms
2025-07-18 16:19:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:19:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:19:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:19:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:19:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:19:39.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:19:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:19:39.810 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:19:39.823 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:19:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:19:39.826 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.9109ms
2025-07-18 16:19:39.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:19:39.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5884ms
2025-07-18 16:19:39.831 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:19:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:19:39.831 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:19:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:19:39.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.6845ms
2025-07-18 16:19:39.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:19:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:19:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:19:39.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.7586ms
2025-07-18 16:19:39.850 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:19:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:19:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.578ms
2025-07-18 16:19:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:19:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0418ms
2025-07-18 16:20:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:20:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:20:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:20:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:20:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:20:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:20:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:20:39.819 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:20:39.837 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:20:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:20:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.0922ms
2025-07-18 16:20:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:20:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:20:39.849 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:20:39.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.9635ms
2025-07-18 16:20:39.850 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:20:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:20:39.850 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:20:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.4382ms
2025-07-18 16:20:39.850 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:20:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:20:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.9486ms
2025-07-18 16:20:39.863 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:20:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:20:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.7501ms
2025-07-18 16:20:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:20:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.173ms
2025-07-18 16:21:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:21:39.822 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:21:39.825 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:21:39.826 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:21:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:21:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:21:39.841 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:21:39.841 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:21:39.845 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:21:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:21:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.6675ms
2025-07-18 16:21:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:21:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.5402ms
2025-07-18 16:21:39.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:21:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:21:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:21:39.851 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:21:39.866 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:21:39.868 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:21:39.869 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.3337ms
2025-07-18 16:21:39.869 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:21:39.871 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:21:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9442ms
2025-07-18 16:21:39.872 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:21:39.873 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.1293ms
2025-07-18 16:21:39.873 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:21:39.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7383ms
2025-07-18 16:22:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:22:39.801 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:22:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:22:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:22:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:22:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:22:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:22:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:22:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:22:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:22:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:22:39.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:22:39.846 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:22:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:22:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.0403ms
2025-07-18 16:22:39.849 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:22:39.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.0685ms
2025-07-18 16:22:39.860 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:22:39.873 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:22:39.878 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:22:39.878 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.3086ms
2025-07-18 16:22:39.880 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:22:39.886 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:22:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 68.7606ms
2025-07-18 16:22:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.3539ms
2025-07-18 16:22:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:22:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.8986ms
2025-07-18 16:23:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:23:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:23:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:23:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:23:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:23:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:23:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:23:39.828 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:23:39.847 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:23:39.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:23:39.849 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:23:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:23:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:23:39.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.3426ms
2025-07-18 16:23:39.850 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:23:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:23:39.850 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:23:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.3757ms
2025-07-18 16:23:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:23:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.2145ms
2025-07-18 16:23:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:23:39.851 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.1811ms
2025-07-18 16:23:39.875 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:23:39.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:23:39.876 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.9967ms
2025-07-18 16:23:39.876 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:23:39.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.6876ms
2025-07-18 16:24:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:24:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:24:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:24:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:24:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:24:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:24:39.804 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:24:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:24:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:24:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:24:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:24:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:24:39.817 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:24:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:24:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.1024ms
2025-07-18 16:24:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:24:39.819 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:24:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.5222ms
2025-07-18 16:24:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:24:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.1588ms
2025-07-18 16:24:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:24:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.542ms
2025-07-18 16:24:39.828 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:24:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:24:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.0824ms
2025-07-18 16:24:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:24:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.4151ms
2025-07-18 16:25:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:25:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:25:39.843 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:25:39.844 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:25:39.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:25:39.869 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:25:39.870 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:25:39.871 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:25:39.890 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:25:39.891 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:25:39.892 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:25:39.895 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:25:39.896 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:25:39.906 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:25:39.918 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:25:39.920 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.4644ms
2025-07-18 16:25:39.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:25:39.923 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.026ms
2025-07-18 16:25:39.945 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:25:39.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 101.8086ms
2025-07-18 16:25:39.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:25:39.946 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 103.2734ms
2025-07-18 16:25:39.985 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:25:40.002 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:25:40.003 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 106.3833ms
2025-07-18 16:25:40.004 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:25:40.004 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 112.8962ms
2025-07-18 16:26:39.793 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:26:39.793 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:26:39.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:26:39.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:26:39.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:26:39.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:26:39.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:26:39.795 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:26:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:26:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:26:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:26:39.807 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:26:39.816 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:26:39.817 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:26:39.817 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:26:39.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.5988ms
2025-07-18 16:26:39.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:26:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:26:39.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.2551ms
2025-07-18 16:26:39.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.3475ms
2025-07-18 16:26:39.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:26:39.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.9645ms
2025-07-18 16:26:39.822 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:26:39.826 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:26:39.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.0652ms
2025-07-18 16:26:39.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:26:39.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.0474ms
2025-07-18 16:27:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:27:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:27:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:27:39.820 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:27:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:27:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:27:39.833 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:27:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:27:39.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:27:39.833 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:27:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:27:39.834 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:27:39.836 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:27:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:27:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.109ms
2025-07-18 16:27:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:27:39.858 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:27:39.861 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:27:39.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.859ms
2025-07-18 16:27:39.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:27:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:27:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.7268ms
2025-07-18 16:27:39.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.6285ms
2025-07-18 16:27:39.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:27:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:27:39.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2033ms
2025-07-18 16:27:39.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.4833ms
2025-07-18 16:28:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:28:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:28:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:28:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:28:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:28:39.800 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:28:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:28:39.800 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:28:39.819 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:28:39.820 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:28:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:28:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:28:39.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:28:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:28:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.2177ms
2025-07-18 16:28:39.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.2879ms
2025-07-18 16:28:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:28:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:28:39.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:28:39.821 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:28:39.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1393ms
2025-07-18 16:28:39.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.7469ms
2025-07-18 16:28:39.836 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:28:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:28:39.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.6383ms
2025-07-18 16:28:39.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:28:39.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.234ms
2025-07-18 16:29:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:29:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:29:39.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:29:39.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:29:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:29:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:29:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:29:39.803 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:29:39.823 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:29:39.829 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:29:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:29:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:29:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:29:39.835 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:29:39.837 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:29:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.0379ms
2025-07-18 16:29:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:29:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:29:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.9661ms
2025-07-18 16:29:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:29:39.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.1438ms
2025-07-18 16:29:39.870 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:29:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 87.3638ms
2025-07-18 16:29:39.887 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:29:39.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.1391ms
2025-07-18 16:29:39.888 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:29:39.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.2645ms
2025-07-18 16:30:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:30:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:30:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:30:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:30:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:30:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:30:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:30:39.808 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:30:39.822 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:30:39.824 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:30:39.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:30:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.369ms
2025-07-18 16:30:39.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:30:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:30:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:30:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:30:39.831 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:30:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:30:39.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2665ms
2025-07-18 16:30:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.5217ms
2025-07-18 16:30:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:30:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.4089ms
2025-07-18 16:30:39.848 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:30:39.849 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:30:39.849 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.849ms
2025-07-18 16:30:39.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:30:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.8011ms
2025-07-18 16:31:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:31:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:31:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:31:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:31:39.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:31:39.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:31:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:31:39.811 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:31:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:31:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:31:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:31:39.820 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:31:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:31:39.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:31:39.820 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.11ms
2025-07-18 16:31:39.820 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:31:39.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.1271ms
2025-07-18 16:31:39.826 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:31:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:31:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.7506ms
2025-07-18 16:31:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:31:39.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.2068ms
2025-07-18 16:31:39.845 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:31:39.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:31:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.9274ms
2025-07-18 16:31:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:31:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.161ms
2025-07-18 16:32:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:32:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:32:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:32:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:32:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:32:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:32:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:32:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:32:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:32:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:32:39.832 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:32:39.834 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:32:39.846 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:32:39.850 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:32:39.851 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.7018ms
2025-07-18 16:32:39.851 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:32:39.853 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:32:39.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.413ms
2025-07-18 16:32:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:32:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.3805ms
2025-07-18 16:32:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:32:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.1236ms
2025-07-18 16:32:39.859 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:32:39.865 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:32:39.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.4084ms
2025-07-18 16:32:39.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:32:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.0529ms
2025-07-18 16:33:39.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:33:39.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:33:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:33:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:33:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:33:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:33:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:33:39.805 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:33:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:33:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:33:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:33:39.822 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:33:39.836 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:33:39.836 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:33:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:33:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.3413ms
2025-07-18 16:33:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:33:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:33:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.9044ms
2025-07-18 16:33:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.3908ms
2025-07-18 16:33:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:33:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.056ms
2025-07-18 16:33:39.862 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:33:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:33:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.8025ms
2025-07-18 16:33:39.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:33:39.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.7098ms
2025-07-18 16:34:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:34:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:34:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:34:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:34:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:34:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:34:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:34:39.821 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:34:39.834 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:34:39.836 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:34:39.837 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:34:39.837 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:34:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.9439ms
2025-07-18 16:34:39.838 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:34:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:34:39.839 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:34:39.840 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:34:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2176ms
2025-07-18 16:34:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:34:39.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8665ms
2025-07-18 16:34:39.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:34:39.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.9765ms
2025-07-18 16:34:39.854 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:34:39.854 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:34:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.5858ms
2025-07-18 16:34:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:34:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.2898ms
2025-07-18 16:35:39.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:35:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:35:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:35:39.812 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:35:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:35:39.824 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:35:39.824 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:35:39.824 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:35:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:35:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:35:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:35:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:35:39.843 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:35:39.843 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:35:39.843 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.7888ms
2025-07-18 16:35:39.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:35:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.0503ms
2025-07-18 16:35:39.850 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:35:39.852 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:35:39.852 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.5945ms
2025-07-18 16:35:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:35:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5197ms
2025-07-18 16:35:39.858 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:35:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:35:39.882 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.1053ms
2025-07-18 16:35:39.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:35:39.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.9347ms
2025-07-18 16:36:39.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:36:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:36:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:36:39.798 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:36:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:36:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:36:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:36:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:36:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:36:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:36:39.799 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:36:39.799 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:36:39.817 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:36:39.818 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:36:39.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.6442ms
2025-07-18 16:36:39.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:36:39.819 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:36:39.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:36:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.3836ms
2025-07-18 16:36:39.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:36:39.831 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:36:39.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:36:39.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.3256ms
2025-07-18 16:36:39.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:36:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6147ms
2025-07-18 16:36:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.3143ms
2025-07-18 16:36:39.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.9907ms
2025-07-18 16:37:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:37:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:37:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:37:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:37:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:37:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:37:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:37:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:37:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:37:39.833 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:37:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:37:39.833 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:37:39.867 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:37:39.869 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:37:39.869 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:37:39.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 37.3478ms
2025-07-18 16:37:39.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:37:39.872 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.1395ms
2025-07-18 16:37:39.874 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:37:39.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.1774ms
2025-07-18 16:37:39.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:37:39.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.6788ms
2025-07-18 16:37:39.902 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:37:39.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:37:39.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.0599ms
2025-07-18 16:37:39.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:37:39.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.0582ms
2025-07-18 16:38:39.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:38:39.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:38:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:38:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:38:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:38:39.835 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:38:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:38:39.836 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:38:39.836 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:38:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:38:39.836 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:38:39.839 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:38:39.851 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:38:39.855 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:38:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:38:39.855 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.2106ms
2025-07-18 16:38:39.855 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:38:39.855 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:38:39.855 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.9085ms
2025-07-18 16:38:39.859 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8147ms
2025-07-18 16:38:39.860 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:38:39.862 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.8792ms
2025-07-18 16:38:39.868 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:38:39.870 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:38:39.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.5368ms
2025-07-18 16:38:39.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:38:39.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.3074ms
2025-07-18 16:39:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:39:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:39:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:39:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:39:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:39:39.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:39:39.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:39:39.804 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:39:39.820 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:39:39.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:39:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:39:39.822 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:39:39.822 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:39:39.822 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:39:39.824 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:39:39.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.2896ms
2025-07-18 16:39:39.825 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:39:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:39:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.0661ms
2025-07-18 16:39:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:39:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.9292ms
2025-07-18 16:39:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3314ms
2025-07-18 16:39:39.847 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:39:39.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:39:39.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.5656ms
2025-07-18 16:39:39.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:39:39.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.8096ms
2025-07-18 16:40:39.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:40:39.800 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:40:39.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:40:39.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:40:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:40:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:40:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:40:39.806 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:40:39.820 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:40:39.822 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:40:39.822 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.0843ms
2025-07-18 16:40:39.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:40:39.823 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:40:39.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:40:39.823 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.8986ms
2025-07-18 16:40:39.826 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:40:39.833 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:40:39.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8745ms
2025-07-18 16:40:39.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.2108ms
2025-07-18 16:40:39.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:40:39.833 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:40:39.833 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:40:39.843 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:40:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:40:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.4827ms
2025-07-18 16:40:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:40:39.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.3273ms
2025-07-18 16:41:39.814 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:41:39.818 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:41:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:41:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:41:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:41:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:41:39.819 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:41:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:41:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:41:39.819 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:41:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:41:39.819 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:41:39.824 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:41:39.825 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:41:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:41:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.9428ms
2025-07-18 16:41:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:41:39.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.0056ms
2025-07-18 16:41:39.839 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:41:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:41:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.0278ms
2025-07-18 16:41:39.840 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:41:39.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:41:39.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.3325ms
2025-07-18 16:41:39.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:41:39.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.9291ms
2025-07-18 16:41:39.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.6598ms
2025-07-18 16:42:39.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:42:39.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:42:39.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:42:39.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:42:39.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:42:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:42:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:42:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:42:39.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:42:39.821 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:42:39.821 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:42:39.822 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:42:39.843 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:42:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:42:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.6328ms
2025-07-18 16:42:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:42:39.847 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:42:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.9296ms
2025-07-18 16:42:39.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:42:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.6443ms
2025-07-18 16:42:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:42:39.848 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:42:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1122ms
2025-07-18 16:42:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:42:39.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.517ms
2025-07-18 16:42:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:42:39.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.9489ms
2025-07-18 16:43:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:43:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:43:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:43:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:43:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:43:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:43:39.855 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:43:39.855 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:43:39.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:43:39.876 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:43:39.876 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:43:39.877 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:43:39.879 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:43:39.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:43:39.885 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.2491ms
2025-07-18 16:43:39.885 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:43:39.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5828ms
2025-07-18 16:43:39.896 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:43:39.897 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:43:39.910 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:43:39.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.6707ms
2025-07-18 16:43:39.911 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:43:39.917 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:43:39.917 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 62.1718ms
2025-07-18 16:43:39.918 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:43:39.946 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 71.6407ms
2025-07-18 16:43:39.946 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 92.0634ms
2025-07-18 16:44:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:44:39.802 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:44:39.802 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:44:39.802 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:44:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:44:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:44:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:44:39.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:44:39.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:44:39.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:44:39.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:44:39.813 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:44:39.834 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:44:39.834 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:44:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:44:39.836 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:44:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.5454ms
2025-07-18 16:44:39.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.9156ms
2025-07-18 16:44:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:44:39.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:44:39.839 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:44:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.8184ms
2025-07-18 16:44:39.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8927ms
2025-07-18 16:44:39.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:44:39.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.1567ms
2025-07-18 16:44:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:44:39.840 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4685ms
2025-07-18 16:45:39.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:45:39.799 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:45:39.799 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:45:39.799 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:45:39.801 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:45:39.805 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:45:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:45:39.806 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:45:39.830 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:45:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:45:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.1675ms
2025-07-18 16:45:39.838 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:45:39.838 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:45:39.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:45:39.838 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.5393ms
2025-07-18 16:45:39.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:45:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.0374ms
2025-07-18 16:45:39.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.7033ms
2025-07-18 16:45:39.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:45:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:45:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:45:39.855 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:45:39.877 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:45:39.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:45:39.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6066ms
2025-07-18 16:45:39.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:45:39.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.4432ms
2025-07-18 16:46:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:46:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:46:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:46:39.809 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:46:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:46:39.812 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:46:39.812 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:46:39.812 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:46:39.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:46:39.827 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:46:39.827 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:46:39.828 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:46:39.843 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:46:39.844 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:46:39.844 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:46:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:46:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:46:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.5447ms
2025-07-18 16:46:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.4981ms
2025-07-18 16:46:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:46:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:46:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:46:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.0354ms
2025-07-18 16:46:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.8686ms
2025-07-18 16:46:39.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.2526ms
2025-07-18 16:46:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:46:39.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.8276ms
2025-07-18 16:47:39.804 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:47:39.804 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:47:39.805 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:47:39.805 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:47:39.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:47:39.808 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:47:39.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:47:39.808 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:47:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:47:39.830 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:47:39.831 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:47:39.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:47:39.851 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:47:39.851 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:47:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:47:39.853 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:47:39.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.1887ms
2025-07-18 16:47:39.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.325ms
2025-07-18 16:47:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:47:39.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:47:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.3202ms
2025-07-18 16:47:39.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.8517ms
2025-07-18 16:47:39.859 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:47:39.881 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:47:39.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.2254ms
2025-07-18 16:47:39.882 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:47:39.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.1797ms
2025-07-18 16:48:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:48:39.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:48:39.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:48:39.813 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:48:39.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:48:39.817 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:48:39.817 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:48:39.818 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:48:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:48:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:48:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:48:39.820 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:48:39.832 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:48:39.834 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:48:39.834 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:48:39.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.1838ms
2025-07-18 16:48:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:48:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0269ms
2025-07-18 16:48:39.835 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:48:39.845 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:48:39.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.0451ms
2025-07-18 16:48:39.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:48:39.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:48:39.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.7661ms
2025-07-18 16:48:39.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:48:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1014ms
2025-07-18 16:48:39.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.0828ms
2025-07-18 16:58:44.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:58:44.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:58:44.024 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:44.024 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:44.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:58:44.031 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:58:44.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:58:44.033 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:58:44.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:58:44.051 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:44.052 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:44.053 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:58:44.063 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:58:44.064 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:58:44.064 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:58:44.064 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:44.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.3668ms
2025-07-18 16:58:44.065 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:44.065 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:58:44.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.7264ms
2025-07-18 16:58:44.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:58:44.065 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.1927ms
2025-07-18 16:58:44.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:58:44.065 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:44.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.2347ms
2025-07-18 16:58:44.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.1807ms
2025-07-18 16:58:44.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.6044ms
2025-07-18 16:58:45.729 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 16:58:45.730 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.730 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.8659ms
2025-07-18 16:58:45.734 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 16:58:45.734 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.735 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 16:58:45.735 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 16:58:45.737 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:58:45.737 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 2.0742ms
2025-07-18 16:58:45.737 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 16:58:45.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.5145ms
2025-07-18 16:58:45.740 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 16:58:45.740 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.740 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 16:58:45.740 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 16:58:45.740 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:58:45.741 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4003ms
2025-07-18 16:58:45.741 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 16:58:45.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.3814ms
2025-07-18 16:58:45.960 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 16:58:45.960 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-18 16:58:45.961 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.961 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.961 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.7456ms
2025-07-18 16:58:45.961 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.7658ms
2025-07-18 16:58:45.961 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-18 16:58:45.961 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 16:58:45.961 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.962 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.4534ms
2025-07-18 16:58:45.962 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.962 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.5165ms
2025-07-18 16:58:45.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 16:58:45.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 16:58:45.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 16:58:45.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 16:58:45.965 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.965 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.965 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.965 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 16:58:45.965 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 16:58:45.965 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.965 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 16:58:45.965 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 16:58:45.965 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 16:58:45.965 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 16:58:45.965 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 16:58:45.965 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 16:58:45.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:58:45.979 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:45.979 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:58:45.983 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 16:58:45.987 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 16:58:45.987 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 16:58:45.987 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:45.988 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 22.2221ms
2025-07-18 16:58:45.988 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 16:58:45.988 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 23.205ms
2025-07-18 16:58:45.988 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:45.989 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 23.4218ms
2025-07-18 16:58:45.989 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 16:58:45.989 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:58:45.990 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 25.3661ms
2025-07-18 16:58:45.991 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:58:45.991 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.9016ms
2025-07-18 16:58:45.991 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:45.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-18 16:58:45.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-18 16:58:45.991 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.7039ms
2025-07-18 16:58:45.992 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.992 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 16:58:45.992 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 16:58:45.992 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 16:58:45.992 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-18 16:58:45.994 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:58:45.995 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:45.998 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:46.001 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:58:46.001 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.010 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-18 16:58:46.012 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.012 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:58:46.012 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-18 16:58:46.013 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 20.4912ms
2025-07-18 16:58:46.013 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-18 16:58:46.015 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:58:46.015 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.6822ms
2025-07-18 16:58:46.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:58:46.016 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.016 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 25.3238ms
2025-07-18 16:58:46.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5853ms
2025-07-18 16:58:46.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 29.4631ms
2025-07-18 16:58:46.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-18 16:58:46.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 30.397ms
2025-07-18 16:58:46.027 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 16:58:46.027 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.027 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.027 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 61.9338ms
2025-07-18 16:58:46.027 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 16:58:46.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 62.8208ms
2025-07-18 16:58:46.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-18 16:58:46.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.030 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:46.030 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 16:58:46.030 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-18 16:58:46.031 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.032 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-18 16:58:46.036 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.039 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 8.4972ms
2025-07-18 16:58:46.039 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.039 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-18 16:58:46.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 9.9402ms
2025-07-18 16:58:46.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.042 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.043 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.045 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.047 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.049 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.051 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.052 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.056 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.057 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.060 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.062 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.066 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.069 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.070 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.072 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.073 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.077 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.077 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.078 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.079 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.081 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.082 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.083 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.084 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.085 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.086 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.088 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.089 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.090 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.092 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.092 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.093 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.094 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.095 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.096 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.097 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.098 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.099 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.100 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.101 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.102 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.103 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.104 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.105 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.107 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.108 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.109 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.110 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.112 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.113 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.117 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.119 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.120 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.121 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.123 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.124 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.125 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.128 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.129 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.136 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.137 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.139 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.140 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.141 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.142 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 177.1771ms
2025-07-18 16:58:46.143 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 16:58:46.143 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 178.1184ms
2025-07-18 16:58:46.145 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-18 16:58:46.145 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:58:46.145 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 16:58:46.145 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 16:58:46.147 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-18 16:58:46.153 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.155 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.156 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.158 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.163 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.164 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.166 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.168 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.171 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.181 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.182 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.184 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.185 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.187 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.188 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.190 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.191 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.193 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.195 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.199 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.201 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.205 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.213 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.215 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.216 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.218 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.219 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.222 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.224 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.225 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.227 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.229 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.230 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.232 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.234 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.235 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.237 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.248 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.256 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.259 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.261 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.263 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.264 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.266 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.271 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.274 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.276 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.280 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.284 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.290 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.296 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.303 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.305 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-18 16:58:46.309 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:58:46.311 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 165.652ms
2025-07-18 16:58:46.311 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-18 16:58:46.311 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 166.2231ms
2025-07-18 16:59:16.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:16.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:16.813 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:16.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:59:16.814 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:16.814 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:59:16.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:59:16.814 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:59:16.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:16.828 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:59:16.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:16.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:59:16.830 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:59:16.832 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:59:16.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2936ms
2025-07-18 16:59:16.832 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:59:16.833 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:59:16.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.1202ms
2025-07-18 16:59:16.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:59:16.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:59:16.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3725ms
2025-07-18 16:59:16.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.8361ms
2025-07-18 16:59:16.857 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:59:16.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:59:16.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.5295ms
2025-07-18 16:59:16.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:59:16.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.7039ms
2025-07-18 16:59:46.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:46.797 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:46.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:46.797 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:46.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:59:46.797 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:59:46.797 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:59:46.798 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 16:59:46.816 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 16:59:46.818 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 16:59:46.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.518ms
2025-07-18 16:59:46.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 16:59:46.819 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 16:59:46.819 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:59:46.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.4623ms
2025-07-18 16:59:46.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 16:59:46.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.5378ms
2025-07-18 16:59:46.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 16:59:46.826 +00:00 [INF] CORS policy execution successful.
2025-07-18 16:59:46.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:59:46.826 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 16:59:46.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.1782ms
2025-07-18 16:59:46.843 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 16:59:46.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 16:59:46.845 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.8519ms
2025-07-18 16:59:46.845 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 16:59:46.845 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.3957ms
2025-07-18 17:00:16.803 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:16.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:16.803 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:00:16.804 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:00:16.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:16.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:16.807 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:00:16.808 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:00:16.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:16.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:16.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:00:16.835 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 17:00:16.863 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 17:00:16.864 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 17:00:16.865 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 17:00:16.867 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 17:00:16.867 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:00:16.867 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:00:16.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.1995ms
2025-07-18 17:00:16.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.0045ms
2025-07-18 17:00:16.867 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.2929ms
2025-07-18 17:00:16.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:00:16.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:00:16.867 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:00:16.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 59.9567ms
2025-07-18 17:00:16.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 64.8222ms
2025-07-18 17:00:16.877 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.1804ms
2025-07-18 17:00:46.802 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:46.803 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:46.804 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:00:46.808 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:00:46.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:46.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:46.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:00:46.809 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:00:46.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:00:46.844 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:00:46.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:00:46.851 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 17:00:46.909 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 17:00:46.911 +00:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 17:00:46.913 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 17:00:46.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:00:46.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 106.1929ms
2025-07-18 17:00:46.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:00:46.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 107.2779ms
2025-07-18 17:00:46.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:00:46.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 107.8698ms
2025-07-18 17:00:46.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 114.8873ms
2025-07-18 17:00:46.927 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 17:00:46.937 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:00:46.939 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 86.5343ms
2025-07-18 17:00:46.939 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:00:46.940 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 100.1869ms
2025-07-18 17:01:16.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:16.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:16.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:01:16.807 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:01:16.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:16.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:16.809 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:16.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:16.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:01:16.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:01:16.810 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 17:01:16.814 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:01:16.852 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 17:01:16.859 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 17:01:16.860 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 17:01:16.875 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:01:16.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:01:16.887 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 17:01:16.888 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 73.6257ms
2025-07-18 17:01:16.889 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:01:16.892 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 83.7731ms
2025-07-18 17:01:16.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:01:16.894 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 78.3026ms
2025-07-18 17:01:16.896 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:01:16.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 91.0516ms
2025-07-18 17:01:16.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 87.1565ms
2025-07-18 17:01:16.904 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.9882ms
2025-07-18 17:01:46.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:46.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:46.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:46.811 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:46.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:01:46.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:01:46.814 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:01:46.815 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:01:46.852 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 17:01:46.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:01:46.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 42.3797ms
2025-07-18 17:01:46.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:01:46.858 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 17:01:46.858 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 17:01:46.858 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.7255ms
2025-07-18 17:01:46.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:01:46.885 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:01:46.888 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:01:46.888 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:01:46.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.6531ms
2025-07-18 17:01:46.888 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 78.3173ms
2025-07-18 17:01:46.889 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 17:01:46.916 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 17:01:46.919 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:01:46.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.0307ms
2025-07-18 17:01:46.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:01:46.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.5345ms
2025-07-18 17:59:33.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:59:33.009 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:59:33.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:59:33.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:59:33.009 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:59:33.010 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:59:33.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:59:33.010 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 17:59:33.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 17:59:33.010 +00:00 [INF] CORS policy execution successful.
2025-07-18 17:59:33.010 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:59:33.011 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 17:59:33.034 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 17:59:33.045 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 17:59:33.050 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 17:59:33.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1996ms
2025-07-18 17:59:33.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 17:59:33.050 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.0699ms
2025-07-18 17:59:33.085 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:59:33.085 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 75.9491ms
2025-07-18 17:59:33.086 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 17:59:33.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 99.3561ms
2025-07-18 17:59:33.100 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 17:59:33.116 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 17:59:33.117 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 106.1209ms
2025-07-18 17:59:33.120 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 17:59:33.120 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 110.8167ms
2025-07-18 18:00:39.805 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:00:39.806 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:00:39.806 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:00:39.806 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:00:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:00:39.820 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:00:39.820 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:00:39.821 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:00:39.833 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:00:39.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:00:39.834 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:00:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:00:39.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:00:39.835 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.9363ms
2025-07-18 18:00:39.835 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:00:39.835 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:00:39.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5393ms
2025-07-18 18:00:39.845 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:00:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:00:39.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.3597ms
2025-07-18 18:00:39.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:00:39.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.2289ms
2025-07-18 18:00:39.890 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:00:39.891 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:00:39.891 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.8407ms
2025-07-18 18:00:39.891 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:00:39.892 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.0839ms
2025-07-18 18:01:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:01:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:01:39.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:01:39.846 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:01:39.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:01:39.866 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:01:39.867 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:01:39.867 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:01:39.906 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:01:39.909 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:01:39.913 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:01:39.940 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:01:39.941 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:01:39.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 73.7384ms
2025-07-18 18:01:39.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 94.6431ms
2025-07-18 18:01:39.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:01:39.941 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:01:39.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 99.4302ms
2025-07-18 18:01:39.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:01:40.093 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:01:40.094 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:01:40.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 238.7865ms
2025-07-18 18:01:40.134 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:01:40.182 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:01:41.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 1576.0515ms
2025-07-18 18:01:41.685 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:01:41.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 1775.7236ms
2025-07-18 18:02:39.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:02:39.819 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:02:39.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:02:39.819 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:02:39.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:02:39.858 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:02:39.859 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:02:39.859 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:02:39.891 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:02:39.892 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:02:39.897 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:02:39.898 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:02:39.899 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:02:39.900 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:02:39.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 83.1638ms
2025-07-18 18:02:39.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:02:39.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 85.1877ms
2025-07-18 18:02:39.904 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:02:39.911 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:02:39.911 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.2139ms
2025-07-18 18:02:39.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:02:39.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.5412ms
2025-07-18 18:02:39.939 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:02:39.940 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:02:39.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.6713ms
2025-07-18 18:02:39.942 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:02:39.942 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 52.4201ms
2025-07-18 18:03:39.841 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:03:39.841 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:03:39.842 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:03:39.842 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:03:39.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:03:39.854 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:03:39.854 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:03:39.854 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:03:39.891 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:03:39.891 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:03:39.892 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:03:39.892 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:03:39.902 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:03:39.903 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:03:39.903 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:03:39.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 68.2998ms
2025-07-18 18:03:39.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:03:39.911 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 70.3711ms
2025-07-18 18:03:39.922 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:03:39.923 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 69.0188ms
2025-07-18 18:03:39.924 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:03:39.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.4924ms
2025-07-18 18:03:39.947 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:03:39.950 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:03:39.950 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 57.8487ms
2025-07-18 18:03:39.950 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:03:39.950 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.4058ms
2025-07-18 18:04:39.847 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:04:39.847 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:04:39.847 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:04:39.848 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:04:39.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:04:39.863 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:04:39.863 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:04:39.863 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:04:39.872 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:04:39.877 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:04:39.877 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:04:39.878 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:04:39.967 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:04:39.969 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:04:39.969 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:04:39.970 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 122.5011ms
2025-07-18 18:04:39.970 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:04:39.972 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:04:39.973 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 125.8073ms
2025-07-18 18:04:39.973 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 109.2033ms
2025-07-18 18:04:39.973 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:04:39.973 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 112.7658ms
2025-07-18 18:04:39.992 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:04:39.995 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:04:39.995 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.4315ms
2025-07-18 18:04:39.996 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:04:39.996 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 123.9963ms
2025-07-18 18:05:39.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:05:39.833 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:05:39.834 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:05:39.835 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:05:39.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:05:39.919 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:05:39.919 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:05:39.919 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:05:39.933 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:05:39.935 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:05:39.936 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:05:39.937 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:05:39.949 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:05:39.949 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:05:39.949 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 114.5337ms
2025-07-18 18:05:39.950 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:05:39.950 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 118.1852ms
2025-07-18 18:05:39.961 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:05:39.964 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:05:39.965 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.5608ms
2025-07-18 18:05:39.965 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:05:39.965 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.8702ms
2025-07-18 18:05:39.982 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:05:39.985 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:05:39.985 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.8745ms
2025-07-18 18:05:39.986 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:05:39.986 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.6558ms
2025-07-18 18:06:39.911 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:06:39.911 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:06:39.912 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:06:39.912 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:06:39.930 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:06:39.934 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:06:39.935 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:06:39.935 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:06:39.964 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:06:39.965 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:06:39.966 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:06:39.967 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.5236ms
2025-07-18 18:06:39.968 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:06:39.968 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:06:39.969 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:06:39.970 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.3514ms
2025-07-18 18:06:39.970 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:06:39.970 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:06:39.971 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:06:39.971 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.1182ms
2025-07-18 18:06:39.971 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:06:39.971 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.3308ms
2025-07-18 18:06:40.019 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:06:40.021 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:06:40.021 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.6482ms
2025-07-18 18:06:40.021 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:06:40.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.234ms
2025-07-18 18:07:39.855 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:07:39.855 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:07:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:07:39.856 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:07:39.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:07:39.876 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:07:39.877 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:07:39.879 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:07:39.883 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:07:39.886 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:07:39.886 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:07:39.886 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:07:39.896 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:07:39.897 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:07:39.897 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.9971ms
2025-07-18 18:07:39.897 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:07:39.901 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.957ms
2025-07-18 18:07:39.914 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:07:39.916 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:07:39.917 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.148ms
2025-07-18 18:07:39.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:07:39.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.7856ms
2025-07-18 18:07:39.920 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:07:39.926 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:07:39.927 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.3755ms
2025-07-18 18:07:39.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:07:39.930 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.751ms
2025-07-18 18:08:39.835 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:08:39.836 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:08:39.849 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:08:39.850 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:08:39.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:08:39.901 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:08:39.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:08:39.902 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:08:39.952 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:08:39.953 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:08:39.954 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:08:39.955 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:08:39.955 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:08:39.957 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 55.155ms
2025-07-18 18:08:39.957 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:08:39.957 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:08:39.958 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:08:39.958 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:08:39.959 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 108.1745ms
2025-07-18 18:08:39.959 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:08:39.959 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 124.0945ms
2025-07-18 18:08:39.967 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 73.9927ms
2025-07-18 18:08:39.985 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:08:39.985 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:08:39.986 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.045ms
2025-07-18 18:08:39.986 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:08:39.986 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.9476ms
2025-07-18 18:09:39.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:09:39.813 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:09:39.814 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:09:39.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:09:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:09:39.843 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:09:39.844 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:09:39.844 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:09:39.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:09:39.880 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:09:39.885 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:09:39.890 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:09:39.937 +00:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:09:39.937 +00:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:09:39.945 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:09:39.945 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:09:39.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 123.8907ms
2025-07-18 18:09:39.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 101.7657ms
2025-07-18 18:09:39.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:09:39.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:09:39.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 134.6374ms
2025-07-18 18:09:39.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 109.8423ms
2025-07-18 18:09:40.044 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:09:40.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:09:40.044 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 154.3531ms
2025-07-18 18:09:40.045 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:09:40.045 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 169.1127ms
2025-07-18 18:10:39.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:10:39.832 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:10:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:10:39.832 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:10:39.886 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:10:39.888 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:10:39.889 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:10:39.892 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:10:39.892 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:10:39.895 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:10:39.897 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:10:39.897 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:10:39.897 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:10:39.904 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:10:39.904 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 71.5051ms
2025-07-18 18:10:39.905 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:10:39.905 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.0034ms
2025-07-18 18:10:39.958 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:10:39.964 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:10:39.967 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 69.174ms
2025-07-18 18:10:39.968 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:10:39.971 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 86.1073ms
2025-07-18 18:10:39.971 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:10:39.976 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:10:39.979 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 85.6638ms
2025-07-18 18:10:39.979 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:10:39.979 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.7278ms
2025-07-18 18:11:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:11:39.830 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:11:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:11:39.831 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:11:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:11:39.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:11:39.838 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:11:39.839 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:11:39.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:11:39.902 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:11:39.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:11:39.907 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:11:39.953 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:11:39.956 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:11:39.960 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:11:39.960 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 121.8203ms
2025-07-18 18:11:39.961 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:11:39.961 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:11:39.961 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 132.0286ms
2025-07-18 18:11:39.961 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 122.6821ms
2025-07-18 18:11:39.962 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:11:39.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 132.772ms
2025-07-18 18:11:39.982 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:11:40.005 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:11:40.008 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 96.9816ms
2025-07-18 18:11:40.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:11:40.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 110.9928ms
2025-07-18 18:17:51.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:17:51.795 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:17:51.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:17:51.795 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:17:51.795 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:17:51.796 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:17:51.796 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:17:51.796 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:17:51.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:17:51.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:17:51.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:17:51.809 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:17:51.821 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:17:51.849 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:17:51.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 80.6961ms
2025-07-18 18:17:51.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:17:51.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.7564ms
2025-07-18 18:17:51.929 +00:00 [INF] Executed DbCommand (119ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:17:51.930 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:17:51.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 134.1974ms
2025-07-18 18:17:51.930 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:17:51.930 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 135.8901ms
2025-07-18 18:17:51.931 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:17:51.966 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:17:51.966 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 157.0915ms
2025-07-18 18:17:51.966 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:17:51.966 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 159.8785ms
2025-07-18 18:18:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:18:39.851 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:18:39.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:18:39.853 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:18:39.886 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:18:39.887 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:18:39.888 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:18:39.905 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:18:39.905 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:18:39.907 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:18:39.908 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:18:39.937 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:18:39.949 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:18:39.956 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:18:39.957 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:18:39.960 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.646ms
2025-07-18 18:18:39.960 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:18:39.960 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:18:39.960 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.8348ms
2025-07-18 18:18:39.960 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 106.9363ms
2025-07-18 18:18:39.960 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:18:39.961 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.4487ms
2025-07-18 18:18:39.995 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:18:39.998 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:18:39.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.7807ms
2025-07-18 18:18:40.000 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:18:40.003 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 97.9247ms
2025-07-18 18:19:39.823 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:19:39.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:19:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:19:39.828 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:19:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:19:39.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:19:39.829 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:19:39.829 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:19:39.861 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:19:39.864 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:19:39.867 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:19:39.868 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:19:39.869 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:19:39.895 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:19:39.912 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:19:39.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 85.3748ms
2025-07-18 18:19:39.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:19:39.916 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:19:39.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 92.1316ms
2025-07-18 18:19:39.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:19:39.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 100.4968ms
2025-07-18 18:19:39.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 120.021ms
2025-07-18 18:19:39.964 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:19:39.973 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:19:39.974 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 99.7334ms
2025-07-18 18:19:39.974 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:19:39.975 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 113.397ms
2025-07-18 18:20:39.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:20:39.864 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:20:39.866 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:20:39.867 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:20:39.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:20:39.896 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:20:39.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:20:39.896 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:20:39.923 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:20:39.930 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:20:39.930 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:20:39.931 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:20:39.954 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:20:39.954 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:20:39.956 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:20:39.957 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:20:39.957 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.0857ms
2025-07-18 18:20:39.958 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:20:39.958 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 91.8189ms
2025-07-18 18:20:39.959 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:20:39.959 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 63.7866ms
2025-07-18 18:20:39.959 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 96.3148ms
2025-07-18 18:20:39.981 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:20:39.982 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:20:39.983 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.3364ms
2025-07-18 18:20:39.983 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:20:39.983 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.4206ms
2025-07-18 18:56:08.336 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:08.479 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:08.481 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:56:08.484 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:56:08.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:08.790 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:08.790 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:56:08.790 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:56:08.933 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:08.933 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:08.933 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:56:08.933 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:56:09.403 +00:00 [INF] Executed DbCommand (469ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:56:09.404 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:56:09.405 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 920.5901ms
2025-07-18 18:56:09.405 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:56:09.405 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 1068.9583ms
2025-07-18 18:56:09.406 +00:00 [INF] Executed DbCommand (470ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:56:09.412 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:56:09.412 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 622.2803ms
2025-07-18 18:56:09.412 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:56:09.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 758.5281ms
2025-07-18 18:56:09.590 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:56:09.710 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:56:09.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 777.0075ms
2025-07-18 18:56:09.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:56:09.711 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 778.508ms
2025-07-18 18:56:40.074 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:40.074 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:40.085 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:40.085 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:56:40.085 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:40.085 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:56:40.085 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:56:40.086 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:56:40.086 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:56:40.087 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:56:40.097 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:56:40.097 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:56:40.111 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:56:40.115 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:56:40.115 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:56:40.116 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.2274ms
2025-07-18 18:56:40.116 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:56:40.116 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.2661ms
2025-07-18 18:56:40.116 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:56:40.116 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.601ms
2025-07-18 18:56:40.117 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:56:40.118 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.8937ms
2025-07-18 18:56:40.190 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:56:40.399 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:56:40.399 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 301.6811ms
2025-07-18 18:56:40.399 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:56:40.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 340.9627ms
2025-07-18 18:57:39.807 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:57:39.810 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:57:39.811 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:57:39.811 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:57:39.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:57:39.860 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:57:39.861 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:57:39.861 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:57:39.862 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:57:39.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:57:39.864 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.1514ms
2025-07-18 18:57:39.864 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:57:39.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:57:39.865 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:57:39.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 58.0485ms
2025-07-18 18:57:39.865 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:57:39.865 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:57:39.912 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:57:39.948 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:57:39.949 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 86.4659ms
2025-07-18 18:57:39.950 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:57:39.954 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 106.5842ms
2025-07-18 18:57:39.962 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:57:39.962 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:57:39.962 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 96.7044ms
2025-07-18 18:57:39.962 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:57:39.962 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 99.0227ms
2025-07-18 18:58:39.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:58:39.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:58:39.879 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:58:39.879 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:58:39.881 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:58:39.881 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:58:39.882 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:58:39.882 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:58:39.909 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:58:39.911 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:58:39.912 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:58:39.913 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:58:39.927 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:58:39.927 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:58:39.927 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 44.5964ms
2025-07-18 18:58:39.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:58:39.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.205ms
2025-07-18 18:58:39.928 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:58:39.928 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:58:39.928 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.2745ms
2025-07-18 18:58:39.928 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:58:39.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.2235ms
2025-07-18 18:58:39.958 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:58:39.972 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:58:39.973 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 59.9859ms
2025-07-18 18:58:39.974 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:58:39.974 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.5627ms
2025-07-18 18:59:39.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:59:39.896 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:59:39.897 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:59:39.897 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:59:39.924 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:59:39.924 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:59:39.925 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:59:39.925 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 18:59:39.931 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 18:59:39.932 +00:00 [INF] CORS policy execution successful.
2025-07-18 18:59:39.932 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:59:39.932 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 18:59:39.957 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 18:59:39.957 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 18:59:39.960 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:59:39.961 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 62.923ms
2025-07-18 18:59:39.961 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 18:59:39.961 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 65.2412ms
2025-07-18 18:59:39.992 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 18:59:39.992 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.9564ms
2025-07-18 18:59:39.993 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 18:59:40.002 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 18:59:40.006 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 18:59:40.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.7811ms
2025-07-18 18:59:40.007 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 74.7935ms
2025-07-18 18:59:40.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 18:59:40.010 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 80.4329ms
2025-07-18 19:00:39.879 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:00:39.880 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:00:39.880 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:00:39.880 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:00:39.961 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:00:39.966 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:00:39.967 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:00:39.967 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 19:00:39.970 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:00:39.971 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:00:39.972 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:00:39.972 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:00:39.981 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 19:00:39.983 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:00:39.984 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 103.349ms
2025-07-18 19:00:39.984 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:00:39.984 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 104.5595ms
2025-07-18 19:00:40.012 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 19:00:40.019 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:00:40.019 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 47.4282ms
2025-07-18 19:00:40.067 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:00:40.090 +00:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 19:00:40.110 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 140.1372ms
2025-07-18 19:00:40.166 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:00:40.200 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 232.6399ms
2025-07-18 19:00:40.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:00:40.295 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 333.8225ms
2025-07-18 19:01:39.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:01:39.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:01:39.845 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:01:39.846 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:01:39.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:01:39.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:01:39.857 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:01:39.857 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:01:39.901 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 19:01:39.902 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 19:01:39.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:01:39.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.4294ms
2025-07-18 19:01:39.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:01:39.924 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:01:39.925 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:01:39.925 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:01:39.925 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.9954ms
2025-07-18 19:01:39.925 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:01:39.925 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 68.1333ms
2025-07-18 19:01:39.927 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 19:01:39.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:01:39.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.8468ms
2025-07-18 19:01:39.955 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 19:01:39.955 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:01:39.955 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.9192ms
2025-07-18 19:01:39.955 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:01:39.955 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8404ms
2025-07-18 19:02:39.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:02:39.829 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:02:39.830 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:02:39.831 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:02:39.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:02:39.850 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:02:39.857 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:02:39.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:02:39.857 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:02:39.858 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:02:39.858 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 19:02:39.858 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:02:39.861 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 19:02:39.861 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:02:39.861 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.455ms
2025-07-18 19:02:39.861 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:02:39.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.9055ms
2025-07-18 19:02:39.889 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 19:02:39.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:02:39.924 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 66.5623ms
2025-07-18 19:02:39.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:02:39.928 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 19:02:39.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 79.7456ms
2025-07-18 19:02:39.929 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:02:39.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.4344ms
2025-07-18 19:02:39.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:02:39.941 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 84.5466ms
2025-07-18 19:03:21.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:03:21.064 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:21.064 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:03:21.065 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:03:21.077 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-18 19:03:21.110 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:03:21.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:03:21.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-18 19:03:21.143 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 78.4447ms
2025-07-18 19:03:21.143 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:21.144 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-18 19:03:21.144 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:21.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 80.3883ms
2025-07-18 19:03:21.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:03:21.144 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-18 19:03:21.147 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:03:21.147 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-18 19:03:21.161 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-18 19:03:21.163 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:03:21.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.345ms
2025-07-18 19:03:21.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-18 19:03:21.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.3819ms
2025-07-18 19:03:21.199 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-18 19:03:21.203 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-18 19:03:21.203 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.9023ms
2025-07-18 19:03:21.203 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-18 19:03:21.203 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.1889ms
2025-07-18 19:03:23.785 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-18 19:03:23.786 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:23.786 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.3535ms
2025-07-18 19:03:23.790 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 19:03:23.791 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:23.791 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 19:03:23.791 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 19:03:23.792 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:03:23.792 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4858ms
2025-07-18 19:03:23.792 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 19:03:23.792 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.826ms
2025-07-18 19:03:23.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-18 19:03:23.807 +00:00 [INF] CORS policy execution successful.
2025-07-18 19:03:23.807 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 19:03:23.808 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-18 19:03:23.808 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-18 19:03:23.809 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.1759ms
2025-07-18 19:03:23.809 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-18 19:03:23.809 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.9942ms
